/* ============================================
   WEEBMASTER - Styles CSS
   ============================================ */


[v-cloak] {
    display: none !important;
}

:root {
    /* Dark Theme (d√©faut) - Style Manga Dor√© */
    --bg-primary: #0a0a0a;
    --bg-secondary: #1a1a1a;
    --bg-card: #1f1f1f;
    --text-primary: #ffffff;
    --text-secondary: #a0a0a0;
    --neon-primary: #FFD700;
    --neon-secondary: #FFA500;
    --accent-color: #FF8C00;
    --success-color: #10b981;
    --error-color: #ef4444;
    --warning-color: #FFA500;
}


* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}


body {
    font-family: 'Poppins', sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    overflow: hidden;
    height: 100vh;
    position: fixed;
    /* Garde √ßa pour bloquer le scroll */
    width: 100%;
    transition: background 0.3s ease, color 0.3s ease;
}

/* üÜï PERMETTRE le pull-to-refresh mais bloquer le scroll horizontal */
html,
body {
    overscroll-behavior-x: none;
    /* Bloquer bounce horizontal uniquement */
    overscroll-behavior-y: auto;
    /* üÜï Autoriser bounce vertical = pull-to-refresh */
}

/* ============================================
   PARTICLES BACKGROUND
   ============================================ */
#particles-js {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 0;
}

/* ============================================
   MAIN CONTAINER
   ============================================ */
.main-container {
    position: relative;
    z-index: 1;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1rem;
}

/* ============================================
   HEADER SECTION
   ============================================ */
.header-section {
    text-align: center;
    margin-bottom: 2rem;
    animation: fadeInDown 0.8s ease;
}

/* Welcome screen √©pur√© */
.welcome-screen {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 60vh;
    gap: 3rem;
}

/* Cacher le texte avant l'animation */
.welcome-screen .neon-text,
.welcome-screen .neon-text-alt {
    visibility: hidden;
}

.logo-title {
    font-size: 4.0rem;
    font-weight: 900;
    margin-bottom: 0.5rem;
    letter-spacing: 0.1rem;
}

.neon-text {
    color: var(--neon-primary);
    text-shadow:
        0 0 0.5rem var(--neon-primary),
        0 0 1rem var(--neon-primary),
        0 0 2rem var(--neon-primary);
    animation: neonPulse 2s ease-in-out infinite;
}

.neon-text-alt {
    color: var(--neon-secondary);
    text-shadow:
        0 0 0.5rem var(--neon-secondary),
        0 0 1rem var(--neon-secondary),
        0 0 2rem var(--neon-secondary);
    animation: neonPulse 2s ease-in-out infinite 0.5s;
}

@keyframes neonPulse {

    0%,
    100% {
        text-shadow:
            0 0 0.5rem currentColor,
            0 0 1rem currentColor,
            0 0 2rem currentColor;
    }

    50% {
        text-shadow:
            0 0 1rem currentColor,
            0 0 2rem currentColor,
            0 0 4rem currentColor;
    }
}

.subtitle {
    font-size: 0.96rem;
    color: var(--text-secondary);
    font-weight: 300;
}

.live-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.3125rem;
    background: rgba(239, 68, 68, 0.2);
    padding: 0.3125rem 0.875rem;
    border-radius: 0.875rem;
    border: 0.0875rem solid #ef4444;
    margin-top: 0.75rem;
    font-weight: 600;
    font-size: 0.8rem;
    animation: pulse 2s infinite;
}

.pulse-dot {
    width: 0.375rem;
    height: 0.375rem;
    background: #ef4444;
    border-radius: 50%;
    animation: pulseDot 1.5s infinite;
}

@keyframes pulseDot {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.5;
        transform: scale(1.2);
    }
}

/* üÜï Badge EN LIVE discret en bas (pour non-connect√©s) */
.live-badge-bottom {
    position: fixed;
    bottom: 1.5rem;
    left: 50%;
    transform: translateX(-50%);
    display: inline-flex;
    align-items: center;
    gap: 0.3rem;
    background: rgba(239, 68, 68, 0.15);
    padding: 0.3rem 0.8125rem;
    border-radius: 0.8125rem;
    border: 0.075rem solid rgba(239, 68, 68, 0.4);
    font-weight: 500;
    font-size: 0.68rem;
    opacity: 0.8;
    z-index: 100;
    animation: subtlePulse 3s infinite;
}

.pulse-dot-small {
    width: 0.4rem;
    height: 0.4rem;
    background: #ef4444;
    border-radius: 50%;
    animation: pulseDot 1.5s infinite;
}

@keyframes subtlePulse {

    0%,
    100% {
        opacity: 0.8;
    }

    50% {
        opacity: 0.6;
    }
}

/* ============================================
   CONTENT SECTION
   ============================================ */
.content-section {
    max-width: 30rem;
    width: 100%;
    animation: fadeInUp 0.8s ease;
}

/* D√©sactiver l'animation pour BombAnime (le transform cr√©e un containing block qui casse position:fixed) */
.content-section.no-animation {
    animation: none;
}

.game-section {
    max-width: 62.5rem;
    width: 100%;
    margin-top: -1.25rem;
}

/* ============================================
   CARDS
   ============================================ */
.info-card,
.lobby-card,
.question-card,
.results-card,
.gameover-card {
    background: var(--bg-card);
    border-radius: 1rem;
    padding: 2rem;
    box-shadow: 0 0.5rem 2rem rgba(0, 0, 0, 0.3);
    border: 0.05rem solid rgba(255, 255, 255, 0.1);
    margin-bottom: 1rem;
    transition: all 0.3s ease;
}


.icon-large {
    font-size: 3.2rem;
    margin-bottom: 1rem;
    animation: bounce 2s infinite;
}

@keyframes bounce {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-0.5rem);
    }
}

.info-card h2,
.lobby-card h2 {
    font-size: 1.1rem;
    margin-bottom: 0.75rem;
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.info-card p {
    font-size: 0.88rem;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
}

.small-text {
    font-size: 0.72rem;
    opacity: 0.7;
}

/* ============================================
   USER WELCOME
   ============================================ */
.user-welcome {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
    /* Augmenter */
    text-align: left;
}

.avatar-icon {
    width: 3rem;
    height: 3rem;
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
}

.welcome-text {
    color: var(--text-secondary);
    font-size: 0.72rem;
    margin-bottom: 0.25rem;
}

.username {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-primary);
}

.separator {
    height: 2px;
    width: 50%;
    /* Ajouter */
    margin: 0 auto 1.25rem;
    /* Modifier */
    background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent);
}

/* ============================================
   LOBBY - MODIFI√â POUR HORIZONTAL
   ============================================ */
.lobby-card {
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(0.625rem);
    border: 0.0625rem solid rgba(255, 193, 7, 0.3);
    border-radius: 1.25rem;
    padding: 1.875rem;
    max-width: 40.625rem;
    margin: 0 auto 1rem auto;
}

/* ==================== MODE RIVALIT√â - S√âLECTION √âQUIPE ==================== */
/* ==========================================
   RIVALRY MODAL - V9 Cyberpunk
   ========================================== */
.rivalry-modal {
    background: linear-gradient(180deg, rgba(8, 8, 12, 0.98) 0%, rgba(5, 5, 8, 0.99) 100%);
    border: 1px solid rgba(240, 192, 64, 0.2);
    padding: 2rem 1.5rem;
    text-align: center;
    position: relative;
    clip-path: polygon(0 10px, 10px 0, calc(100% - 10px) 0, 100% 10px, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0 calc(100% - 10px));
    margin-bottom: 1rem;
}

.rivalry-modal::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 50%;
    height: 2px;
    background: linear-gradient(90deg, transparent, #f0c040, transparent);
}

.rivalry-modal-title {
    font-size: 1rem;
    font-weight: 700;
    color: #f0c040;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-bottom: 0.4rem;
}

.rivalry-modal-subtitle {
    font-size: 0.6rem;
    color: rgba(255, 255, 255, 0.35);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 1.5rem;
}

.rivalry-teams {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.rivalry-team-card {
    flex: 1;
    max-width: 145px;
    padding: 1.5rem 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid;
    position: relative;
    clip-path: polygon(0 8px, 8px 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%);
    overflow: visible;
}

.rivalry-team-card.team-blue {
    border-color: rgba(59, 130, 246, 0.5);
}

.rivalry-team-card.team-gold {
    border-color: rgba(240, 192, 64, 0.5);
}

/* Double border effect */
.rivalry-team-card::after {
    content: '';
    position: absolute;
    inset: -4px;
    border: 1px solid transparent;
    clip-path: polygon(0 8px, 8px 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%);
    transition: all 0.3s ease;
    opacity: 0;
    pointer-events: none;
}

.rivalry-team-card.team-blue::after {
    border-color: rgba(59, 130, 246, 0.5);
}

.rivalry-team-card.team-gold::after {
    border-color: rgba(240, 192, 64, 0.5);
}

/* Hover state */
.rivalry-team-card:not(.disabled):hover::after {
    inset: -8px;
    opacity: 1;
}

.rivalry-team-card.team-blue:not(.disabled):hover {
    background: rgba(59, 130, 246, 0.1);
    border-color: #3b82f6;
    box-shadow: 0 0 30px rgba(59, 130, 246, 0.3);
}

.rivalry-team-card.team-gold:not(.disabled):hover {
    background: rgba(240, 192, 64, 0.1);
    border-color: #f0c040;
    box-shadow: 0 0 30px rgba(240, 192, 64, 0.3);
}

.rivalry-team-card:not(.disabled):hover .rivalry-team-icon {
    filter: drop-shadow(0 0 12px currentColor);
    transform: scale(1.1);
}

/* Selected state */
.rivalry-team-card.selected.team-blue {
    background: rgba(59, 130, 246, 0.15);
    border-color: #3b82f6;
    box-shadow: 0 0 30px rgba(59, 130, 246, 0.4);
}

.rivalry-team-card.selected.team-gold {
    background: rgba(240, 192, 64, 0.15);
    border-color: #f0c040;
    box-shadow: 0 0 30px rgba(240, 192, 64, 0.4);
}

.rivalry-team-card.selected::after {
    inset: -8px;
    opacity: 1;
}

.rivalry-team-card.selected .rivalry-team-icon {
    filter: drop-shadow(0 0 12px currentColor);
    transform: scale(1.1);
}

/* Disabled state */
.rivalry-team-card.disabled {
    opacity: 0.2;
    cursor: not-allowed;
    filter: grayscale(0.6);
}

.rivalry-team-card.disabled::after {
    opacity: 0 !important;
}

/* Icon */
.rivalry-team-icon {
    width: 38px;
    height: 38px;
    margin: 0 auto 0.75rem;
    transition: all 0.3s ease;
}

.rivalry-team-card.team-blue .rivalry-team-icon {
    color: #60a5fa;
}

.rivalry-team-card.team-gold .rivalry-team-icon {
    color: #fcd34d;
}

/* Team name */
.rivalry-team-name {
    font-size: 0.85rem;
    font-weight: 700;
    margin-bottom: 0.25rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
}

.rivalry-team-card.team-blue .rivalry-team-name {
    color: #60a5fa;
}

.rivalry-team-card.team-gold .rivalry-team-name {
    color: #fcd34d;
}

/* Team count */
.rivalry-team-count {
    font-size: 0.55rem;
    color: rgba(255, 255, 255, 0.4);
    transition: all 0.3s ease;
}

/* Responsive mobile pour le modal rivalry */
@media (max-width: 480px) {
    .rivalry-modal {
        padding: 1.5rem 1rem;
        margin: 0 1rem 1rem;
    }

    .rivalry-modal-title {
        font-size: 0.85rem;
        letter-spacing: 2px;
    }

    .rivalry-modal-subtitle {
        font-size: 0.5rem;
        margin-bottom: 1.25rem;
    }

    .rivalry-teams {
        gap: 0.75rem;
    }

    .rivalry-team-card {
        max-width: 120px;
        padding: 1.2rem 0.75rem;
    }

    .rivalry-team-icon {
        width: 32px;
        height: 32px;
        margin-bottom: 0.6rem;
    }

    .rivalry-team-name {
        font-size: 0.75rem;
    }

    .rivalry-team-count {
        font-size: 0.5rem;
    }
}

/* ==========================================
   OLD STYLES (kept for backwards compatibility)
   ========================================== */
.team-choice-status {
    text-align: center;
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.4);
    margin: -0.5rem 0 1rem 0;
    transition: color 0.3s ease;
}

.team-choice-status span {
    color: rgba(240, 192, 64, 0.6);
}

.teams-container {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 1.25rem;
}

.team-card {
    flex: 1;
    padding: 1rem 0.75rem;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
    position: relative;
}

.team-card.team-blue {
    background: linear-gradient(180deg, rgba(59, 130, 246, 0.08) 0%, rgba(59, 130, 246, 0.02) 100%);
    border: 1px solid rgba(59, 130, 246, 0.3);
}

.team-card.team-blue:hover:not(.cooldown) {
    border-color: rgba(59, 130, 246, 0.6);
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.3);
}

.team-card.team-blue.selected {
    border-color: #3b82f6;
    box-shadow: 0 0 10px #3b82f6, 0 0 25px rgba(59, 130, 246, 0.4), 0 0 40px rgba(59, 130, 246, 0.2);
    background: linear-gradient(180deg, rgba(59, 130, 246, 0.15) 0%, rgba(59, 130, 246, 0.05) 100%);
}

.team-card.team-gold {
    background: linear-gradient(180deg, rgba(240, 192, 64, 0.08) 0%, rgba(240, 192, 64, 0.02) 100%);
    border: 1px solid rgba(240, 192, 64, 0.3);
}

.team-card.team-gold:hover:not(.cooldown) {
    border-color: rgba(240, 192, 64, 0.6);
    box-shadow: 0 0 8px rgba(240, 192, 64, 0.3);
}

.team-card.team-gold.selected {
    border-color: #f0c040;
    box-shadow: 0 0 10px #f0c040, 0 0 25px rgba(240, 192, 64, 0.4), 0 0 40px rgba(240, 192, 64, 0.2);
    background: linear-gradient(180deg, rgba(240, 192, 64, 0.15) 0%, rgba(240, 192, 64, 0.05) 100%);
}

.team-card.cooldown {
    opacity: 0.5;
    cursor: not-allowed;
}

.team-icon {
    width: 32px;
    height: 32px;
    margin: 0 auto 0.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    transition: all 0.3s ease;
}

.team-card.team-blue .team-icon {
    background: rgba(59, 130, 246, 0.15);
}

.team-card.team-blue.selected .team-icon {
    background: rgba(59, 130, 246, 0.3);
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
}

.team-card.team-gold .team-icon {
    background: rgba(240, 192, 64, 0.15);
}

.team-card.team-gold.selected .team-icon {
    background: rgba(240, 192, 64, 0.3);
    box-shadow: 0 0 15px rgba(240, 192, 64, 0.4);
}

.team-card .team-name {
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 0.2rem;
}

.team-card.team-blue .team-name {
    color: #60a5fa;
}

.team-card.team-gold .team-name {
    color: #f0c040;
}

.team-card .team-count {
    font-size: 0.6rem;
    color: rgba(255, 255, 255, 0.4);
}

/* Bouton rejoint en vert */
.btn-primary.joined {
    background: linear-gradient(135deg, #22c55e, #16a34a) !important;
    color: #fff !important;
}

.lobby-header {
    text-align: center;
    margin-bottom: 1.5rem;
}

.lobby-stats {
    display: flex;
    justify-content: center;
    margin: 1.5625rem 0;
}

.stat-box-single {
    background: rgba(255, 255, 255, 0.03);
    padding: 1.25rem 2.5rem;
    border-radius: 1rem;
    border: 0.0625rem solid rgba(255, 193, 7, 0.2);
}

.stat-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.9375rem;
}


.stat-icon {
    font-size: 2rem;
    line-height: 1;
}

.stat-icon-img {
    width: 2.5rem;
    height: 2.5rem;
    object-fit: contain;
}

.stat-text {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.5);
    font-weight: 400;
    letter-spacing: 0.0187rem;
}

.stat-box {
    background: rgba(255, 255, 255, 0.03);
    padding: 0.9375rem 1.5625rem;
    border-radius: 0.75rem;
    border: 0.0625rem solid rgba(255, 193, 7, 0.2);
    text-align: center;
    min-width: 7.5rem;
    transition: all 0.3s ease;
}

.stat-box:hover {
    border-color: var(--accent-color);
    transform: translateY(-0.25rem);
}

.stat-label {
    font-size: 1.5rem;
    color: rgba(255, 255, 255, 0.6);
}

.lobby-info {
    background: var(--bg-secondary);
    padding: 1rem;
    border-radius: 0.75rem;
    margin-top: 1rem;
}

.lobby-info p {
    margin-bottom: 0.5rem;
    font-size: 0.76rem;
    color: var(--text-secondary);
}

/* ============================================
   BUTTONS
   ============================================ */
.btn-primary,
.btn-secondary,
.btn-join {
    width: 100%;
    padding: 0.8125rem 1.625rem;
    font-size: 0.88rem;
    font-weight: 600;
    border: none;
    border-radius: 0.6rem;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Poppins', sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}


.welcome-screen .btn-twitch {
    opacity: 0;
    animation: fadeInUp 0.6s ease forwards;
    animation-delay: 0.3s;
}

.btn-primary {
    background: linear-gradient(135deg, var(--neon-primary), var(--accent-color));
    color: #000;
    box-shadow: 0 0.25rem 1rem rgba(255, 193, 7, 0.3);
}

.btn-primary:hover {
    transform: translateY(-0.125rem);
    box-shadow: 0 0.375rem 1.5rem rgba(255, 193, 7, 0.6);
    filter: brightness(1.05);
}

.btn-primary:active {
    transform: translateY(0);
}

.btn-secondary {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border: 0.1rem solid rgba(255, 255, 255, 0.1);
}

.btn-secondary:hover {
    border-color: var(--accent-color);
    background: var(--bg-card);
}

.btn-primary:disabled,
.btn-join:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.floating {
    animation: floating 3s ease-in-out infinite;
}

@keyframes floating {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-0.5rem);
    }
}

/* ============================================
   GAME SECTION - NOUVEAU LAYOUT A√âR√â
   ============================================ */

/* Container principal du jeu avec layout grid */
.game-section {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
    gap: 0;
    min-height: 85vh;
}

/* ========== HUD JOUEUR - Plus compact et discret ========== */


.player-hud {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.6rem 1.5rem;
    background: rgba(31, 31, 31, 0.156);
    backdrop-filter: blur(0.5rem);
    border-radius: 0.75rem;
    margin-bottom: 1rem;
    border: 0.05rem solid rgba(255, 255, 255, 0.05);
    position: relative;
    transition:
        border-color 0.8s ease-in-out,
        box-shadow 0.8s ease-in-out;
}

/* Forcer les items lat√©raux √† avoir la m√™me largeur pour centrer le milieu */
.player-hud>.hud-item:first-of-type,
.player-hud>.hud-item:last-of-type {
    flex: 1;
    min-width: 0;
}

.player-hud>.hud-item:first-of-type {
    align-items: flex-start;
}

.player-hud>.hud-item:last-of-type {
    align-items: flex-end;
}


.hud-shield-icon {
    position: absolute;
    right: -3.4375rem;
    /* üî• √Ä droite, en dehors du HUD */
    top: 43%;
    transform: translateY(-50%);
    width: 2rem;
    height: 2rem;
    object-fit: contain;
    filter: drop-shadow(0 0 0.9375rem rgba(59, 130, 246, 0.8)) drop-shadow(0 0 1.875rem rgba(59, 130, 246, 0.4));
    animation: shieldIconFloat 2s ease-in-out infinite;
    pointer-events: none;
}

/* Animation flottante de l'ic√¥ne */
@keyframes shieldIconFloat {

    0%,
    100% {
        transform: translateY(-50%) translateY(0);
    }

    50% {
        transform: translateY(-50%) translateY(-0.3125rem);
        /* üî• Mouvement ultra discret */
    }
}

/* Animation d'apparition/disparition */
.shield-icon-fade-enter-active {
    animation: shieldIconAppear 0.5s ease-out;
}

.shield-icon-fade-leave-active {
    animation: shieldIconDisappear 0.3s ease-in;
}

@keyframes shieldIconAppear {
    0% {
        opacity: 0;
        transform: translateY(-50%) scale(0.5) rotate(-180deg);
    }

    60% {
        transform: translateY(-50%) scale(1.1) rotate(10deg);
    }

    100% {
        opacity: 1;
        transform: translateY(-50%) scale(1) rotate(0deg);
    }
}

@keyframes shieldIconDisappear {
    0% {
        opacity: 1;
        transform: translateY(-50%) scale(1);
    }

    100% {
        opacity: 0;
        transform: translateY(-50%) scale(0.3) rotate(180deg);
    }
}


.hud-item {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
    align-items: center;
}

/* üÜï Pour le pseudo + badge en ligne */
.hud-item.hud-username-item {
    flex-direction: row;
    gap: 0.3rem;
    align-items: center;
}

.hud-label {
    font-size: 0.56rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05rem;
    font-weight: 500;
}

.hud-value {
    font-size: 0.66rem;
    font-weight: 700;
    color: var(--text-primary);
}

.lives-display {
    flex-direction: row;
    gap: 0.5rem;
}

.hearts {
    display: flex;
    gap: 0.25rem;
}

.heart {
    font-size: 0.88rem;
    transition: all 0.3s ease;
}

.heart.lost {
    opacity: 0.3;
    filter: grayscale(1);
}

/* ========== QUESTION CARD - Layout a√©r√© et centr√© ========== */
.question-card {
    background: transparent;
    border: none;
    box-shadow: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1.5rem;
    position: relative;
    flex: 1;
    align-self: center;
    transform: translateY(-5vh);
}

/* ========== TIMER - Compact en haut √† droite ========== */
.question-container-wrapper {
    min-height: 75vh;
    display: flex;
    flex-direction: column;
    width: 100%;
    justify-content: center;
    padding-top: 0;
}

.timer-circle-container {
    display: none !important;
}

/* üÜï Barre de timer horizontale ultra-fine */
.timer-bar-container {
    width: 100%;
    height: 5px;
    background: rgba(255, 255, 255, 0.04);
    border-radius: 100px;
    overflow: hidden;
    position: relative;
    margin-top: 0.75rem;
    margin-bottom: 1.5rem;
    transition: opacity 0.3s ease;
}

.timer-bar-container.hidden {
    opacity: 0;
    pointer-events: none;
}

.timer-bar-progress {
    height: 100%;
    background: linear-gradient(90deg, #b8960c 0%, #d4af37 40%, #f0d060 100%);
    border-radius: 100px;
    position: relative;
    transition: background 0.3s ease;
}

.timer-bar-progress::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.3) 0%, transparent 100%);
    border-radius: 100px 100px 0 0;
}

.timer-bar-progress.warning {
    background: linear-gradient(90deg, #cc3344 0%, #ff4757 40%, #ff6b7a 100%);
}

@keyframes pulse-warning {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.7;
    }
}

.timer-circle {
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
}

.timer-circle-bg {
    fill: none;
    stroke: rgba(255, 255, 255, 0.1);
    stroke-width: 6;
}

.timer-circle-progress {
    fill: none;
    stroke: var(--neon-primary);
    stroke-width: 6;
    stroke-linecap: round;
    stroke-dasharray: 283;
    stroke-dashoffset: 0;
    transition: stroke-dashoffset 0.5s linear, stroke 0.3s ease;
    filter: drop-shadow(0 0 0.4rem var(--neon-primary));
}

.timer-circle-progress.warning {
    stroke: var(--error-color);
    filter: drop-shadow(0 0 0.4rem var(--error-color));
    animation: timerPulse 0.5s ease-in-out infinite;
}

@keyframes timerPulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.6;
    }
}

.timer-number {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1.4rem;
    font-weight: 900;
    color: var(--neon-primary);
    text-shadow: 0 0 0.5rem var(--neon-primary);
}

.timer-circle-progress.warning+.timer-number {
    color: var(--error-color);
    text-shadow: 0 0 0.5rem var(--error-color);
}

/* ========== BADGES - Plus petits et discrets ========== */
.question-badges {
    display: flex;
    gap: 0.6rem;
    align-items: center;
    margin-bottom: 0.5rem;
}

.serie-badge,
.difficulty-badge {
    padding: 0.35rem 0.6875rem;
    border-radius: 0.4rem;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05rem;
}

.serie-badge {
    background: rgba(255, 215, 0, 0.15);
    color: var(--neon-primary);
    border: 0.05rem solid rgba(255, 215, 0, 0.3);
}

.difficulty-badge {
    border: 0.05rem solid;
}

.diff-veryeasy {
    background: rgba(16, 185, 129, 0.15);
    color: var(--success-color);
    border-color: rgba(16, 185, 129, 0.3);
}

.diff-easy {
    background: rgba(59, 130, 246, 0.15);
    color: #3b82f6;
    border-color: rgba(59, 130, 246, 0.3);
}

.diff-medium {
    background: rgba(245, 158, 11, 0.15);
    color: var(--warning-color);
    border-color: rgba(245, 158, 11, 0.3);
}

.diff-hard {
    background: rgba(239, 68, 68, 0.15);
    color: var(--error-color);
    border-color: rgba(239, 68, 68, 0.3);
}

.diff-veryhard {
    background: rgba(139, 0, 139, 0.15);
    color: #a855f7;
    border-color: rgba(168, 85, 247, 0.3);
}

/* ========== QUESTION TEXT - Plus petite et haute ========== */
.question-text {
    font-size: 1.17rem;
    font-weight: 600;
    text-align: center;
    color: var(--text-primary);
    max-width: 40rem;
    line-height: 1.4;
    margin: 0 0 1.5rem 0;
    padding: 0 1rem;
}

/* ========== R√âPONSES - Bien centr√©es ========== */
.answers-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
    /* Plus d'espace pour les bulles */
    width: 100%;
    max-width: 40.625rem;
    margin-top: 1.5rem;
    padding: 0 0.9375rem;
    /* Espace pour les bulles qui d√©bordent */
}

.answers-grid.grid-6 {
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    max-width: 52rem;
    /* ‚Üê Ajuster si n√©cessaire */
    margin: 0 auto;
    /* ‚Üê Force le centrage */
    justify-content: center;
    justify-items: center;
}

.answer-btn {
    background: linear-gradient(145deg, #2a2a2a 0%, #1f1f1f 100%);
    border: 0.125rem solid rgba(255, 255, 255, 0.08);
    border-radius: 1rem 1.5rem 1.25rem 1.375rem / 1.375rem 1.25rem 1.5rem 1.125rem;
    padding: 1.25rem 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-align: center;
    font-family: 'Poppins', sans-serif;
    min-height: 4.5rem;
    min-width: 14rem;
    position: relative;
    overflow: visible;
    box-shadow:
        0 0.25rem 0.9375rem rgba(0, 0, 0, 0.3),
        inset 0 0.0625rem 0 rgba(255, 255, 255, 0.05);
}

.answer-btn::before {
    content: '';
    position: absolute;
    width: 0.75rem;
    height: 0.75rem;
    background: linear-gradient(145deg, #2a2a2a 0%, #1f1f1f 100%);
    border-radius: 50%;
    left: -0.5rem;
    top: 43%;
    transform: translateY(-50%);
    border: 0.125rem solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 0.125rem 0.5rem rgba(0, 0, 0, 0.2);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
}

/* Bulle nuage droite */
.answer-btn::after {
    content: '';
    position: absolute;
    width: 0.75rem;
    height: 0.75rem;
    background: linear-gradient(145deg, #2a2a2a 0%, #1f1f1f 100%);
    border-radius: 50%;
    right: 0.375rem;
    bottom: -0.4rem;
    border: 0.125rem solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 0.125rem 0.5rem rgba(0, 0, 0, 0.2);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
}

.answer-btn:hover:not(.disabled) {
    border-color: rgba(255, 215, 0, 0.4);
    background: linear-gradient(145deg, #333 0%, #252525 100%);
    transform: translateY(-0.25rem) scale(1.02);
    box-shadow:
        0 0.75rem 1.875rem rgba(255, 215, 0, 0.15),
        0 0.25rem 0.9375rem rgba(0, 0, 0, 0.3),
        inset 0 0.0625rem 0 rgba(255, 255, 255, 0.1);
}


.answer-btn:hover:not(.disabled)::before,
.answer-btn:hover:not(.disabled)::after {
    border-color: rgba(255, 215, 0, 0.4);
    background: linear-gradient(145deg, #333 0%, #252525 100%);
    box-shadow: 0 0.25rem 0.75rem rgba(255, 215, 0, 0.1);
}

.answer-btn.selected {
    border-color: var(--neon-primary);
    background: linear-gradient(145deg, rgba(255, 215, 0, 0.15) 0%, rgba(255, 165, 0, 0.1) 100%);
    box-shadow:
        0 0 1.5625rem rgba(255, 215, 0, 0.3),
        0 0.5rem 1.5625rem rgba(0, 0, 0, 0.3),
        inset 0 0.0625rem 0 rgba(255, 255, 255, 0.15);
    animation: cloudPulse 2s ease-in-out infinite;
}


.answer-btn.selected::before,
.answer-btn.selected::after {
    border-color: var(--neon-primary);
    background: linear-gradient(145deg, rgba(255, 215, 0, 0.15) 0%, rgba(255, 165, 0, 0.1) 100%);
    box-shadow: 0 0 0.9375rem rgba(255, 215, 0, 0.3);
}


@keyframes cloudPulse {

    0%,
    100% {
        box-shadow:
            0 0 1.5625rem rgba(255, 215, 0, 0.3),
            0 0.5rem 1.5625rem rgba(0, 0, 0, 0.3);
    }

    50% {
        box-shadow:
            0 0 2.1875rem rgba(255, 215, 0, 0.4),
            0 0.5rem 1.5625rem rgba(0, 0, 0, 0.3);
    }
}

.answer-btn.disabled {
    opacity: 0.5;
    cursor: default;
}

.answer-btn.disabled::before,
.answer-btn.disabled::after {
    opacity: 0.5;
}

.answer-number {
    display: none !important;
}

.answer-text {
    font-size: 1rem;
    font-weight: 500;
    color: var(--text-primary);
    text-align: center;
    width: 100%;
    text-shadow: 0 0.0625rem 0.125rem rgba(0, 0, 0, 0.3);
}

/* ========== STATUS R√âPONSE ========== */
.answer-status {
    display: none !important;
}

/* ========== √âLIMIN√â ========== */
.eliminated-notice {
    text-align: center;
    padding: 0.5rem 1rem;
    background: transparent;
    border-radius: 0;
    border: none;
    margin-top: 1rem;
    animation: fadeIn 0.3s ease;
}

.skull-icon {
    display: none;
}

.eliminated-notice h3 {
    display: none;
}

.eliminated-notice p {
    color: var(--text-secondary);
    font-size: 0.8rem;
    opacity: 0.6;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* ============================================
   RESULTS SECTION
   ============================================ */
.results-card {
    text-align: center;
    padding: 2rem;
}

.results-header {
    margin-bottom: 1.5rem;
}

.results-header h2 {
    font-size: 1.6rem;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.correct-answer-reveal {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.6rem;
    padding: 0.75rem 1.25rem;
    background: rgba(16, 185, 129, 0.1);
    border-radius: 0.6rem;
    border: 0.1rem solid var(--success-color);
}

.answer-badge {
    font-weight: 700;
    color: var(--success-color);
    font-size: 0.96rem;
}

/* R√©sultat personnel du joueur */
.personal-result {
    margin: 1.5rem 0;
}

.result-success,
.result-fail,
.result-afk {
    text-align: center;
    padding: 1.5rem;
    border-radius: 0.75rem;
    animation: fadeInScale 0.5s ease;
}

.result-success {
    background: rgba(16, 185, 129, 0.1);
    border: 0.1rem solid var(--success-color);
}

.result-fail {
    background: rgba(239, 68, 68, 0.1);
    border: 0.1rem solid var(--error-color);
}

.result-afk {
    background: rgba(245, 158, 11, 0.1);
    border: 0.1rem solid var(--warning-color);
}


.personal-result h3 {
    font-size: 1.4rem;
    margin-bottom: 0.5rem;
}

.personal-result p {
    font-size: 0.88rem;
    color: var(--text-secondary);
}

/* Stats simplifi√©es */
.simple-stats {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.9);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

.results-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.result-box {
    background: var(--bg-secondary);
    padding: 1rem;
    border-radius: 0.75rem;
}

.result-box h4 {
    margin-bottom: 1rem;
    font-size: 0.88rem;
}

.chart-container {
    display: flex;
    justify-content: space-around;
    align-items: flex-end;
    height: 10rem;
    gap: 0.5rem;
}

.chart-bar {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.bar {
    width: 100%;
    min-height: 1rem;
    border-radius: 0.4rem 0.4rem 0 0;
    position: relative;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding-top: 0.5rem;
    transition: all 0.5s ease;
}

.bar.correct {
    background: linear-gradient(180deg, var(--success-color), rgba(16, 185, 129, 0.5));
}

.bar.wrong {
    background: linear-gradient(180deg, var(--error-color), rgba(239, 68, 68, 0.5));
}

.bar.afk {
    background: linear-gradient(180deg, var(--warning-color), rgba(245, 158, 11, 0.5));
}

.bar-value {
    font-weight: 700;
    font-size: 0.96rem;
}

.bar-label {
    font-size: 0.72rem;
    color: var(--text-secondary);
}

.lives-distribution {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.life-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.life-icons {
    width: 5rem;
    font-size: 0.8rem;
}

.life-bar {
    flex: 1;
    height: 1.5rem;
    background: var(--bg-card);
    border-radius: 0.4rem;
    overflow: hidden;
    position: relative;
}

.bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-primary), var(--accent-color));
    transition: width 0.5s ease;
}

.life-count {
    min-width: 2rem;
    text-align: right;
    font-weight: 700;
    font-size: 0.88rem;
}

.elimination-banner {
    text-align: center;
    padding: 1rem;
    background: rgba(239, 68, 68, 0.1);
    border-radius: 0.6rem;
    border: 0.1rem solid var(--error-color);
    margin-bottom: 1rem;
    font-size: 0.96rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
}

.skull {
    font-size: 1.2rem;
}

.remaining-players {
    text-align: center;
    padding: 0.75rem;
    background: rgba(16, 185, 129, 0.1);
    border-radius: 0.6rem;
    border: 0.1rem solid var(--success-color);
    font-size: 0.88rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.trophy {
    font-size: 1.2rem;
}

/* ============================================
   GAME OVER
   ============================================ */
.gameover-card {
    text-align: center;
}

.trophy-icon {
    font-size: 4.0rem;
    margin-bottom: 1rem;
    animation: rotate 3s ease-in-out infinite;
}

@keyframes rotate {

    0%,
    100% {
        transform: rotate(0deg);
    }

    25% {
        transform: rotate(-10deg);
    }

    75% {
        transform: rotate(10deg);
    }
}

.winner-section {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: var(--bg-secondary);
    border-radius: 0.75rem;
    border: 0.1rem solid var(--success-color);
}


.game-stats {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin: 1.5rem 0;
}


.stat-value {
    font-size: 1.6rem;
    font-weight: 900;
    color: var(--accent-color);
}

.stat-label {
    font-size: 0.72rem;
    color: var(--text-secondary);
    margin-top: 0.25rem;
}

/* ============================================
   TOAST NOTIFICATIONS
   ============================================ */
.toast {
    position: fixed;
    bottom: 1.5rem;
    right: 1.5rem;
    padding: 0.8125rem 1.1875rem;
    background: var(--bg-card);
    border-radius: 0.6rem;
    box-shadow: 0 0.2rem 1rem rgba(0, 0, 0, 0.3);
    z-index: 2000;
    opacity: 0;
    transform: translateY(1rem);
    transition: all 0.3s ease;
}

.toast.show {
    opacity: 1;
    transform: translateY(0);
}

.toast-success {
    border-left: 0.2rem solid var(--success-color);
}

.toast-error {
    border-left: 0.2rem solid var(--error-color);
}

.toast-info {
    border-left: 0.2rem solid var(--accent-color);
}

/* ============================================
   üÜï R√âSULTATS AM√âLIOR√âS (Bug 2 fix)
   ============================================ */
.results-card-improved {
    max-width: 30rem;
    margin: 0 auto;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    animation: fadeInUp 0.5s ease;
}

.personal-result-improved {
    width: 100%;
}

.result-box-improved {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-radius: 0.75rem;
    background: var(--bg-card);
    border: 0.1rem solid;
    animation: fadeInScale 0.4s ease;
}

.result-box-improved.success {
    border-color: var(--success-color);
    background: rgba(16, 185, 129, 0.08);
}

.result-box-improved.fail {
    border-color: var(--error-color);
    background: rgba(239, 68, 68, 0.08);
}

.result-box-improved.timeout {
    border-color: var(--warning-color);
    background: rgba(245, 158, 11, 0.08);
}

.result-indicator {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: 900;
    flex-shrink: 0;
}

.result-box-improved.success .result-indicator {
    background: var(--success-color);
    color: #000;
}

.result-box-improved.fail .result-indicator {
    background: var(--error-color);
    color: #fff;
}

.result-box-improved.timeout .result-indicator {
    background: var(--warning-color);
    color: #000;
}

.result-content {
    flex: 1;
    text-align: left;
}

.result-content h3 {
    font-size: 1.0rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
    color: var(--text-primary);
}

.result-content p {
    font-size: 0.76rem;
    color: var(--text-secondary);
    margin: 0;
}

.correct-answer-improved {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.875rem 1.25rem;
    background: var(--bg-card);
    border-radius: 0.6rem;
    border: 0.1rem solid var(--success-color);
}

.answer-label {
    font-size: 0.72rem;
    color: var(--text-secondary);
    font-weight: 500;
}

.answer-value {
    font-size: 1.0rem;
    font-weight: 700;
    color: var(--success-color);
}

.stats-compact {
    display: flex;
    gap: 0.6rem;
    justify-content: center;
}

.stat-compact {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.6rem 1rem;
    background: rgba(239, 68, 68, 0.1);
    border: 0.05rem solid var(--error-color);
    border-radius: 0.5rem;
    font-size: 0.72rem;
    font-weight: 600;
}

.stat-compact.alive {
    background: rgba(16, 185, 129, 0.1);
    border-color: var(--success-color);
}

.stat-text {
    color: var(--text-primary);
}

/* ============================================
   GAME OVER - VERSION MINIMALISTE
   ============================================ */

.gameover-section {
    max-width: 57.5rem;
    margin: 0 auto;
}

.gameover-card-compact {
    background: transparent;
    /* üî• Fond transparent */
    border-radius: 0;
    padding: 2rem;
    border: none;
    /* üî• Pas de bordure */
    animation: fadeInUp 0.6s ease;
}

/* Layout horizontal */
.gameover-layout {
    display: grid;
    grid-template-columns: 1fr;
    /* Par d√©faut : 1 colonne (Mode Vie) */
    gap: 1.5rem;
    width: 100%;
}

.gameover-layout:has(.podium-column) {
    grid-template-columns: 1fr 1fr;
}

@media (max-width: 48rem) {
    .gameover-layout:has(.podium-column) {
        grid-template-columns: 1fr;
        /* 1 colonne sur mobile m√™me avec podium */
    }
}

/* ========== COLONNE GAUCHE : WINNER ========== */
.winner-column {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    align-items: center;
}

.winner-box {
    text-align: center;
    padding: 2rem 1.5rem;
    background: rgba(31, 31, 31, 0.4);
    /* üî• Fond subtil */
    backdrop-filter: blur(0.625rem);
    border-radius: 1rem;
    border: none;
    /* üî• Pas de bordure verte */
}

.trophy-icon {
    margin-bottom: 1rem;
}

.trophy-img {
    width: 5rem;
    height: 5rem;
    margin-bottom: 1rem;
    filter: drop-shadow(0 0 1.25rem rgba(255, 215, 0, 0.6));
    animation: float 3s ease-in-out infinite;
}


@keyframes float {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-0.625rem);
    }
}


@keyframes trophyPulse {

    0%,
    100% {
        transform: scale(1);
        filter: drop-shadow(0 0 1.25rem rgba(255, 215, 0, 0.6));
    }

    14% {
        transform: scale(1.12);
        filter: drop-shadow(0 0 1.875rem rgba(255, 215, 0, 0.9));
    }

    28% {
        transform: scale(1);
        filter: drop-shadow(0 0 1.25rem rgba(255, 215, 0, 0.6));
    }

    42% {
        transform: scale(1.12);
        filter: drop-shadow(0 0 1.875rem rgba(255, 215, 0, 0.9));
    }

    56% {
        transform: scale(1);
        filter: drop-shadow(0 0 1.25rem rgba(255, 215, 0, 0.6));
    }
}

.winner-badge {
    display: inline-block;
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: var(--bg-main);
    padding: 0.375rem 1rem;
    border-radius: 1.25rem;
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.0625rem;
    margin-bottom: 0.75rem;
}

.winner-name {
    font-size: 2rem;
    font-weight: 900;
    color: var(--primary);
    /* üî• Fallback pour navigateurs incompatibles */
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 1rem;
    text-shadow: none;
    /* üî• Retirer le text-shadow qui peut causer des conflits */
    filter: drop-shadow(0 0 1.25rem rgba(255, 215, 0, 0.4));
    /* üî• Utiliser drop-shadow √† la place */
}

.winner-stats {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 1.1rem;
    color: var(--text-primary);
}

.winner-stats .points-icon {
    font-size: 1.4rem;
}

.winner-stats .points-number {
    font-size: 2rem;
    font-weight: 900;
    color: var(--neon-primary);
    text-shadow: 0 0 0.9375rem rgba(255, 215, 0, 0.5);
}

.winner-stats .points-text {
    font-size: 0.9rem;
}

/* √âgalit√© */
.tie-box {
    text-align: center;
    padding: 1.5rem;
    background: rgba(31, 31, 31, 0.4);
    backdrop-filter: blur(0.625rem);
    border-radius: 1rem;
    border: none;
}

.tie-badge {
    font-size: 1.2rem;
    color: var(--warning-color);
    font-weight: 700;
    margin-bottom: 1rem;
}

.tie-winners-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.tie-winner-item {
    padding: 0.625rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 0.5rem;
    font-size: 0.9rem;
    color: var(--text-primary);
    border: none;
}

/* Aucun gagnant */
.no-winner-box {
    text-align: center;
    padding: 1.5rem;
    background: rgba(31, 31, 31, 0.4);
    backdrop-filter: blur(0.625rem);
    border-radius: 1rem;
    border: none;
}


.winner-box,
.tie-box,
.no-winner-box {
    background: var(--bg-card);
    border: 0.125rem solid var(--border);
    border-radius: 1rem;
    padding: 2rem 1.5rem;
    text-align: center;
    width: 100%;
    max-width: 25rem;
}

.no-winner-icon {
    font-size: 2.5rem;
    margin-bottom: 0.75rem;
}

.no-winner-text {
    font-size: 1.1rem;
    color: var(--text-secondary);
    font-weight: 600;
}

/* Stats compactes */
.game-stats-compact {
    display: flex;
    gap: 1.25rem;
    padding: 1rem 1.5rem;
    background: var(--bg-main);
    border-radius: 0.75rem;
    border: 0.0625rem solid var(--border);
    width: 100%;
    max-width: 25rem;
}

.stat-compact-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
}

.stat-compact-item .stat-number {
    font-size: 1.6rem;
    font-weight: 900;
    color: var(--accent-color);
    line-height: 1;
}

.stat-compact-item .stat-label {
    font-size: 0.65rem;
    color: rgba(255, 255, 255, 0.4);
    /* üî• Plus discret */
    text-transform: uppercase;
    letter-spacing: 0.05rem;
}

.stat-divider-compact {
    width: 0.0625rem;
    background: var(--border);
}

/* ========== COLONNE DROITE : PODIUM ========== */
.podium-column {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}


.podium-compact-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.podium-compact-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1rem;
    background: var(--bg-card);
    border: 0.0625rem solid var(--border);
    border-radius: 0.75rem;
    transition: all 0.3s ease;
}

.podium-compact-item:hover {
    transform: translateX(0.25rem);
    border-color: var(--primary);
}

.podium-compact-item.rank-1 {
    border-color: #FFD700;
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), transparent);
}

.podium-compact-item.rank-2 {
    border-color: #C0C0C0;
}

.podium-compact-item.rank-3 {
    border-color: #CD7F32;
}

.podium-compact-rank {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    border-radius: 0.5rem;
    font-weight: 700;
    font-size: 1rem;
}

.rank-1 .podium-compact-rank {
    background: linear-gradient(135deg, #FFD700, #FFA500);
    color: var(--bg-main);
}

.rank-2 .podium-compact-rank {
    background: linear-gradient(135deg, #C0C0C0, #808080);
    color: var(--bg-main);
}

.rank-3 .podium-compact-rank {
    background: linear-gradient(135deg, #CD7F32, #8B4513);
    color: white;
}

.podium-compact-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.125rem;
}

.podium-compact-name {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.9rem;
}

.podium-compact-points {
    font-size: 0.75rem;
    color: var(--text-secondary);
}

/* Bouton Retour */
.btn-home {
    margin-top: 1.5rem;
    width: 100%;
    max-width: 25rem;
}

/* ========== RESPONSIVE MOBILE ========== */
@media (max-width: 38.375rem) {
    .gameover-layout {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    .gameover-card-compact {
        padding: 1.25rem;
    }

    .trophy-img {
        width: 3.5rem;
        height: 3.5rem;
    }

    .winner-name {
        font-size: 1.4rem;
    }

    .winner-stats .points-number {
        font-size: 1.6rem;
    }
}

/* ============================================
   ANIMATIONS
   ============================================ */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(1.5rem);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-1.5rem);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.7;
    }
}

/* ============================================
   R√âSULTATS - Question avec indicateurs visuels
   ============================================ */

.results-view {
    pointer-events: none;
}

.result-answer {
    position: relative;
    transition: all 0.4s ease;
}

.result-answer.correct {
    border-color: #00ff88 !important;
    background: linear-gradient(145deg, rgba(0, 255, 136, 0.15) 0%, rgba(0, 200, 100, 0.1) 100%) !important;
    box-shadow:
        0 0 1.875rem rgba(0, 255, 136, 0.4),
        0 0.5rem 1.5625rem rgba(0, 0, 0, 0.3);
    animation: correctCloudGlow 1.5s ease-in-out infinite;
}


.result-answer.correct::before,
.result-answer.correct::after {
    border-color: #00ff88 !important;
    background: linear-gradient(145deg, rgba(0, 255, 136, 0.15) 0%, rgba(0, 200, 100, 0.1) 100%) !important;
    box-shadow: 0 0 0.9375rem rgba(0, 255, 136, 0.4);
}

@keyframes correctCloudGlow {

    0%,
    100% {
        box-shadow:
            0 0 1.875rem rgba(0, 255, 136, 0.4),
            0 0.5rem 1.5625rem rgba(0, 0, 0, 0.3);
    }

    50% {
        box-shadow:
            0 0 2.8125rem rgba(0, 255, 136, 0.6),
            0 0.5rem 1.5625rem rgba(0, 0, 0, 0.3);
    }
}

/* ========== R√âSULTATS - INCORRECT ========== */
.result-answer.wrong {
    border-color: #ff4757 !important;
    background: linear-gradient(145deg, rgba(255, 71, 87, 0.15) 0%, rgba(200, 50, 60, 0.1) 100%) !important;
    box-shadow:
        0 0 1.5625rem rgba(255, 71, 87, 0.3),
        0 0.5rem 1.5625rem rgba(0, 0, 0, 0.3);
}

.result-answer.wrong::before,
.result-answer.wrong::after {
    border-color: #ff4757 !important;
    background: linear-gradient(145deg, rgba(255, 71, 87, 0.15) 0%, rgba(200, 50, 60, 0.1) 100%) !important;
    box-shadow: 0 0 0.75rem rgba(255, 71, 87, 0.3);
}

/* ========== R√âSULTATS - NON S√âLECTIONN√â ========== */
.result-answer.unselected {
    opacity: 0.35;
}

.result-answer.unselected::before,
.result-answer.unselected::after {
    opacity: 0.35;
}

/* ========== IC√îNE R√âSULTAT ========== */
.result-icon {
    position: absolute;
    right: 1rem;
    top: 43%;
    transform: translateY(-50%);
    font-size: 1.5rem;
    font-weight: bold;
    color: #00ff88;
    text-shadow: 0 0 0.625rem rgba(0, 255, 136, 0.5);
    animation: popIn 0.3s ease;
    z-index: 2;
}

.result-icon.wrong-icon {
    color: #ff4757;
    text-shadow: 0 0 0.625rem rgba(255, 71, 87, 0.5);
}

@keyframes popIn {
    0% {
        transform: translateY(-50%) scale(0);
        opacity: 0;
    }

    50% {
        transform: translateY(-50%) scale(1.2);
    }

    100% {
        transform: translateY(-50%) scale(1);
        opacity: 1;
    }
}

.survivors-count {
    text-align: center;
    margin-top: 1.5rem;
    font-size: 0.85rem;
    color: var(--text-secondary);
    font-weight: 500;
    width: 100%;
}

/* ============================================
   üÜï ANIMATIONS D'APPARITION DES QUESTIONS
   ============================================ */

.question-card:not(.results-view) .question-badges {
    animation: fadeInUp 0.4s ease-out 0s backwards;
}

.question-card:not(.results-view) .question-text {
    animation: fadeInUp 0.5s ease-out 0.1s backwards;
}

.question-card:not(.results-view) .answers-grid {
    animation: fadeInScale 0.5s ease-out 0.2s backwards;
}

.question-card:not(.results-view) .answer-btn:nth-child(1) {
    animation: cloudFloatIn 0.5s ease-out 0.2s backwards;
}

.question-card:not(.results-view) .answer-btn:nth-child(2) {
    animation: cloudFloatIn 0.5s ease-out 0.3s backwards;
}

.question-card:not(.results-view) .answer-btn:nth-child(3) {
    animation: cloudFloatIn 0.5s ease-out 0.4s backwards;
}

.question-card:not(.results-view) .answer-btn:nth-child(4) {
    animation: cloudFloatIn 0.5s ease-out 0.5s backwards;
}

.question-card:not(.results-view) .answer-btn:nth-child(5) {
    animation: cloudFloatIn 0.5s ease-out 0.6s backwards;
}

.question-card:not(.results-view) .answer-btn:nth-child(6) {
    animation: cloudFloatIn 0.5s ease-out 0.7s backwards;
}


@keyframes cloudFloatIn {
    0% {
        opacity: 0;
        transform: translateY(1.875rem) scale(0.8);
    }

    60% {
        transform: translateY(-0.3125rem) scale(1.02);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.timer-bar-container:not(.hidden) {
    animation: fadeInScale 0.3s ease-out 0s backwards;
}

.question-card.results-view .question-badges {
    animation: fadeInUp 0.3s ease-out 0s backwards;
}

.question-card.results-view .question-text {
    animation: fadeInUp 0.3s ease-out 0.05s backwards;
}

.question-card.results-view .answers-grid {
    animation: fadeInScale 0.4s ease-out 0.1s backwards;
}

.question-card.results-view .survivors-count {
    animation: fadeInUp 0.4s ease-out 0.5s backwards;
}

.answer-status {
    animation: fadeInScale 0.4s ease-out 0.7s backwards;
}

.eliminated-notice {
    animation: fadeInScale 0.5s ease-out 0.3s backwards;
}

/* ============================================
   NOTIFICATIONS R√âPONSE JOUEUR - 2 TRAJECTOIRES FLUIDES V3
   ============================================ */
.answer-notification {
    position: fixed;
    left: 9.375rem;
    top: 62%;
    display: flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.5rem 1rem;
    background: rgba(20, 20, 20, 0.4);
    backdrop-filter: blur(0.5rem);
    border: none;
    border-radius: 1.25rem;
    box-shadow: 0 0.125rem 0.75rem rgba(0, 0, 0, 0.2);
    z-index: 1000;
    pointer-events: none;
    will-change: transform, opacity;
}

.notif-username {
    font-weight: 600;
    font-size: 0.75rem;
    color: var(--neon-primary);
    text-shadow: 0 0 0.375rem rgba(255, 215, 0, 0.3);
}

.notif-text {
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.5);
    font-weight: 400;
}

.answer-notification.path1 {
    animation: curvedPath1 3.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes curvedPath1 {
    0% {
        opacity: 0;
        transform: translate(-0.625rem, 0.625rem) scale(0.85);
    }

    3% {
        opacity: 0.9;
        transform: translate(-0.9375rem, -0.3125rem) scale(1);
    }

    100% {
        opacity: 0;
        transform: translate(-1.875rem, -13.75rem) scale(0.85);
    }
}

.answer-notification.path2 {
    animation: curvedPath2 3.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes curvedPath2 {
    0% {
        opacity: 0;
        transform: translate(0.625rem, 0.625rem) scale(0.85);
    }

    3% {
        opacity: 0.9;
        transform: translate(1.25rem, -0.3125rem) scale(1);
    }

    100% {
        opacity: 0;
        transform: translate(3.75rem, -12.5rem) scale(0.85);
    }
}

/* ============================================
   LEADERBOARD - FIX COMPLET DESKTOP + MOBILE
   ============================================ */
.leaderboard-container {
    position: fixed;
    top: 1.25rem;
    left: 1.25rem;
    width: 70%;
    max-width: 15rem;
    height: auto;
    max-height: calc(100vh - 2.5rem);
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(0.5rem);
    border-radius: 0.75rem;
    padding: 1rem;
    z-index: 500;
    border: none;

    /* DESKTOP - Visible par d√©faut */
    transform: translateX(0);
    pointer-events: auto;
    opacity: 0.5;

    transition:
        transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
        opacity 0.3s ease,
        background 0.3s ease;

    animation: fadeInLeft 0.6s ease-out;
}

@keyframes fadeInLeft {
    0% {
        opacity: 0;
        transform: translateX(-1.875rem);
    }

    100% {
        opacity: 0.5;
        transform: translateX(0);
    }
}

/* Hover sur desktop */
.leaderboard-container:hover {
    opacity: 1 !important;
    background: rgba(0, 0, 0, 0.5);
}

.leaderboard-container.mobile-open {
    transform: translateX(0);
    pointer-events: auto;
    opacity: 1;
}

.leaderboard-title {
    font-size: 0.65rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.15rem;
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    font-weight: 500;
}

/* üÜï Wrapper titre + ic√¥ne redirection */
.leaderboard-title-wrapper {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.ranking-redirect-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.4rem;
    height: 1.4rem;
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 0.35rem;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.25s ease;
    text-decoration: none;
    margin-top: -6px;
    margin-left: 3px;
}

.ranking-redirect-btn svg {
    width: 0.7rem;
    height: 0.7rem;
}

.ranking-redirect-btn:hover {
    border-color: rgba(255, 215, 0, 0.5);
    color: var(--gold);
    background: rgba(255, 215, 0, 0.1);
}

.leaderboard-list {
    display: flex;
    flex-direction: column;
    gap: 0;
    max-height: none;
    overflow-y: auto;
    overflow-x: hidden;
}

.leaderboard-list::-webkit-scrollbar {
    width: 0.25rem;
}

.leaderboard-list::-webkit-scrollbar-thumb {
    background: rgba(255, 215, 0, 0.3);
    border-radius: 0.625rem;
}

.leaderboard-item {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.55rem 0;
    background: transparent;
    border: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.04);
    border-radius: 0;
    transition: all 0.3s ease;
    animation: fadeInItem 0.4s ease-out backwards;
}

.leaderboard-item:last-child {
    border-bottom: none;
}

.leaderboard-item:nth-child(1) {
    animation-delay: 0.1s;
}

.leaderboard-item:nth-child(2) {
    animation-delay: 0.2s;
}

.leaderboard-item:nth-child(3) {
    animation-delay: 0.3s;
}

.leaderboard-item:nth-child(4) {
    animation-delay: 0.4s;
}

.leaderboard-item:nth-child(5) {
    animation-delay: 0.5s;
}

.leaderboard-item:nth-child(6) {
    animation-delay: 0.6s;
}

.leaderboard-item:nth-child(7) {
    animation-delay: 0.7s;
}

.leaderboard-item:nth-child(8) {
    animation-delay: 0.8s;
}

.leaderboard-item:nth-child(9) {
    animation-delay: 0.9s;
}

.leaderboard-item:nth-child(10) {
    animation-delay: 1.0s;
}

@keyframes fadeInItem {
    0% {
        opacity: 0;
        transform: translateX(-0.625rem);
    }

    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

.leaderboard-item.rank-1,
.leaderboard-item.rank-2,
.leaderboard-item.rank-3 {
    background: transparent;
    border-color: rgba(255, 255, 255, 0.04);
}


.rank {
    width: auto;
    height: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border-radius: 0;
    font-size: 0.6rem;
    font-weight: 500;
    color: var(--text-secondary);
    flex-shrink: 0;
    min-width: 1.25rem;
}

/* Top 3 ranks color√©s */
.leaderboard-item.rank-1 .rank,
.leaderboard-item.rank-2 .rank,
.leaderboard-item.rank-3 .rank {
    color: var(--neon-primary);
    font-weight: 700;
}


.player-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
}

.player-name {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--text-primary);
}

.player-title {
    font-size: 0.52rem;
    color: var(--text-secondary);
    opacity: 0.6;
    font-style: normal;
}

.player-winrate {
    font-size: 0.7rem;
    font-weight: 400;
    color: var(--text-secondary);
}

.leaderboard-item.rank-1 .player-winrate,
.leaderboard-item.rank-2 .player-winrate,
.leaderboard-item.rank-3 .player-winrate {
    color: var(--neon-primary);
}

.leaderboard-toggle-btn {
    display: none;
}

.leaderboard-close-btn {
    display: none;
}

.leaderboard-overlay {
    display: none;
}

/* ============================================
   RESPONSIVE MOBILE
   ============================================ */
@media (max-width: 38.375rem) {

    /* Body - Emp√™cher scroll */
    body {
        overflow: hidden;
        height: 100vh;
    }

    /* Main container */
    .main-container {
        padding: 0.5rem;
    }

    /* Titre logo */
    .logo-title {
        font-size: 2rem !important;
    }

    .subtitle {
        font-size: 0.8rem;
    }

    /* Cards g√©n√©rales */
    .info-card,
    .lobby-card,
    .question-card,
    .results-card,
    .gameover-card {
        padding: 0.875rem;
        margin-bottom: 0.625rem;
        border-radius: 0.75rem;
        margin-left: 1rem;
        margin-right: 1rem;
        max-width: calc(100% - 2rem);
    }

    /* Lobby sp√©cifique */
    .lobby-card {
        padding: 1.25rem 1rem;
        margin-left: 1.25rem;
        margin-right: 1.25rem;
        max-width: calc(100% - 2.5rem);
    }

    /* Info card sp√©cifique */
    .info-card {
        padding: 1.25rem 1rem;
        margin-left: 1.25rem;
        margin-right: 1.25rem;
        max-width: calc(100% - 2.5rem);
    }

    .lobby-header {
        margin-bottom: 0.75rem;
    }

    .lobby-header h2 {
        font-size: 1.0rem;
        margin-bottom: 0;
    }

    .lobby-stats {
        margin: 1rem 0;
    }

    .stat-box-single {
        padding: 0.75rem 1.5rem;
    }

    .stat-content {
        gap: 0.625rem;
    }

    .stat-number {
        font-size: 2.0rem;
    }

    .stat-icon {
        font-size: 1.8rem;
    }

    .stat-icon-img {
        width: 1.8rem;
        height: 1.8rem;
    }

    .stat-text {
        font-size: 0.9rem;
    }

    /* User welcome */
    .user-welcome {
        gap: 0.625rem;
        margin-bottom: 0.625rem;
    }

    .avatar-icon {
        width: 2.25rem;
        height: 2.25rem;
        font-size: 1.125rem;
    }

    .username {
        font-size: 0.95rem;
    }

    /* Titres */
    .info-card h2,
    .lobby-card h2 {
        font-size: 1.05rem;
        margin-bottom: 0.5rem;
    }

    .info-card p {
        font-size: 0.8rem;
        margin-bottom: 0.375rem;
    }

    /* Boutons */
    .btn-primary,
    .btn-secondary,
    .btn-twitch,
    .btn-join {
        padding: 0.625rem 1.25rem;
        font-size: 0.78rem;
        gap: 0.375rem;
    }

    /* Bouton d√©connexion avec m√™me marge que les cartes */
    .content-section>.btn-secondary {
        margin-left: 1.25rem;
        margin-right: 1.25rem;
        width: calc(100% - 2.5rem);
        max-width: calc(100% - 2.5rem);
    }

    /* R√©duire le bouton Twitch */
    .btn-twitch {
        max-width: 17.5rem;
        margin: 0 auto;
    }

    /* Separator */
    .separator {
        margin: 0.75rem 0;
    }

    /* Question mobile */
    .question-container-wrapper {
        max-height: 90vh;
        padding-top: 1vh;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    .timer-circle-container {
        width: 3rem;
        height: 3rem;
        top: 0.5rem;
        right: 0.75rem;
    }

    .timer-number {
        font-size: 1.0rem;
    }

    .question-text {
        font-size: 0.9rem;
        padding: 0 0.75rem;
        line-height: 1.3;
    }

    /* üÜï Badges s√©rie et difficult√© plus petits sur mobile */
    .serie-badge,
    .difficulty-badge {
        padding: 0.25rem 0.5rem;
        font-size: 0.65rem;
        border-radius: 0.3rem;
        letter-spacing: 0.03rem;
    }

    .question-badges {
        gap: 0.4rem;
        margin-bottom: 0.75rem;
    }

    .answers-grid {
        grid-template-columns: 1fr;
        max-width: 100%;
        gap: 0.625rem;
        /* R√©duit de 16px √† 10px */
        padding: 0 1rem;
    }

    .answers-grid.grid-6 {
        grid-template-columns: 1fr;
        gap: 0.5rem;
        /* Encore plus compact pour 6 r√©ponses */
    }

    .answer-btn {
        padding: 0.75rem 1rem;
        /* R√©duit de 14px 20px */
        min-height: 3rem;
        /* R√©duit de 58px */
        width: 100%;
        min-width: unset;
        border-radius: 1.25rem 2.5rem 2.1875rem 2.375rem / 2.375rem 2.1875rem 2.5rem 2rem;
    }

    .answers-grid.grid-6 .answer-btn {
        min-height: 4rem;
        width: 100%;
        min-width: unset;
        /* ‚Üê NOUVEAU */
        padding: 1rem 1.5rem;
        border-radius: 0.875rem 1.25rem 1rem 1.125rem / 1.125rem 1rem 1.25rem 0.875rem;
        /* ‚Üê Moins arrondi */
    }

    .answer-btn::before {
        width: 0.625rem;
        /* ‚Üê R√©duit de 0.75rem */
        height: 0.625rem;
        left: -0.375rem;
        border-radius: 50%;
    }

    .answer-btn::after {
        width: 0.5rem;
        /* ‚Üê R√©duit de 0.75rem */
        height: 0.5rem;
        right: 0.5rem;
        bottom: -0.125rem;
        border-radius: 50%;
    }

    .answers-grid.grid-6 .answer-btn::before {
        width: 0.75rem;
        height: 0.75rem;
        left: -0.1875rem;
    }

    .answers-grid.grid-6 .answer-btn::after {
        width: 0.625rem;
        height: 0.625rem;
    }

    .answer-number {
        width: 1.75rem;
        height: 1.75rem;
        font-size: 0.8rem;
    }

    .answer-text {
        font-size: 0.85rem;
        /* R√©duit de 0.9rem */
        line-height: 1.25;
    }

    .answers-grid.grid-6 .answer-text {
        font-size: 0.78rem;
    }

    /* HUD */
    .player-hud {
        flex-wrap: nowrap;
        gap: 0.375rem;
        padding: 0.5rem 0.625rem;
        margin-bottom: 0.75rem;
    }

    .results-view .answers-grid.grid-6~.survivors-count {
        display: none;
    }

    .hud-item {
        flex: 1;
        min-width: 4rem;
    }

    .hud-label {
        font-size: 0.5rem;
    }

    .hud-value {
        font-size: 0.7rem;
    }

    /* Game section */
    .game-section {
        max-width: 100%;
        margin-top: 0;
        padding: 0.5rem;
    }

    /* Results */
    .results-grid {
        grid-template-columns: 1fr;
    }

    .game-stats {
        flex-direction: column;
        gap: 1rem;
    }

    /* Notifications */
    .answer-notification {
        display: none;
    }

    .notif-username {
        font-size: 0.7rem;
    }

    .notif-text {
        font-size: 0.65rem;
    }

    @keyframes curvedPath1 {
        0% {
            opacity: 0;
            transform: translate(-0.5rem, 0.5rem) scale(0.85);
        }

        3% {
            opacity: 0.9;
            transform: translate(-0.75rem, -0.25rem) scale(1);
        }

        100% {
            opacity: 0;
            transform: translate(-1.25rem, -9.375rem) scale(0.85);
        }
    }

    @keyframes curvedPath2 {
        0% {
            opacity: 0;
            transform: translate(0.5rem, 0.5rem) scale(0.85);
        }

        3% {
            opacity: 0.9;
            transform: translate(0.9375rem, -0.25rem) scale(1);
        }

        100% {
            opacity: 0;
            transform: translate(4.375rem, -8.75rem) scale(0.85);
        }
    }

    /* ============================================
    LEADERBOARD MOBILE - FIX COMPLET
    ============================================ */

    /* üî• FIX: D√©sactiver TOUTES les animations sur mobile */
    .leaderboard-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 85%;
        max-width: 18rem;
        height: 100vh;
        max-height: 100vh;
        border-radius: 0 1rem 1rem 0;
        transform: translateX(-100%);
        opacity: 0;
        pointer-events: none;
        background: rgba(0, 0, 0, 0.95);
        padding: 1.25rem 1rem;
        animation: none;
    }

    .leaderboard-container.mobile-open {
        transform: translateX(0);
        opacity: 1;
        pointer-events: auto;
    }

    .leaderboard-title {
        font-size: 0.75rem;
        letter-spacing: 0.1rem;
        margin-bottom: 1rem;
        padding-bottom: 0.75rem;
    }

    .leaderboard-list {
        max-height: calc(100vh - 6rem);
        overflow-y: auto;
    }

    .leaderboard-item {
        padding: 0.65rem 0;
        gap: 0.75rem;
        animation: none;
    }

    .rank {
        font-size: 0.65rem;
        min-width: 1.5rem;
    }

    .player-name {
        font-size: 0.8rem;
    }

    .player-title {
        font-size: 0.55rem;
    }

    .player-winrate {
        font-size: 0.75rem;
    }

    .leaderboard-toggle-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        position: fixed;
        top: 1rem;
        left: 1rem;
        width: 2.75rem;
        height: 2.75rem;
        background: rgba(0, 0, 0, 0.6);
        border: 1px solid rgba(255, 215, 0, 0.3);
        border-radius: 50%;
        color: var(--neon-primary);
        z-index: 499;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .leaderboard-toggle-btn:active {
        transform: scale(0.95);
    }

    .leaderboard-toggle-btn.hidden {
        opacity: 0;
        pointer-events: none;
    }

    .leaderboard-close-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        background: transparent;
        border: none;
        color: var(--text-secondary);
        font-size: 1.25rem;
        cursor: pointer;
        padding: 0.25rem;
        transition: color 0.2s ease;
    }

    .leaderboard-close-btn:hover {
        color: var(--neon-primary);
    }

    .leaderboard-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 498;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
    }

    .leaderboard-overlay.active {
        opacity: 1;
        pointer-events: auto;
    }
}

/* ============================================
   PROFIL & BADGES SYSTEM
   ============================================ */

/* Bouton Profil (en haut √† droite) */
.profile-btn {
    position: fixed;
    top: 1.25rem;
    right: 1.25rem;
    width: 3rem;
    height: 3rem;
    background: rgba(31, 31, 31, 0.8);
    backdrop-filter: blur(0.625rem);
    border: 0.1rem solid rgba(255, 215, 0, 0.3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 500;
    color: var(--neon-primary);
}

.profile-btn:hover {
    transform: scale(1.1);
    border-color: var(--neon-primary);
    box-shadow: 0 0 1.25rem rgba(255, 215, 0, 0.4);
}

.profile-btn svg {
    filter: drop-shadow(0 0 0.25rem rgba(255, 215, 0, 0.3));
}


.stat-number {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary);
}

.stat-label {
    font-size: 0.75rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.0312rem;
}


.section-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.75rem;
}


.badge-icon {
    font-size: 1.8rem;
}

.badge-label {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-secondary);
}


.title-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.title-name {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-primary);
}

.title-requirement {
    font-size: 0.7rem;
    color: var(--text-secondary);
}


.spectator-card {
    text-align: center;
}

.spectator-icon {
    font-size: 3.2rem;
    margin-bottom: 1rem;
}

/* üÜï Notification de kick discr√®te */
.kick-notification {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    color: #ff6b6b;
    font-size: 0.85rem;
    font-weight: 500;
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 1000;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
}

.kick-notification.show {
    opacity: 0.6;
}

/* Mobile: centr√© en bas */
@media (max-width: 768px) {
    .kick-notification {
        right: auto;
        left: 50%;
        transform: translateX(-50%) translateY(20px);
    }

    .kick-notification.show {
        transform: translateX(-50%) translateY(0);
    }
}

/* ============================================
   INSTAGRAM BUTTON - C√¥te √† c√¥te en bas √† gauche
   ============================================ */
.instagram-btn {
    position: fixed;
    bottom: 1.5rem;
    right: 0.9375rem;
    /* Premier √† gauche */
    width: 3rem;
    height: 3rem;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 100;
    color: rgba(255, 255, 255, 0.5);
    text-decoration: none;
    animation: slideInLeft 0.8s ease-out;
}

.instagram-btn:hover {
    transform: scale(1.1);
    color: var(--neon-primary);
    filter: drop-shadow(0 0 0.5rem rgba(255, 215, 0, 0.3));
}

.instagram-btn svg {
    transition: all 0.3s ease;
}

/* ============================================
   TIKTOK BUTTON - √Ä c√¥t√© d'Instagram
   ============================================ */
.tiktok-btn {
    position: fixed;
    bottom: 1.5rem;
    left: 3.75rem;
    /* 24px + 48px (largeur insta) + 8px gap */
    width: 3rem;
    height: 3rem;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 100;
    color: rgba(255, 255, 255, 0.5);
    text-decoration: none;
    animation: slideInLeft 0.8s ease-out;
}

.tiktok-btn:hover {
    transform: scale(1.1);
    color: var(--neon-primary);
    filter: drop-shadow(0 0 0.5rem rgba(255, 215, 0, 0.3));
}

.tiktok-btn svg {
    transition: all 0.3s ease;
}

/* Animation slide depuis la gauche */
@keyframes slideInLeft {
    0% {
        opacity: 0;
        transform: translateY(1.875rem);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Mobile */
@media (max-width: 38.375rem) {
    .instagram-btn {
        bottom: 1.25rem;
        /* Au lieu de 80px */
        left: 1.25rem;
        width: 2.75rem;
        height: 2.75rem;
    }

    .tiktok-btn {
        bottom: 1.25rem;
        /* Au lieu de 80px */
        left: 4.5rem;
        /* 20px + 44px + 8px gap */
        width: 2.75rem;
        height: 2.75rem;
    }
}

/* ============================================
   HUD JOUEUR - MODE POINTS
   ============================================ */
.hud-item.points-display {
    flex-direction: column;
    /* üî• Comme les autres hud-item */
    gap: 0.2rem;
    /* üî• M√™me gap que les autres */
    align-items: center;
}

.points-counter {
    display: flex;
    align-items: center;
    gap: 0.375rem;
}

.points-icon {
    font-size: 1rem;
}

.points-number {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--neon-primary);
    text-shadow: 0 0 0.5rem rgba(255, 215, 0, 0.3);
}

/* ============================================
   ANIMATION +X POINTS
   ============================================ */
.points-animation-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 100;
}

.points-gained {
    font-size: 2rem;
    font-weight: 900;
    color: var(--success-color);
    text-shadow:
        0 0 0.625rem rgba(16, 185, 129, 0.8),
        0 0 1.25rem rgba(16, 185, 129, 0.5);
    animation: pointsPopUp 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes pointsPopUp {
    0% {
        opacity: 0;
        transform: scale(0.5) translateY(0);
    }

    20% {
        opacity: 1;
        transform: scale(1.2) translateY(-0.625rem);
    }

    50% {
        transform: scale(1) translateY(-1.25rem);
    }

    100% {
        opacity: 0;
        transform: scale(0.8) translateY(-3.75rem);
    }
}


.tie-section-improved {
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: var(--bg-secondary);
    border-radius: 0.75rem;
    border: 0.1rem solid var(--warning-color);
}

.tie-label {
    font-size: 0.9rem;
    color: var(--warning-color);
    text-transform: uppercase;
    letter-spacing: 0.05rem;
    font-weight: 600;
    margin-bottom: 1rem;
    text-align: center;
}

.tie-winners {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.tie-winner {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    background: var(--bg-main);
    border-radius: 0.5rem;
    border: 0.0625rem solid rgba(255, 165, 0, 0.3);
}

.tie-winner-name {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
}

.tie-winner-points {
    font-size: 1rem;
    font-weight: 600;
    color: var(--warning-color);
}

/* ============================================
   AUCUN GAGNANT
   ============================================ */
.no-winner-section {
    text-align: center;
    margin: 1.5rem 0;
    padding: 1.5rem;
    background: var(--bg-secondary);
    border-radius: 0.75rem;
    border: 0.1rem solid var(--text-secondary);
}

.no-winner-icon {
    font-size: 3rem;
    margin-bottom: 0.75rem;
}

.no-winner-text {
    font-size: 1.2rem;
    color: var(--text-secondary);
    font-weight: 600;
}


/* ============================================
   WINNER STATS - MODE POINTS
   ============================================ */
.winner-points {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 1.2rem;
}

.points-icon-large {
    font-size: 2rem;
}

.points-number-large {
    font-size: 2.5rem;
    font-weight: 900;
    color: var(--neon-primary);
    text-shadow: 0 0 0.9375rem rgba(255, 215, 0, 0.5);
}

.points-text {
    font-size: 1rem;
    color: var(--text-secondary);
}

/* ============================================
   PODIUM TOP 3
   ============================================ */
.podium-section {
    margin: 1.5rem 0;
    padding: 1.25rem;
    background: var(--bg-secondary);
    border-radius: 0.75rem;
    border: 0.0625rem solid var(--border);
}

.podium-title {
    font-size: 1rem;
    color: var(--text-primary);
    text-align: center;
    margin-bottom: 1rem;
    font-weight: 600;
}

.podium-list {
    display: flex;
    flex-direction: column;
    gap: 0.625rem;
}

.podium-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: var(--bg-card);
    border-radius: 0.5rem;
    border: 0.1rem solid var(--border);
    transition: all 0.3s ease;
}

.podium-item.rank-1 {
    border-color: #FFD700;
    background: linear-gradient(90deg, rgba(255, 215, 0, 0.1), transparent);
}

.podium-item.rank-2 {
    border-color: #C0C0C0;
    background: linear-gradient(90deg, rgba(192, 192, 192, 0.1), transparent);
}

.podium-item.rank-3 {
    border-color: #CD7F32;
    background: linear-gradient(90deg, rgba(205, 127, 50, 0.1), transparent);
}

.podium-rank {
    width: 2rem;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--neon-primary);
    color: var(--bg-main);
    border-radius: 50%;
    font-size: 0.9rem;
    font-weight: 700;
    flex-shrink: 0;
}

.podium-item.rank-1 .podium-rank {
    background: #FFD700;
    box-shadow: 0 0 0.9375rem rgba(255, 215, 0, 0.5);
}

.podium-item.rank-2 .podium-rank {
    background: #C0C0C0;
}

.podium-item.rank-3 .podium-rank {
    background: #CD7F32;
}

.podium-info {
    flex: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.podium-name {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-primary);
}

.podium-points {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--neon-primary);
}


/* ============================================
   SYST√àME DE COMBO & BONUS
   ============================================ */

/* ========== JAUGE DE COMBO (PC - C√¥t√© droit) ========== */
.combo-gauge-container {
    position: fixed;
    right: 2.5rem;
    top: 50%;
    transform: translateY(-50%);
    width: 1.5rem;
    /* üî• Recentr√© √† 50% */
    z-index: 400;
    opacity: 0.9;
}


.combo-gauge {
    width: 100%;
    height: 32rem;
    background: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(0.5rem);
    border: 0.125rem double rgba(238, 242, 242, 0.253);
    border-radius: 1.25rem;
    padding: 0.125rem 0.1875rem;
    /* üî• Padding horizontal r√©duit */
    position: relative;
    overflow: visible;
    /* üî• Chang√© de hidden √† visible pour voir le label */
}

.combo-gauge::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(180deg, transparent, rgba(255, 215, 0, 0.03));
    pointer-events: none;
}


.combo-bar-wrapper {
    height: 31.5rem;
    width: 100%;
    position: relative;
    overflow: hidden;
    /* üî• AJOUT√â ici pour garder la barre contenue */
}

.combo-bar-bg {
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 0.9375rem;
    position: relative;
    overflow: visible;
    /* üî• CHANG√â de hidden √† visible */
}


/* Barre de progression */
.combo-bar-fill {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(180deg,
            rgba(255, 215, 0, 0.4) 0%,
            rgba(255, 215, 0, 0.7) 50%,
            var(--neon-primary) 100%);
    border-radius: 1rem !important;
    /* üî• AJOUT√â - Force l'arrondi en permanence */

    transition: height 0.5s cubic-bezier(0.4, 0, 0.2, 1);

    box-shadow: 0 0 1.25rem rgba(255, 215, 0, 0.4);
    transform-origin: bottom;
}


/* üî• Quand on level-up, on override la transition */
.combo-bar-fill.level-up-complete {
    animation: levelUpCelebration 1.5s ease-out forwards;
    box-shadow:
        0 0 2.5rem rgba(255, 215, 0, 1),
        0 0 5rem rgba(255, 215, 0, 0.8),
        0 0 7.5rem rgba(255, 215, 0, 0.6),
        inset 0 0 2.5rem rgba(255, 255, 255, 0.5);

    /* üî• FORCER le border-radius pendant toute l'animation */
    border-radius: 0.9375rem !important;

    /* üî• Emp√™cher TOUTE modification de hauteur */
    overflow: hidden;
}

/* üî• REMPLACER @keyframes levelUpCelebration - SANS transform: scaleY() */
@keyframes levelUpCelebration {
    0% {
        filter: brightness(1);
        /* üî• PAS de transform scaleY */
    }

    10% {
        filter: brightness(1.5);
    }

    25% {
        filter: brightness(2);
    }

    50% {
        filter: brightness(2.5);
    }

    75% {
        filter: brightness(2);
    }

    100% {
        filter: brightness(1.8);
    }
}


/* üî• Wrapper pour l'animation de level-up */
.combo-bar-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    border-radius: inherit;
    opacity: 0;
    transform: scaleY(1);
    transform-origin: bottom;
    pointer-events: none;
}


/* Particules dor√©es au level up */
.combo-particles {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    overflow: visible;
    /* üî• AJOUT√â */
    z-index: 10;
    /* üî• AJOUT√â pour √™tre au-dessus */
}

.combo-particles-external {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 999;
    overflow: visible;
}

.particle {
    position: absolute;
    width: 0.375rem;
    height: 0.375rem;
    background: radial-gradient(circle, var(--neon-primary), var(--neon-secondary));
    border-radius: 50%;
    opacity: 0;
    box-shadow:
        0 0 0.625rem var(--neon-primary),
        0 0 1.25rem var(--neon-primary),
        0 0 1.875rem rgba(255, 215, 0, 0.5);
    animation: particleBurst 1.2s ease-out forwards;
}

@keyframes particleBurst {
    0% {
        opacity: 1;
        transform: translateY(0) translateX(0) scale(0.5);
    }

    20% {
        opacity: 1;
        transform: translateY(-1.875rem) translateX(var(--drift)) scale(1.2);
    }

    50% {
        opacity: 0.8;
        transform: translateY(-3.75rem) translateX(var(--drift)) scale(1);
    }

    100% {
        opacity: 0;
        transform: translateY(-6.25rem) translateX(var(--drift)) scale(0.3);
    }
}

.combo-level-indicator {
    position: absolute;
    bottom: -3.125rem;
    left: 50%;
    transform: translateX(-50%);

    background: linear-gradient(135deg,
            rgba(255, 215, 0, 0.3),
            rgba(255, 165, 0, 0.3));
    color: var(--neon-primary);
    padding: 0.375rem 0.875rem;
    border-radius: 0.625rem;
    font-size: 0.6rem;
    font-weight: 900;
    letter-spacing: 0.0938rem;
    white-space: nowrap;

    box-shadow:
        0 0 0.9375rem rgba(255, 217, 0, 0.164),
        0 0 1.875rem rgba(255, 215, 0, 0.2),
        inset 0 0 1.25rem rgba(255, 215, 0, 0.1);

    animation: levelIndicatorPulse 2s ease-in-out infinite;

    text-shadow:
        0 0 0.625rem rgba(255, 215, 0, 0.8),
        0 0 1.25rem rgba(255, 215, 0, 0.4),
        0 0.125rem 0.25rem rgba(0, 0, 0, 0.5);
}


.combo-level-indicator:has-text("MAX") {
    font-size: 0.55rem;
    /* L√©g√®rement plus petit pour "MAX" */
    padding: 0.375rem 1rem;
    /* Un peu plus large */
}

@keyframes levelIndicatorPulse {

    0%,
    100% {
        box-shadow:
            0 0 0.9375rem rgba(255, 215, 0, 0.4),
            0 0 1.875rem rgba(255, 215, 0, 0.2),
            inset 0 0 1.25rem rgba(255, 215, 0, 0.1);
        transform: translateX(-50%) scale(1);
    }

    50% {
        box-shadow:
            0 0 1.25rem rgba(255, 215, 0, 0.6),
            0 0 2.5rem rgba(255, 215, 0, 0.3),
            inset 0 0 1.5625rem rgba(255, 215, 0, 0.15);
        transform: translateX(-50%) scale(1.05);
    }
}


/* Effet de disparition (300ms) - Fade-out √©l√©gant */
.combo-bar-fill.level-up-fadeout {
    animation: levelUpFadeOut 0.3s ease-out forwards;

    /* üî• GARDER le border-radius */
    border-radius: 0.9375rem !important;

    /* üî• Emp√™cher toute modification de hauteur */
    overflow: hidden;
}

@keyframes levelUpFadeOut {
    0% {
        opacity: 1;
        filter: brightness(1.8);
    }

    100% {
        opacity: 0;
        filter: brightness(0.5);
    }
}


/* Label MAX */
.combo-max-label {
    position: absolute;
    top: -1.875rem;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    color: var(--bg-main);
    padding: 0.25rem 0.75rem;
    border-radius: 0.5rem;
    font-size: 0.7rem;
    font-weight: 900;
    letter-spacing: 0.0625rem;
    box-shadow: 0 0 0.9375rem rgba(255, 215, 0, 0.5);
    animation: maxPulse 2s ease-in-out infinite;
}


@keyframes maxPulse {

    0%,
    100% {
        transform: translateX(-50%) scale(1);
    }

    50% {
        transform: translateX(-50%) scale(1.05);
    }
}

/* ============================================
   üÜï NOUVEAU SYST√àME BONUS - IC√îNE + HOVER MENU
   ============================================ */

.bonus-icon-container {
    position: fixed;
    right: 1.93rem;
    top: calc(50% - 19.75rem);
    z-index: 500;
}

.bonus-icon-wrapper {
    position: relative;
    cursor: pointer;
}

/* Ic√¥ne principale */
.bonus-main-icon {
    width: 2.5rem;
    height: 2.5rem;
    background: rgba(31, 31, 31, 0.6);
    backdrop-filter: blur(0.5rem);
    border: 0.125rem solid rgba(255, 255, 255, 0.15);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    position: relative;
}

.bonus-main-icon svg {
    width: 1.375rem;
    height: 1.375rem;
    fill: rgba(255, 255, 255, 0.4);
    transition: all 0.3s ease;
}

/* √âtat actif (bonus disponibles) */
.bonus-main-icon.active {
    border-color: rgba(255, 215, 0, 0.4);
}

.bonus-main-icon:not(.active) {
    border-color: rgba(255, 255, 255, 0.1);
    opacity: 0.4;
}

.bonus-main-icon:not(.active) svg {
    fill: rgba(255, 255, 255, 0.2);
}

.bonus-main-icon.active svg {
    fill: var(--neon-primary);
    filter: drop-shadow(0 0 0.375rem rgba(255, 215, 0, 0.4));
}

.bonus-icon-wrapper:hover .bonus-main-icon.active {
    border-color: var(--neon-primary);
    box-shadow: 0 0 1.25rem rgba(255, 215, 0, 0.3);
}

/* Badge compteur */
.bonus-count-badge {
    position: absolute;
    top: -0.375rem;
    right: -0.375rem;
    width: 1.25rem;
    height: 1.25rem;
    background: #ff4757;
    color: #fff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: 700;
    border: 0.125rem solid var(--bg-primary);
    box-shadow: 0 0 0.75rem rgba(255, 71, 87, 0.6);
}


/* Menu des bonus (container des strips) */
.bonus-menu {
    position: absolute;
    right: 100%;
    top: 0;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding-right: 0.75rem;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.bonus-icon-wrapper:hover .bonus-menu {
    opacity: 1;
    pointer-events: auto;
}

.bonus-menu .bonus-strip {
    animation: bonusMenuSlideIn 0.3s ease-out backwards;
}

.bonus-menu .bonus-strip:nth-child(1) {
    animation-delay: 0s;
}

.bonus-menu .bonus-strip:nth-child(2) {
    animation-delay: 0.05s;
}

.bonus-menu .bonus-strip:nth-child(3) {
    animation-delay: 0.1s;
}


/* Bandelette individuelle */
.bonus-strip {
    padding: 0.5625rem 1rem 0.5625rem 0.75rem;
    /* üî• MODIFI√â: Plus d'espace √† gauche pour l'ic√¥ne */
    border-radius: 0.5rem;
    border-top-left-radius: 0%;
    border-bottom-left-radius: 0%;
    border: none;
    backdrop-filter: blur(0.625rem);
    cursor: pointer;
    transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
    min-width: 8.75rem;
    /* üî• MODIFI√â: √âlargi de 110px √† 140px */
    text-align: left;
    /* üî• MODIFI√â: Alignement √† gauche */
    position: relative;
    overflow: hidden;
    display: flex;
    /* üî• NOUVEAU: Flexbox pour aligner ic√¥ne + texte */
    align-items: center;
    gap: 0.625rem;
    /* üî• NOUVEAU: Espace entre ic√¥ne et texte */
}

/* üî• NOUVEAU: Style de l'ic√¥ne */
.bonus-icon-img {
    width: 1.375rem;
    height: 1.375rem;
    object-fit: contain;
    filter: drop-shadow(0 0 0.25rem rgba(255, 215, 0, 0.3));
    transition: transform 0.3s ease, filter 0.3s ease;
    flex-shrink: 0;
    /* Emp√™cher le r√©tr√©cissement */
}

.bonus-strip::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg,
            transparent 0%,
            rgba(255, 215, 0, 0) 30%,
            rgba(255, 215, 0, 0.15) 100%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 0;
}


.bonus-strip.available::before {
    opacity: 1;
}


.bonus-strip.available:hover::before {
    background: linear-gradient(90deg,
            transparent 0%,
            rgba(255, 215, 0, 0) 40%,
            rgba(255, 217, 0, 0.047) 100%);
}

.bonus-strip-text {
    font-size: 0.7rem;
    /* üî• MODIFI√â: L√©g√®rement plus grand (0.6 ‚Üí 0.7) */
    font-weight: 600;
    letter-spacing: 0.0312rem;
    position: relative;
    z-index: 1;
    white-space: nowrap;
    flex: 1;
    /* Prendre l'espace restant */
}

/* üî• REFONTE: Compteur individuel par bonus */
.bonus-strip-count {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.75rem;
    font-weight: 700;
    color: #f0c14b;
    background: rgba(240, 193, 75, 0.15);
    padding: 0.15rem 0.5rem;
    border-radius: 4px;
    min-width: 1.75rem;
    text-align: center;
    position: relative;
    z-index: 1;
}

.bonus-strip.locked .bonus-strip-count {
    color: #555;
    background: rgba(255, 255, 255, 0.05);
}

.bonus-strip.available .bonus-strip-count {
    color: #f0c14b;
    background: rgba(240, 193, 75, 0.2);
}

/* üî• √âtat LOCKED (gris√©, non d√©bloqu√©) */
.bonus-strip.locked {
    background: linear-gradient(90deg,
            transparent 0%,
            rgba(60, 60, 60, 0.15) 40%,
            rgba(60, 60, 60, 0.3) 100%);
    opacity: 0.4;
    cursor: not-allowed;
}

.bonus-strip.locked .bonus-strip-text {
    color: rgba(255, 255, 255, 0.3);
}

/* üî• √âtat AVAILABLE (disponible) */
.bonus-strip.available {
    background: linear-gradient(90deg,
            transparent 0%,
            rgba(255, 215, 0, 0.03) 40%,
            /* üî• R√âDUIT de 0.08 √† 0.03 */
            rgba(255, 215, 0, 0.08) 100%
            /* üî• R√âDUIT de 0.15 √† 0.08 */
        );
}

.bonus-strip.available .bonus-strip-text {
    color: rgb(253, 253, 238);
    opacity: 0.7;
    text-shadow: 0 0 0.5rem rgba(255, 215, 0, 0.3);
}

.bonus-strip.available:hover {
    transform: scale(1.08);
    background: linear-gradient(90deg,
            transparent 0%,
            rgba(255, 215, 0, 0.08) 40%,
            /* üî• R√âDUIT de 0.15 √† 0.08 */
            rgba(255, 215, 0, 0.15) 100%
            /* üî• R√âDUIT de 0.25 √† 0.15 */
        );
    /* box-shadow: 0 4px 16px rgba(255, 215, 0, 0.2); */
}


/* üÜï √âtat DISABLED (pas utilisable en ce moment) */
.bonus-strip.disabled {
    opacity: 0.3 !important;
    cursor: not-allowed !important;
    pointer-events: none;
}

.bonus-strip.available.disabled {
    background: linear-gradient(90deg,
            rgba(60, 60, 60, 0.2) 0%,
            rgba(60, 60, 60, 0.1) 60%,
            transparent 100%) !important;
}

.bonus-strip.available.disabled::before {
    opacity: 0 !important;
}

.bonus-strip.disabled .bonus-strip-text {
    color: rgba(255, 255, 255, 0.2) !important;
}

/* üî• √âtat USED (d√©j√† utilis√©) */
.bonus-strip.used {
    background: linear-gradient(90deg,
            transparent 0%,
            rgba(40, 40, 40, 0.1) 40%,
            rgba(40, 40, 40, 0.2) 100%);
    opacity: 0.25;
    cursor: not-allowed;
}

.bonus-strip.used .bonus-strip-text {
    color: rgba(231, 21, 21, 0.2);
    text-decoration: line-through;
}

/* üé® Couleurs sp√©cifiques par bonus */

/* 
.bonus-strip.available:nth-child(1) {
    background: rgba(37, 40, 3, 0.482); 
    border-color: rgba(255, 237, 34, 0.09);
}

.bonus-strip.available:nth-child(1):hover {
    background: rgba(83, 90, 7, 0.482); 
    border-color: rgba(255, 237, 34, 0.3);
}

.bonus-strip.available:nth-child(2) {
   background: rgba(37, 40, 3, 0.482); 
    border-color: rgba(255, 237, 34, 0.3);
}

.bonus-strip.available:nth-child(2):hover {
    background: rgba(83, 90, 7, 0.482); 
    border-color: rgba(255, 237, 34, 0.3);
}

.bonus-strip.available:nth-child(3) {
    background: rgba(37, 40, 3, 0.482); 
    border-color: rgba(255, 237, 34, 0.3);
}

.bonus-strip.available:nth-child(3):hover {
    background: rgba(83, 90, 7, 0.482); 
    border-color: rgba(255, 237, 34, 0.3);
} */


@keyframes bonusMenuSlideIn {
    0% {
        transform: translateX(1.25rem);
    }

    100% {
        transform: translateX(0);
    }
}

@keyframes bonusMenuSlideOut {
    0% {
        transform: translateX(0);
    }

    100% {
        transform: translateX(1.25rem);
    }
}

/* Animation √©chelonn√©e des bandelettes */
.bonus-strip:nth-child(1) {
    animation-delay: 0s;
}

.bonus-strip:nth-child(2) {
    animation-delay: 0.05s;
}

.bonus-strip:nth-child(3) {
    animation-delay: 0.1s;
}

/* ============================================
   RESPONSIVE MOBILE
   ============================================ */
@media (max-width: 38.375rem) {
    .bonus-icon-container {
        right: 4.75rem;
        /* √Ä gauche du bouton profil */
        top: 1.25rem;
        /* En haut */
    }

    .bonus-main-icon {
        width: 3rem;
        height: 3rem;
    }

    .bonus-main-icon svg {
        width: 1.5rem;
        height: 1.5rem;
    }


    .bonus-strip {
        min-width: 7.5rem;
    }
}

/* ========== EFFETS DES BONUS SUR LES R√âPONSES ========== */
.answer-btn.bonus-5050-hidden {
    opacity: 0.3;
    pointer-events: none;
    filter: grayscale(1);
}


.answer-btn.bonus-5050-hidden::before,
.answer-btn.bonus-5050-hidden::after {
    opacity: 0.2;
    filter: grayscale(1);
}

.answer-btn.bonus-revealed {
    border-color: var(--success-color) !important;
    background: rgba(16, 185, 129, 0.15) !important;
    box-shadow: 0 0 1.25rem rgba(16, 185, 129, 0.3);
    animation: revealPulse 1s ease-in-out infinite;
}

@keyframes revealPulse {

    0%,
    100% {
        box-shadow: 0 0 1.25rem rgba(16, 185, 129, 0.3);
    }

    50% {
        box-shadow: 0 0 1.875rem rgba(16, 185, 129, 0.5);
    }
}

/* ========== RESPONSIVE MOBILE ========== */
@media (max-width: 38.375rem) {

    /* Jauge cach√©e sur mobile */
    .combo-gauge-container {
        display: none !important;
    }

    /* Box bonus repositionn√©e */
    .bonus-box-container {
        top: 1.25rem;
        /* üî• M√™me hauteur que desktop */
        right: 4.75rem;
        /* üî• √Ä gauche du bouton profil mobile */
    }

    .bonus-trigger-btn {
        width: 3rem;
        height: 3rem;
    }

    .bonus-trigger-btn svg {
        width: 1.5rem;
        height: 1.5rem;
    }

    .bonus-notification-badge {
        width: 1.375rem;
        height: 1.375rem;
        font-size: 0.7rem;
        top: -0.3125rem;
        right: -0.3125rem;
    }

    .combo-level-indicator {
        bottom: -2.25rem;
        padding: 0.3125rem 0.75rem;
        font-size: 0.7rem;
    }

    .bonus-modal {
        width: 95%;
        max-width: none;
        padding: 1.25rem;
    }
}


/* üÜï Indicateur Bouclier */
.shield-indicator {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.375rem 0.75rem;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(147, 197, 253, 0.2));
    border: 0.125rem solid rgba(59, 130, 246, 0.5);
    border-radius: 0.5rem;
    font-size: 1.2rem;
    box-shadow:
        0 0 1.25rem rgba(59, 130, 246, 0.6),
        0 0 2.5rem rgba(59, 130, 246, 0.3),
        inset 0 0 1.25rem rgba(59, 130, 246, 0.1);
    animation: shieldPulse 2s ease-in-out infinite;
}

@keyframes shieldPulse {

    0%,
    100% {
        transform: scale(1);
        box-shadow:
            0 0 1.25rem rgba(59, 130, 246, 0.6),
            0 0 2.5rem rgba(59, 130, 246, 0.3);
    }

    50% {
        transform: scale(1.1);
        box-shadow:
            0 0 1.875rem rgba(59, 130, 246, 0.8),
            0 0 3.75rem rgba(59, 130, 246, 0.5);
    }
}

/* Animation d'apparition du bouclier */
.shield-pulse-enter-active {
    animation: shieldAppear 0.5s ease-out;
}

.shield-pulse-leave-active {
    animation: shieldDisappear 0.3s ease-in;
}

@keyframes shieldAppear {
    0% {
        opacity: 0;
        transform: scale(0.5) rotate(-180deg);
    }

    60% {
        transform: scale(1.2) rotate(10deg);
    }

    100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
    }
}

@keyframes shieldDisappear {
    0% {
        opacity: 1;
        transform: scale(1);
    }

    100% {
        opacity: 0;
        transform: scale(0.5) rotate(180deg);
    }
}


/* ============================================
   ANIMATIONS SHIELD - √Ä AJOUTER DANS home.css
   ============================================ */

/* Overlay d'effet Shield (activation) */
.shield-overlay-effect {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: radial-gradient(circle at center,
            rgba(59, 130, 246, 0.3) 0%,
            rgba(59, 130, 246, 0.1) 30%,
            transparent 70%);
    pointer-events: none;
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.5s ease;
}

.shield-overlay-effect.active {
    opacity: 1;
    animation: shieldPulseOverlay 2s ease-in-out;
}

@keyframes shieldPulseOverlay {

    0%,
    100% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.1);
        opacity: 0.7;
    }
}

/* Vague de protection (quand Shield prot√®ge) */
.shield-protection-wave {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 5rem;
    /* üî• R√âDUIT de 100px √† 80px */
    height: 5rem;
    border: 0.1875rem solid rgba(59, 130, 246, 0.8);
    /* üî• R√âDUIT de 4px √† 3px */
    border-radius: 50%;
    pointer-events: none;
    z-index: 9998;
    opacity: 1;
    box-shadow:
        0 0 1.875rem rgba(59, 130, 246, 0.6),
        0 0 3.75rem rgba(59, 130, 246, 0.4),
        inset 0 0 1.875rem rgba(59, 130, 246, 0.2);
    will-change: transform, opacity;
    /* üî• AJOUT√â pour fluidit√© */
}

.shield-protection-wave.expand {
    animation: shieldWaveExpand 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    /* üî• Meilleure courbe */
}

@keyframes shieldWaveExpand {
    0% {
        width: 5rem;
        height: 5rem;
        opacity: 1;
        border-width: 0.1875rem;
    }

    50% {
        opacity: 0.7;
        /* üî• AJUST√â de 0.6 √† 0.7 */
        border-width: 0.375rem;
        /* üî• R√âDUIT de 8px √† 6px */
    }

    100% {
        width: 120vh;
        /* üî• R√âDUIT de 140vh √† 120vh */
        height: 120vh;
        opacity: 0;
        border-width: 0.125rem;
    }
}

/* Am√©lioration de l'indicateur Shield existant */
.shield-indicator {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.375rem 0.75rem;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(147, 197, 253, 0.3));
    border: 0.125rem solid rgba(59, 130, 246, 0.6);
    border-radius: 0.5rem;
    font-size: 1.2rem;
    box-shadow:
        0 0 1.875rem rgba(59, 130, 246, 0.7),
        0 0 3.75rem rgba(59, 130, 246, 0.4),
        inset 0 0 1.875rem rgba(59, 130, 246, 0.2);
    animation: shieldPulseIndicator 1.5s ease-in-out infinite;
}

@keyframes shieldPulseIndicator {

    0%,
    100% {
        transform: scale(1);
        box-shadow:
            0 0 1.875rem rgba(59, 130, 246, 0.7),
            0 0 3.75rem rgba(59, 130, 246, 0.4);
    }

    50% {
        transform: scale(1.15);
        box-shadow:
            0 0 2.8125rem rgba(59, 130, 246, 0.9),
            0 0 5.625rem rgba(59, 130, 246, 0.6);
    }
}

/* Animation quand Shield est actif sur une r√©ponse */
.answer-btn.shield-active {
    border-color: rgba(59, 130, 246, 0.6) !important;
    background: rgba(59, 130, 246, 0.1) !important;
    box-shadow:
        0 0 1.25rem rgba(59, 130, 246, 0.4),
        inset 0 0 1.25rem rgba(59, 130, 246, 0.1);
    animation: shieldAnswerPulse 2s ease-in-out infinite;
}

@keyframes shieldAnswerPulse {

    0%,
    100% {
        box-shadow:
            0 0 1.25rem rgba(59, 130, 246, 0.4),
            inset 0 0 1.25rem rgba(59, 130, 246, 0.1);
    }

    50% {
        box-shadow:
            0 0 1.875rem rgba(59, 130, 246, 0.6),
            inset 0 0 1.875rem rgba(59, 130, 246, 0.2);
    }
}

/* Particules Shield (optionnel - effet premium) */
.shield-particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 9997;
    overflow: hidden;
}

.shield-particle {
    position: absolute;
    width: 0.25rem;
    height: 0.25rem;
    background: radial-gradient(circle,
            rgba(59, 130, 246, 1) 0%,
            rgba(147, 197, 253, 0.5) 50%,
            transparent 100%);
    border-radius: 50%;
    opacity: 0;
    animation: shieldParticleFloat 2s ease-out forwards;
}

@keyframes shieldParticleFloat {
    0% {
        opacity: 1;
        transform: translateY(0) scale(0.5);
    }

    50% {
        opacity: 0.8;
        transform: translateY(-30vh) scale(1);
    }

    100% {
        opacity: 0;
        transform: translateY(-60vh) scale(0.3);
    }
}

/* Effet de brillance sur le bouton Shield quand disponible */
.bonus-strip.available:has(.bonus-strip-text:contains("Bouclier")) {
    position: relative;
    overflow: hidden;
}

.bonus-strip.available:has(.bonus-strip-text:contains("Bouclier"))::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg,
            transparent 30%,
            rgba(59, 130, 246, 0.3) 50%,
            transparent 70%);
    animation: shieldButtonShine 3s ease-in-out infinite;
}

@keyframes shieldButtonShine {
    0% {
        transform: translateX(-100%) translateY(-100%) rotate(45deg);
    }

    100% {
        transform: translateX(100%) translateY(100%) rotate(45deg);
    }
}

/* Responsive mobile */
@media (max-width: 38.375rem) {
    .shield-overlay-effect {
        background: radial-gradient(circle at center,
                rgba(59, 130, 246, 0.4) 0%,
                rgba(59, 130, 246, 0.15) 25%,
                transparent 60%);
    }

    .shield-protection-wave {
        width: 5rem;
        height: 5rem;
        border-width: 0.1875rem;
    }

    @keyframes shieldWaveExpand {
        0% {
            width: 5rem;
            height: 5rem;
            opacity: 1;
            border-width: 0.1875rem;
        }

        100% {
            width: 120vh;
            height: 120vh;
            opacity: 0;
            border-width: 0.0625rem;
        }
    }
}


/* Overlay d'effet Shield (activation) */
.shield-overlay-effect {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: radial-gradient(circle at center,
            rgba(59, 130, 246, 0.3) 0%,
            rgba(59, 130, 246, 0.1) 30%,
            transparent 70%);
    pointer-events: none;
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.5s ease;
}

.shield-overlay-effect.active {
    opacity: 1;
    animation: shieldPulseOverlay 2s ease-in-out;
}

@keyframes shieldPulseOverlay {

    0%,
    100% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.1);
        opacity: 0.7;
    }
}


/* üÜï Pulse sobre du HUD en m√™me temps */
.player-hud.shield-protected {
    animation: shieldHudPulse 3s ease-in-out infinite;
}

@keyframes shieldHudPulse {

    0%,
    100% {
        border-color: rgba(59, 130, 246, 0.35);
        box-shadow:
            0 0 1.125rem rgba(59, 130, 246, 0.25),
            inset 0 0 1.125rem rgba(59, 130, 246, 0.1);
    }

    50% {
        border-color: rgba(59, 130, 246, 0.45);
        box-shadow:
            0 0 1.375rem rgba(59, 130, 246, 0.35),
            inset 0 0 1.375rem rgba(59, 130, 246, 0.13);
    }
}


/* ============================================
   IC√îNE X2 DANS LE HUD
   ============================================ */

/* Ic√¥ne x2 en position absolue */
.hud-x2-icon {
    position: absolute;
    right: -3.125rem;
    /* M√™me position que le Shield */
    top: 43%;
    transform: translateY(-50%);
    width: 2rem;
    object-fit: contain;
    filter: drop-shadow(0 0 0.9375rem rgba(255, 215, 0, 0.8)) drop-shadow(0 0 1.875rem rgba(255, 165, 0, 0.4));
    animation: x2IconFloat 2s ease-in-out infinite;
    pointer-events: none;
}

/* Animation flottante de l'ic√¥ne (vertical) */
@keyframes x2IconFloat {

    0%,
    100% {
        transform: translateY(-50%) translateY(0);
    }

    50% {
        transform: translateY(-50%) translateY(-0.3125rem);
    }
}

/* Animation d'apparition/disparition */
.x2-icon-fade-enter-active {
    animation: x2IconAppear 0.5s ease-out;
}

.x2-icon-fade-leave-active {
    animation: x2IconDisappear 0.3s ease-in;
}

@keyframes x2IconAppear {
    0% {
        opacity: 0;
        transform: translateY(-50%) scale(0.5) rotate(-180deg);
    }

    60% {
        transform: translateY(-50%) scale(1.1) rotate(10deg);
    }

    100% {
        opacity: 1;
        transform: translateY(-50%) scale(1) rotate(0deg);
    }
}

@keyframes x2IconDisappear {
    0% {
        opacity: 1;
        transform: translateY(-50%) scale(1);
    }

    100% {
        opacity: 0;
        transform: translateY(-50%) scale(0.3) rotate(180deg);
    }
}


/* Pulse dor√© pour le bonus x2 */
.player-hud.x2-protected {
    animation: x2HudPulse 3s ease-in-out infinite;
}

@keyframes x2HudPulse {
    0% {
        border-color: rgba(255, 215, 0, 0.3);
        box-shadow:
            0 0 0.9375rem rgba(255, 215, 0, 0.2),
            inset 0 0 0.9375rem rgba(255, 215, 0, 0.08);
    }

    50% {
        border-color: rgba(255, 215, 0, 0.5);
        box-shadow:
            0 0 1.5625rem rgba(255, 215, 0, 0.4),
            inset 0 0 1.5625rem rgba(255, 215, 0, 0.12);
    }

    100% {
        border-color: rgba(255, 215, 0, 0.3);
        box-shadow:
            0 0 0.9375rem rgba(255, 215, 0, 0.2),
            inset 0 0 0.9375rem rgba(255, 215, 0, 0.08);
    }
}


/* ============================================
   √âCRAN DE FIN - PODIUM SIMPLE (SANS FLIP)
   ============================================ */

/* Container principal */
.gameover-flip-container {
    max-width: 56.25rem;
    margin: 0 auto;
    padding: 2rem 1.25rem;
    animation: fadeInContainer 0.8s ease-out;
}

@keyframes fadeInContainer {
    0% {
        opacity: 0;
        transform: translateY(1.875rem);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ========== HEADER ========== */
.gameover-header-flip {
    text-align: center;
    margin-bottom: 3rem;
}

.gameover-title-flip {
    font-size: 2rem;
    font-weight: 900;
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: 0.1875rem;
    animation: titleSlideDown 0.6s ease-out;
}

@keyframes titleSlideDown {
    0% {
        opacity: 0;
        transform: translateY(-1.875rem);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ========== PODIUM CARDS ========== */
.podium-flip-cards {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    gap: 1.5rem;
    margin-bottom: 2.5rem;
    perspective: 93.75rem;
    min-height: 18.75rem;
}

/* Wrapper de carte (g√®re l'animation d'entr√©e) */
.flip-card-wrapper {
    opacity: 0;
    animation: cardSlideUp 0.8s ease-out forwards;
}

@keyframes cardSlideUp {
    0% {
        opacity: 0;
        transform: translateY(6.25rem) scale(0.8);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* üî• ORDRE D'APPARITION ET POSITIONNEMENT */

/* 3√®me - √Ä GAUCHE - Appara√Æt en PREMIER */
.flip-card-wrapper.rank-3 {
    order: 1;
    animation-delay: 0.5s;
}

/* 2√®me - √Ä DROITE - Appara√Æt en DEUXI√àME */
.flip-card-wrapper.rank-2 {
    order: 3;
    animation-delay: 1s;
}

/* 1er - AU CENTRE - Appara√Æt en DERNIER (effet dramatique) */
.flip-card-wrapper.rank-1 {
    order: 2;
    animation-delay: 1.5s;
}

/* Sur√©l√©vation visuelle */
.flip-card-wrapper.rank-1 {
    transform: translateY(-1.25rem);
}

.flip-card-wrapper.rank-2,
.flip-card-wrapper.rank-3 {
    transform: translateY(1.25rem);
}

/* La carte elle-m√™me (simple, pas de flip) */
.flip-card-single {
    width: 11.25rem;
    height: 15rem;
    position: relative;
    cursor: default;
}

/* Face unique */
.flip-card-face {
    width: 100%;
    height: 100%;
    border-radius: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1.25rem;
    box-shadow: 0 0.625rem 2.5rem rgba(0, 0, 0, 0.4);
    background: linear-gradient(135deg, rgba(31, 31, 31, 0.95), rgba(50, 50, 50, 0.95));
    border: 0.125rem solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
}

.flip-card-single:hover .flip-card-face {
    transform: translateY(-0.25rem);
    box-shadow: 0 0.9375rem 3.125rem rgba(0, 0, 0, 0.5);
}

/* Badge du rang */
.rank-badge {
    width: 4.375rem;
    height: 4.375rem;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2.5rem;
    font-weight: 900;
    color: var(--text-primary);
    margin-bottom: 1rem;
    border: 0.1875rem solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 0.25rem 1rem rgba(0, 0, 0, 0.3);
}

/* Nom du joueur */
.player-name-flip {
    font-size: 1.15rem;
    font-weight: 700;
    color: var(--text-primary);
    text-align: center;
    word-break: break-word;
    line-height: 1.3;
    margin-bottom: 0.75rem;
}

/* Score (points ou vies) - DISCRET */
.player-score-flip {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
    padding-top: 0.75rem;
    border-top: 0.0625rem solid rgba(255, 255, 255, 0.1);
    width: 100%;
}

.score-value {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--neon-primary);
    text-shadow: 0 0 0.625rem rgba(255, 215, 0, 0.3);
}

.score-value.lives-score {
    color: #ef4444;
    text-shadow: 0 0 0.625rem rgba(239, 68, 68, 0.3);
    font-size: 1.2rem;
}

.score-label {
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 0.0312rem;
}

/* ========== STYLES PAR RANG ========== */

/* 1er - Plus grand, dor√©, glow */
.flip-card-wrapper.rank-1 .flip-card-single {
    width: 13.125rem;
    height: 17.5rem;
}

.flip-card-wrapper.rank-1 .flip-card-face {
    border-color: #FFD700;
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(50, 50, 50, 0.95));
    box-shadow:
        0 0 2.5rem rgba(255, 215, 0, 0.5),
        0 0.9375rem 3.125rem rgba(0, 0, 0, 0.5);
}

.flip-card-wrapper.rank-1 .rank-badge {
    background: linear-gradient(135deg, #FFD700, #FFA500);
    color: #000;
    border-color: #FFD700;
    box-shadow:
        0 0 1.5625rem rgba(255, 215, 0, 0.7),
        0 0.25rem 1rem rgba(0, 0, 0, 0.4);
    width: 5rem;
    height: 5rem;
    font-size: 3rem;
}

.flip-card-wrapper.rank-1 .player-name-flip {
    font-size: 1.3rem;
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* 2√®me - Argent√© */
.flip-card-wrapper.rank-2 .flip-card-face {
    border-color: #C0C0C0;
    background: linear-gradient(135deg, rgba(192, 192, 192, 0.1), rgba(50, 50, 50, 0.95));
}

.flip-card-wrapper.rank-2 .rank-badge {
    background: linear-gradient(135deg, #C0C0C0, #A0A0A0);
    color: #000;
    border-color: #C0C0C0;
    box-shadow:
        0 0 0.9375rem rgba(192, 192, 192, 0.5),
        0 0.25rem 1rem rgba(0, 0, 0, 0.4);
}

/* 3√®me - Bronze */
.flip-card-wrapper.rank-3 .flip-card-face {
    border-color: #CD7F32;
    background: linear-gradient(135deg, rgba(205, 127, 50, 0.1), rgba(50, 50, 50, 0.95));
}

.flip-card-wrapper.rank-3 .rank-badge {
    background: linear-gradient(135deg, #CD7F32, #B8693C);
    color: #000;
    border-color: #CD7F32;
    box-shadow:
        0 0 0.9375rem rgba(205, 127, 50, 0.5),
        0 0.25rem 1rem rgba(0, 0, 0, 0.4);
}

/* ========== √âGALIT√â ========== */
.tie-section-flip {
    text-align: center;
    margin-bottom: 2.5rem;
}

.tie-badge-flip {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--warning-color);
    margin-bottom: 1.25rem;
}

.tie-players-flip {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    max-width: 25rem;
    margin: 0 auto;
}

.tie-player-flip {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    background: rgba(255, 165, 0, 0.1);
    border: 0.0625rem solid rgba(255, 165, 0, 0.3);
    border-radius: 0.75rem;
    animation: tiePlayerSlide 0.5s ease-out backwards;
}

.tie-player-flip:nth-child(1) {
    animation-delay: 0.5s;
}

.tie-player-flip:nth-child(2) {
    animation-delay: 0.7s;
}

.tie-player-flip:nth-child(3) {
    animation-delay: 0.9s;
}

@keyframes tiePlayerSlide {
    0% {
        opacity: 0;
        transform: translateX(-1.875rem);
    }

    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

.tie-player-name {
    font-weight: 600;
    color: var(--text-primary);
}

.tie-player-score {
    font-weight: 700;
    color: var(--warning-color);
}

/* ========== AUCUN GAGNANT (Mode Vie) ========== */
.no-winner-lives {
    text-align: center;
    padding: 3.75rem 2.5rem;
    background: rgba(31, 31, 31, 0.8);
    border-radius: 1.25rem;
    border: 0.125rem solid rgba(239, 68, 68, 0.5);
    animation: cardPopIn 0.8s ease-out;
}

@keyframes cardPopIn {
    0% {
        opacity: 0;
        transform: scale(0.8);
    }

    60% {
        transform: scale(1.05);
    }

    100% {
        opacity: 1;
        transform: scale(1);
    }
}

.skull-icon-big {
    font-size: 5rem;
    margin-bottom: 1.25rem;
    animation: skullShake 1s ease-in-out infinite;
}

@keyframes skullShake {

    0%,
    100% {
        transform: rotate(-5deg);
    }

    50% {
        transform: rotate(5deg);
    }
}

.no-winner-lives h2 {
    font-size: 2rem;
    font-weight: 900;
    color: var(--error-color);
}

/* ========== STATS ========== */
.game-stats-flip {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    margin-bottom: 2rem;
    padding: 1.25rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 0.75rem;
    animation: statsSlideUp 0.6s ease-out 2s backwards;
}

@keyframes statsSlideUp {
    0% {
        opacity: 0;
        transform: translateY(1.25rem);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.stat-flip {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.375rem;
}

.stat-value-flip {
    font-size: 1.8rem;
    font-weight: 900;
    color: var(--accent-color);
}

.stat-label-flip {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 0.0625rem;
}

.stat-divider-flip {
    width: 0.0625rem;
    height: 2.5rem;
    background: rgba(255, 255, 255, 0.2);
}

/* ========== BOUTON RETOUR ========== */
.btn-home-flip {
    width: 100%;
    max-width: 25rem;
    margin: 0 auto;
    padding: 1rem 2rem;
    font-size: 1rem;
    font-weight: 700;
    animation: buttonSlideUp 0.6s ease-out 2.3s backwards;
}

@keyframes buttonSlideUp {
    0% {
        opacity: 0;
        transform: translateY(1.25rem);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ========== CONFETTIS ========== */
.confetti-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 999;
    overflow: hidden;
}

.confetti {
    position: absolute;
    width: 0.625rem;
    height: 0.625rem;
    top: -0.625rem;
    border-radius: 0.125rem;
    opacity: 0.9;
    animation: confettiFall linear forwards;
}

@keyframes confettiFall {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }

    100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0;
    }
}

/* ========== RESPONSIVE MOBILE ========== */
@media (max-width: 38.375rem) {
    .gameover-flip-container {
        padding: 1rem 0.75rem;
    }

    .gameover-title-flip {
        font-size: 1.3rem;
        letter-spacing: 0.0938rem;
        margin-bottom: 1.5rem;
    }

    /* üî• PODIUM EN LIGNE (c√¥te √† c√¥te) sur mobile */
    .podium-flip-cards {
        flex-direction: row;
        align-items: flex-end;
        justify-content: center;
        gap: 0.75rem;
        min-height: auto;
        margin-bottom: 1.5rem;
    }

    /* R√©initialiser l'ordre pour mobile : 3-1-2 (gauche-centre-droite) */
    .flip-card-wrapper.rank-3 {
        order: 1;
        transform: translateY(1.25rem) !important;
    }

    .flip-card-wrapper.rank-1 {
        order: 2;
        transform: translateY(0) !important;
    }

    .flip-card-wrapper.rank-2 {
        order: 3;
        transform: translateY(1.25rem) !important;
    }

    /* üî• CARTES PLUS PETITES */
    .flip-card-single {
        width: 6.25rem;
        height: 8.75rem;
    }

    .flip-card-wrapper.rank-1 .flip-card-single {
        width: 6.875rem;
        height: 9.6875rem;
    }

    .flip-card-face {
        padding: 0.75rem 0.5rem;
    }

    /* Badge plus petit */
    .rank-badge {
        width: 2.5rem;
        height: 2.5rem;
        font-size: 1.4rem;
        margin-bottom: 0.5rem;
        border-width: 0.125rem;
    }

    .flip-card-wrapper.rank-1 .rank-badge {
        width: 2.8125rem;
        height: 2.8125rem;
        font-size: 1.6rem;
    }

    /* Nom plus petit */
    .player-name-flip {
        font-size: 0.75rem;
        margin-bottom: 0.5rem;
        line-height: 1.2;
    }

    .flip-card-wrapper.rank-1 .player-name-flip {
        font-size: 0.85rem;
    }

    /* Score plus petit */
    .player-score-flip {
        padding-top: 0.5rem;
        gap: 0.125rem;
    }

    .score-value {
        font-size: 1rem;
    }

    .score-value.lives-score {
        font-size: 0.85rem;
    }

    .score-label {
        font-size: 0.55rem;
    }

    /* Stats en dessous */
    .game-stats-flip {
        gap: 1.25rem;
        padding: 0.875rem;
        margin-bottom: 1.25rem;
    }

    .stat-value-flip {
        font-size: 1.3rem;
    }

    .stat-label-flip {
        font-size: 0.65rem;
    }

    .stat-divider-flip {
        height: 2rem;
    }

    /* Bouton */
    .btn-home-flip {
        font-size: 0.85rem;
        padding: 0.75rem 1.25rem;
        max-width: 100%;
    }

    /* √âgalit√© sur mobile */
    .tie-section-flip {
        margin-bottom: 1.5rem;
    }

    .tie-badge-flip {
        font-size: 1.2rem;
        margin-bottom: 1rem;
    }

    .tie-players-flip {
        max-width: 100%;
        padding: 0 0.75rem;
    }

    .tie-player-flip {
        padding: 0.75rem 1rem;
        font-size: 0.85rem;
    }

    /* Aucun gagnant sur mobile */
    .no-winner-lives {
        padding: 2.5rem 1.25rem;
    }

    .skull-icon-big {
        font-size: 3.5rem;
        margin-bottom: 1rem;
    }

    .no-winner-lives h2 {
        font-size: 1.5rem;
    }
}

/* üî• TR√àS PETITS √âCRANS (<380px) */
@media (max-width: 23.75rem) {
    .gameover-title-flip {
        font-size: 1.1rem;
        letter-spacing: 0.0625rem;
    }

    .podium-flip-cards {
        gap: 0.5rem;
    }

    .flip-card-single {
        width: 5.3125rem;
        height: 7.8125rem;
    }

    .flip-card-wrapper.rank-1 .flip-card-single {
        width: 5.9375rem;
        height: 8.75rem;
    }

    .rank-badge {
        width: 2.1875rem;
        height: 2.1875rem;
        font-size: 1.2rem;
    }

    .flip-card-wrapper.rank-1 .rank-badge {
        width: 2.5rem;
        height: 2.5rem;
        font-size: 1.4rem;
    }

    .player-name-flip {
        font-size: 0.65rem;
    }

    .flip-card-wrapper.rank-1 .player-name-flip {
        font-size: 0.75rem;
    }

    .score-value {
        font-size: 0.9rem;
    }

    .score-label {
        font-size: 0.5rem;
    }

    .game-stats-flip {
        gap: 1rem;
        padding: 0.75rem;
    }

    .stat-value-flip {
        font-size: 1.1rem;
    }

    .btn-home-flip {
        font-size: 0.8rem;
        padding: 0.6875rem 1.125rem;
    }
}


/* ========================================
   BONUS MOBILE - IC√îNE + JAUGE CIRCULAIRE
   ======================================== */

.bonus-gauge-mobile,
.bonus-arc-menu {
    display: none !important;
}

@media (max-width: 38.375rem) {

    /* üî• Cacher le syst√®me desktop */
    .combo-gauge-container,
    .bonus-icon-container {
        display: none !important;
    }

    /* üÜï Ic√¥ne mobile avec jauge circulaire */
    .bonus-gauge-mobile {
        position: fixed;
        bottom: 1.5rem;
        right: 1.5rem;
        width: 3.5rem;
        height: 3.5rem;
        z-index: 500;
        cursor: pointer;
        display: block !important;
    }


    .bonus-arc-menu {
        display: block !important;
    }

    /* SVG container */
    .gauge-svg {
        width: 100%;
        height: 100%;
        transform: rotate(-90deg);
    }

    /* Cercle de fond */
    .gauge-circle-bg {
        fill: none;
        stroke: rgba(255, 255, 255, 0.1);
        stroke-width: 4;
    }

    /* Cercle de progression */
    .gauge-circle-progress {
        fill: none;
        stroke: var(--neon-primary);
        stroke-width: 4;
        stroke-linecap: round;
        stroke-dasharray: 188;
        transition: stroke-dashoffset 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        filter: drop-shadow(0 0 0.5rem var(--neon-primary));
    }

    /* Ic√¥ne centrale */
    .gauge-icon-center {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 1.75rem;
        height: 1.75rem;
        background: rgba(31, 31, 31, 0.8);
        backdrop-filter: blur(0.5rem);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 0.125rem solid rgba(255, 215, 0, 0.3);
        transition: all 0.3s ease;
        box-shadow: 0 0 0.9375rem rgba(255, 215, 0, 0.2);
    }

    .gauge-icon-center svg {
        width: 1.125rem;
        height: 1.125rem;
        fill: var(--neon-primary);
        filter: drop-shadow(0 0 0.25rem rgba(255, 215, 0, 0.3));
    }

    /* Badge compteur */
    .gauge-count-badge {
        position: absolute;
        top: -0.25rem;
        right: -0.25rem;
        width: 1.25rem;
        height: 1.25rem;
        background: #ff4757;
        color: #fff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.7rem;
        font-weight: 700;
        border: 0.125rem solid var(--bg-primary);
        box-shadow: 0 0 0.75rem rgba(255, 71, 87, 0.6);
    }

    /* üÜï Particules autour de la jauge (apr√®s bonne r√©ponse) */
    .gauge-particles-mobile {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: visible;
    }

    .gauge-particle-mobile {
        position: absolute;
        width: 0.25rem;
        height: 0.25rem;
        background: radial-gradient(circle, var(--neon-primary), var(--neon-secondary));
        border-radius: 50%;
        opacity: 0;
        box-shadow:
            0 0 0.375rem var(--neon-primary),
            0 0 0.75rem var(--neon-primary);
        animation: particleBurstMobile 1s ease-out forwards;
    }

    @keyframes particleBurstMobile {
        0% {
            opacity: 1;
            transform: translate(0, 0) scale(0.5);
        }

        50% {
            opacity: 0.8;
            transform: translate(var(--x), var(--y)) scale(1);
        }

        100% {
            opacity: 0;
            transform: translate(calc(var(--x) * 2), calc(var(--y) * 2)) scale(0.3);
        }
    }

    /* ========================================
   ARC DE CERCLE - MENU BONUS
   ======================================== */

    .bonus-arc-menu {
        position: fixed;
        bottom: 0;
        right: 0;
        width: 13.75rem;
        height: 13.75rem;
        pointer-events: none;
        z-index: 560;
        /* üî• Au-dessus de l'overlay */
    }

    .bonus-arc-item {
        position: absolute;
        width: 2.875rem;
        height: 2.875rem;
        background: rgba(20, 20, 20, 0.98);
        /* üî• Plus opaque, pas de blur */
        border: 0.125rem solid rgba(255, 215, 0, 0.4);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        pointer-events: none;
        opacity: 0;
        transform: scale(0);
        visibility: hidden;
        z-index: 600;
        /* üî• Au-dessus de tout */
        box-shadow: 0 0.25rem 1.25rem rgba(0, 0, 0, 0.5);
    }

    .bonus-arc-item.show {
        opacity: 1;
        transform: scale(1);
        pointer-events: auto !important;
        /* üî• Force le clic */
        visibility: visible;
        cursor: pointer;
    }

    .bonus-arc-item.show.available {
        border-color: rgba(255, 215, 0, 0.7);
        background: rgba(40, 35, 10, 0.98);
        /* üî• Fond l√©g√®rement dor√© */
        box-shadow:
            0 0.25rem 1.25rem rgba(0, 0, 0, 0.5),
            0 0 0.9375rem rgba(255, 215, 0, 0.2);
    }

    .bonus-arc-item.show.available:active {
        transform: scale(0.9);
        box-shadow: 0 0 1.5625rem rgba(255, 215, 0, 0.4);
    }

    /* üî• Position arc (√©ventail vers le haut-gauche) */
    .bonus-arc-item:nth-child(2) {
        /* B1 - Gauche (180¬∞) */
        bottom: 2.8125rem;
        right: 6.875rem;
        transition-delay: 0.05s;
    }

    .bonus-arc-item:nth-child(3) {
        /* B2 - Haut-gauche (135¬∞) */
        bottom: 5.9375rem;
        right: 5.75rem;
        transition-delay: 0.1s;
    }

    .bonus-arc-item:nth-child(4) {
        /* B3 - Haut (90¬∞) */
        bottom: 6.875rem;
        right: 2.8125rem;
        transition-delay: 0.15s;
    }

    .bonus-arc-item img {
        width: 1.5rem;
        height: 1.5rem;
        object-fit: contain;
        filter: none;
        /* üî• Pas de filtre = nettet√© */
        image-rendering: -webkit-optimize-contrast;
        /* üî• Plus net */
    }

    .bonus-arc-item.available img {
        filter: drop-shadow(0 0 0.375rem rgba(255, 215, 0, 0.4));
    }

    /* √âtats */
    .bonus-arc-item.locked {
        opacity: 0.3;
        cursor: not-allowed;
        pointer-events: none;
    }

    .bonus-arc-item.available {
        border-color: rgba(255, 215, 0, 0.6);
        background: rgba(255, 215, 0, 0.08);
    }

    .bonus-arc-item.available:active {
        transform: scale(0.9);
    }

    .bonus-arc-item.used {
        opacity: 0.25;
        cursor: not-allowed;
        filter: grayscale(1);
    }

    /* üÜï Compteur bonus sur arc mobile */
    .bonus-arc-count {
        position: absolute;
        top: -5px;
        right: -5px;
        background: #f0c14b;
        color: #000;
        font-family: 'Orbitron', sans-serif;
        font-size: 0.55rem;
        font-weight: 700;
        padding: 0.1rem 0.25rem;
        border-radius: 4px;
        min-width: 1rem;
        text-align: center;
    }

    .bonus-arc-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.4);
        /* üî• Plus l√©ger */
        /* üî• SUPPRIM√â: backdrop-filter: blur() */
        z-index: 550;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
    }

    .bonus-arc-overlay.active {
        opacity: 1;
        pointer-events: auto;
    }

    .bonus-arc-overlay.active {
        opacity: 1;
        pointer-events: auto;
    }

    /* üÜï Ic√¥ne Shield/x2 au-dessus de l'ic√¥ne bonus sur mobile */
    .hud-shield-icon,
    .hud-x2-icon {
        position: fixed;
        right: 0;
        left: 7.5rem;
        transform: none;
        width: 1.375rem;
        height: 1.375rem;
        margin: auto;
        top: 57%
    }
}


.click-particle {
    position: fixed;
    background: radial-gradient(circle, var(--neon-primary), var(--neon-secondary));
    border-radius: 50%;
    pointer-events: none;
    z-index: 1000;
    opacity: 0;
    box-shadow:
        0 0 0.25rem var(--neon-primary),
        0 0 0.5rem rgba(255, 215, 0, 0.4);
    animation: clickParticleBurst 0.4s ease-out forwards;
}

@keyframes clickParticleBurst {
    0% {
        opacity: 1;
        transform: translate(0, 0) scale(1);
    }

    100% {
        opacity: 0;
        transform: translate(var(--x), var(--y)) scale(0.2);
    }
}

/* ============================================
   2K RESOLUTION (2560x1440) - Tailles augment√©es
   ============================================ */
@media (min-width: 1921px) {

    /* HUD - Plus grand */
    .player-hud {
        padding: 1rem 2.5rem;
        border-radius: 1.25rem;
    }

    .hud-username {
        font-size: 1.3rem;
    }

    .hud-score {
        font-size: 1.8rem;
    }

    .hud-question-counter {
        font-size: 1.2rem;
    }

    /* Badges s√©rie/difficult√© */
    .question-badges {
        gap: 1rem;
    }

    .badge {
        font-size: 1rem;
        padding: 0.6rem 1.5rem;
        border-radius: 1.5rem;
    }

    /* Question */
    .question-text {
        font-size: 1.5rem;
    }

    /* R√©ponses */
    .answers-grid {
        gap: 1.5rem;
    }

    .answer-btn {
        min-width: 16rem;
        min-height: 5rem;
        border-radius: 2.5rem;
        padding: 1rem 2rem;
    }

    .answer-text {
        font-size: 1.25rem;
    }

    /* Coins d√©coratifs des r√©ponses */
    .answer-btn::before,
    .answer-btn::after {
        width: 1.2rem;
        height: 1.2rem;
    }

    /* Survivors count */
    .survivors-count {
        font-size: 1.15rem;
        margin-top: 1.5rem;
    }

    /* Timer bar */
    .timer-bar-container {
        height: 6px;
        margin-bottom: 2rem;
    }

    /* Combo gauge - Corrig√©e pour 2K */
    .combo-gauge {
        height: 32rem;
        border-radius: 1rem;
    }


    .combo-gauge-level {
        font-size: 0.85rem;
        width: 2rem;
        height: 2rem;
    }


    .bonus-strip {
        padding: 0.75rem 1.25rem;
        font-size: 1.1rem;
        border-radius: 0.75rem;
    }

    .bonus-strip img {
        width: 1.75rem;
        height: 1.75rem;
    }

    /* Shield/x2 icons */
    .hud-shield-icon,
    .hud-x2-icon {
        width: 2.5rem;
        height: 2.5rem;
        right: -4rem;
    }

    /* Game section max-width */
    .game-section {
        max-width: 80rem;
    }


    .bonus-icon-container {
        right: 2rem;
        top: calc(50% - 19.75rem);
    }
}


/* ============================================
   LOGO ANIMATION - EXPLOSION CENTRE
   ============================================ */
.logo-title .letter {
    display: inline-block;
    opacity: 0;
    transform: scale(0) rotate(180deg);
}

.logo-title .letter.animated {
    opacity: 1;
    transform: scale(1) rotate(0deg);
}


.btn-twitch {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1rem 1.1rem;
    font-family: 'Poppins', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    border-radius: 0.75rem;
    cursor: pointer;
    transition: all 0.3s ease;

    /* Style Outline Neon */
    background: transparent;
    color: var(--neon-primary);
    border: 1.5px solid var(--neon-primary);
    box-shadow:
        0 0 15px rgba(255, 215, 0, 0.3),
        inset 0 0 15px rgba(255, 215, 0, 0.1);

    /* Pour l'effet Fill */
    position: relative;
    overflow: hidden;
}


.btn-twitch::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 0%;
    background: linear-gradient(0deg, var(--neon-primary), var(--neon-secondary));
    transition: height 0.4s ease;
    z-index: 1;
}

.btn-twitch:hover::before {
    height: 100%;
}


.btn-twitch:hover {
    color: #000;
    box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
}

.btn-twitch svg,
.btn-twitch span {
    position: relative;
    z-index: 2;
}

.btn-twitch svg {
    width: 24px;
    height: 24px;
    fill: currentColor;
}


@media (max-width: 614px) {
    .btn-twitch {
        padding: 0.875rem 1.25rem;
        font-size: 0.875rem;
        gap: 0.5rem;
        white-space: nowrap;
    }

    .btn-twitch svg {
        width: 20px;
        height: 20px;
    }
}


/* ============================================
   STREAMERS PANEL - BARRE NEON
   ============================================ */
.streamers-panel {
    position: fixed;
    right: 0;
    top: 43%;
    transform: translateY(-50%);
    display: flex;
    align-items: center;
    z-index: 500;
}

.streamers-trigger {
    width: 6px;
    height: 120px;
    background: linear-gradient(180deg, var(--neon-primary), var(--neon-secondary));
    border-radius: 0.5rem 0 0 0.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
}

.streamers-panel:hover .streamers-trigger {
    width: 10px;
    box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
}

.streamers-content {
    position: absolute;
    right: 100%;
    background: rgba(12, 12, 12, 0.98);
    border: none;
    border-radius: 0.75rem;
    padding: 1rem;
    opacity: 0;
    visibility: hidden;
    transform: translateX(15px);
    transition: all 0.3s ease;
    min-width: 180px;
    margin-right: 0.75rem;
}

.streamers-panel:hover .streamers-content {
    opacity: 1;
    visibility: visible;
    transform: translateX(0);
}

.streamers-title {
    font-size: 0.65rem;
    color: var(--neon-primary);
    margin-bottom: 0.75rem;
    font-weight: 600;
    text-align: center;
    /* Centr√© */
}

.streamers-list {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    padding: 0.5rem;
    /* Padding autour des streamers */
    background: rgba(255, 255, 255, 0.02);
    border-radius: 0.5rem;
}

.streamer-item {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.4rem;
    border-radius: 0.5rem;
    text-decoration: none;
    transition: all 0.2s ease;
}

.streamer-item:hover {
    background: rgba(255, 215, 0, 0.1);
}

.streamer-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    object-fit: cover;
    border: 1.5px solid var(--twitch-purple, #9146FF);
    transition: all 0.3s ease;
}

.streamer-item:hover .streamer-avatar {
    border-color: var(--neon-primary);
    box-shadow: 0 0 12px rgba(255, 215, 0, 0.4);
    transform: scale(1.1);
}

.streamer-name {
    font-size: 0.75rem;
    color: var(--text-primary);
    font-weight: 500;
}

/* ============================================
   RESPONSIVE - Full HD avec scaling 125%
   ============================================ */
@media (max-width: 1600px) {
    .streamers-trigger {
        width: 5px;
        height: 100px;
    }

    .streamers-panel:hover .streamers-trigger {
        width: 8px;
    }

    .streamers-content {
        min-width: 160px;
        padding: 0.85rem;
    }

    .streamers-title {
        font-size: 0.6rem;
    }

    .streamer-avatar {
        width: 32px;
        height: 32px;
    }

    .streamer-name {
        font-size: 0.7rem;
    }

    .streamers-list {
        padding: 0.4rem;
        gap: 0.4rem;
    }
}

/* ============================================
   RESPONSIVE - 2K (2560x1440)
   ============================================ */
@media (min-width: 2000px) {
    .streamers-trigger {
        width: 8px;
        height: 150px;
    }

    .streamers-panel:hover .streamers-trigger {
        width: 12px;
    }

    .streamers-content {
        min-width: 220px;
        padding: 1.25rem;
        margin-right: 1rem;
        border-radius: 1rem;
    }

    .streamers-title {
        font-size: 0.8rem;
        margin-bottom: 1rem;
    }

    .streamer-avatar {
        width: 44px;
        height: 44px;
        border-width: 3px;
    }

    .streamer-name {
        font-size: 0.9rem;
    }

    .streamers-list {
        padding: 0.65rem;
        gap: 0.6rem;
        border-radius: 0.65rem;
    }

    .streamer-item {
        padding: 0.5rem;
        gap: 0.75rem;
    }
}

/* ============================================
   RESPONSIVE - 4K / 3K
   ============================================ */
@media (min-width: 2800px) {
    .streamers-trigger {
        width: 10px;
        height: 180px;
    }

    .streamers-panel:hover .streamers-trigger {
        width: 14px;
    }

    .streamers-content {
        min-width: 280px;
        padding: 1.5rem;
        margin-right: 1.25rem;
    }

    .streamers-title {
        font-size: 1rem;
        margin-bottom: 1.25rem;
    }

    .streamer-avatar {
        width: 56px;
        height: 56px;
        border-width: 3px;
    }

    .streamer-name {
        font-size: 1.1rem;
    }

    .streamers-list {
        padding: 0.75rem;
        gap: 0.75rem;
    }

    .streamer-item {
        padding: 0.6rem;
        gap: 1rem;
    }
}


/* ============================================
   RESPONSIVE - Mobile (cach√©)
   ============================================ */
@media (max-width: 614px) {
    .streamers-panel {
        display: none;
    }
}


/* ============================================
   STREAMER LIVE INDICATOR
   ============================================ */
.streamer-avatar-wrapper {
    position: relative;
}

.streamer-item.is-live .streamer-avatar {
    border-color: #ff0000;
    box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
    animation: livePulse 1.5s ease-in-out infinite;
}

@keyframes livePulse {
    0% {
        box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7);
    }

    50% {
        box-shadow: 0 0 0 8px rgba(255, 0, 0, 0);
    }

    100% {
        box-shadow: 0 0 0 0 rgba(255, 0, 0, 0);
    }
}

/* Badge LIVE */
.live-badge-small {
    position: absolute;
    bottom: -4px;
    right: -4px;
    background: #ff0000;
    color: #fff;
    font-size: 0.4rem;
    font-weight: 700;
    padding: 0.1rem 0.25rem;
    border-radius: 0.2rem;
    text-transform: uppercase;
    letter-spacing: 0.02rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}


/* Badge +X pour streamers cach√©s */
.streamer-more .more-badge {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(255, 215, 0, 0.15);
    border: 1.5px solid var(--neon-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--neon-primary);
}

.streamer-more:hover .more-badge {
    background: rgba(255, 215, 0, 0.25);
    transform: scale(1.1);
}


/* ============================================
   LOADER KATANA SLASH
   ============================================ */
.katana-container {
    display: flex;
    justify-content: center;
    margin-top: 1rem;
    height: 20px;
    overflow: hidden;
}

.katana-line {
    width: 60px;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--neon-primary), var(--neon-secondary), transparent);
    animation: katanaSlash 1.5s ease-in-out infinite;
    transform-origin: center;
}

@keyframes katanaSlash {
    0% {
        transform: translateX(-100%) scaleX(0.5);
        opacity: 0;
    }

    50% {
        transform: translateX(0) scaleX(1);
        opacity: 1;
    }

    100% {
        transform: translateX(100%) scaleX(0.5);
        opacity: 0;
    }
}


/* ============================================
   INFO CARD - En pr√©paration
   ============================================ */


.info-card .separator {
    width: 50%;
    margin: 0 auto 1.25rem;
}

.info-card h2 {
    text-align: center;
}

.info-card p {
    text-align: center;
}

.info-card .katana-container {
    justify-content: center;
}


/* ============================================
   INFO CARD - Glassmorphism Premium
   ============================================ */
.info-card {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.08) 0%, rgba(20, 20, 20, 0.95) 50%, rgba(255, 165, 0, 0.05) 100%);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 215, 0, 0.2);
    border-radius: 1.5rem;
    padding: 2rem;
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 215, 0, 0.1);
    position: relative;
}

/* Coins d√©coratifs */
.corner-decoration {
    position: absolute;
    width: 40px;
    height: 40px;
    border: 1.5px solid rgba(255, 215, 0, 0.3);
    pointer-events: none;
}

.corner-tl {
    top: 10px;
    left: 10px;
    border-right: none;
    border-bottom: none;
    border-radius: 8px 0 0 0;
}

.corner-tr {
    top: 10px;
    right: 10px;
    border-left: none;
    border-bottom: none;
    border-radius: 0 8px 0 0;
}

.corner-bl {
    bottom: 10px;
    left: 10px;
    border-right: none;
    border-top: none;
    border-radius: 0 0 0 8px;
}

.corner-br {
    bottom: 10px;
    right: 10px;
    border-left: none;
    border-top: none;
    border-radius: 0 0 8px 0;
}

/* Mobile - Info card margins */
@media (max-width: 38.375rem) {
    .info-card {
        margin-left: 1.5rem;
        margin-right: 1.5rem;
        max-width: calc(100% - 3rem);
        padding: 1.25rem 1rem;
    }

    .info-card h2 {
        font-size: 1rem;
        margin-bottom: 0.5rem;
    }

    .info-card p {
        font-size: 0.75rem;
    }

    .user-welcome {
        gap: 0.5rem;
        margin-bottom: 0.75rem;
    }

    .avatar-icon {
        width: 2rem;
        height: 2rem;
        font-size: 1rem;
    }

    .welcome-text {
        font-size: 0.65rem;
    }

    .username {
        font-size: 0.9rem;
    }

    .content-section>.btn-secondary {
        margin-left: 1.5rem;
        margin-right: 1.5rem;
        width: calc(100% - 3rem);
        padding: 0.6rem 1rem;
        font-size: 0.8rem;
    }

    /* Corner decorations smaller */
    .corner-decoration {
        width: 25px;
        height: 25px;
    }

    .lobby-card .corner-decoration {
        width: 25px;
        height: 25px;
    }
}


/* ============================================
   LOBBY CARD - Glassmorphism Premium
   ============================================ */
.lobby-card {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.08) 0%, rgba(20, 20, 20, 0.95) 50%, rgba(255, 165, 0, 0.05) 100%);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 215, 0, 0.2);
    border-radius: 1.5rem;
    padding: 2rem;
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 215, 0, 0.1);
    position: relative;
    max-width: 28rem;
    margin: 0 auto 1rem;
}

.lobby-card .corner-decoration {
    position: absolute;
    width: 40px;
    height: 40px;
    border: 1.5px solid rgba(255, 215, 0, 0.3);
    pointer-events: none;
}

.lobby-card .corner-tl {
    top: 10px;
    left: 10px;
    border-right: none;
    border-bottom: none;
    border-radius: 8px 0 0 0;
}

.lobby-card .corner-tr {
    top: 10px;
    right: 10px;
    border-left: none;
    border-bottom: none;
    border-radius: 0 8px 0 0;
}

.lobby-card .corner-bl {
    bottom: 10px;
    left: 10px;
    border-right: none;
    border-top: none;
    border-radius: 0 0 0 8px;
}

.lobby-card .corner-br {
    bottom: 10px;
    right: 10px;
    border-left: none;
    border-top: none;
    border-radius: 0 0 8px 0;
}

.lobby-card h2 {
    font-size: 1.15rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: 1.5rem;
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Mobile - Lobby card margins */
@media (max-width: 38.375rem) {
    .lobby-card {
        margin-left: 1.5rem;
        margin-right: 1.5rem;
        max-width: calc(100% - 3rem);
        padding: 1.25rem 1rem;
    }

    .lobby-card h2 {
        font-size: 0.85rem;
        margin-bottom: 0.875rem;
        font-weight: 600;
    }

    .players-box {
        padding: 0.6rem 1.25rem;
        margin-bottom: 0.875rem;
    }

    .players-count {
        font-size: 1.3rem;
    }

    .players-icon {
        width: 1.5rem;
        height: 1.5rem;
    }

    .lobby-card .btn-primary {
        padding: 0.55rem 1rem;
        font-size: 0.75rem;
    }

    .lobby-card .corner-decoration {
        width: 22px;
        height: 22px;
    }

    .content-section>.btn-secondary {
        margin-left: 1.5rem;
        margin-right: 1.5rem;
        width: calc(100% - 3rem);
        padding: 0.55rem 1rem;
        font-size: 0.75rem;
    }

    /* Badge EN LIVE */
    .live-badge {
        padding: 0.15rem 0.5rem;
        font-size: 0.55rem;
        gap: 0.2rem;
        border-radius: 0.5rem;
        margin-top: 0.5rem;
    }

    .pulse-dot {
        width: 0.25rem;
        height: 0.25rem;
    }
}

/* ==================== NOUVEAU DESIGN LOBBY CARD V3 ==================== */
.lobby-card-v3 {
    background: linear-gradient(180deg, rgba(15, 15, 20, 0.95) 0%, rgba(10, 10, 14, 0.98) 100%);
    border: 1px solid rgba(212, 175, 55, 0.15);
    border-radius: 18px;
    padding: 2.5rem 3rem;
    text-align: center;
    position: relative;
    overflow: hidden;
    transition: border-color 0.3s ease;
    max-width: 560px;
    width: 100%;
    margin: 0 auto 1rem;
}

.lobby-card-v3:hover {
    border-color: rgba(212, 175, 55, 0.3);
}

/* Ligne dor√©e en haut */
.lobby-card-v3 .lobby-glow-line {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.5), transparent);
}

/* Ic√¥ne */
.lobby-card-v3 .lobby-icon {
    width: 52px;
    height: 52px;
    margin: 0 auto 1.25rem;
    stroke: rgba(212, 175, 55, 0.7);
    transition: all 0.3s ease;
}

.lobby-card-v3:hover .lobby-icon {
    stroke: rgba(212, 175, 55, 0.9);
    transform: scale(1.05);
}

/* Titre */
.lobby-card-v3 .lobby-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: rgba(255,255,255,0.9);
    margin-bottom: 0.4rem;
    background: none;
    -webkit-text-fill-color: unset;
}

/* Sous-titre */
.lobby-card-v3 .lobby-subtitle {
    font-size: 0.7rem;
    color: rgba(255,255,255,0.35);
    text-transform: uppercase;
    letter-spacing: 2.5px;
    margin-bottom: 1.75rem;
}

/* Ligne compteur joueurs */
.lobby-card-v3 .lobby-players-line {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    margin-bottom: 1.75rem;
}

.lobby-card-v3 .lobby-players-line .lobby-line {
    width: 50px;
    height: 1px;
    background: rgba(255,255,255,0.1);
    transition: all 0.3s ease;
}

.lobby-card-v3:hover .lobby-players-line .lobby-line {
    width: 65px;
    background: rgba(212, 175, 55, 0.3);
}

.lobby-card-v3 .lobby-players-line .lobby-count {
    display: flex;
    align-items: center;
    gap: 0.45rem;
    font-size: 0.8rem;
    color: rgba(255,255,255,0.4);
}

.lobby-card-v3 .lobby-players-line .lobby-count strong {
    color: #d4af37;
    font-weight: 600;
    font-size: 1rem;
}

/* Dot anim√© */
.lobby-card-v3 .lobby-dot {
    width: 7px;
    height: 7px;
    background: #d4af37;
    border-radius: 50%;
    animation: lobby-dot-pulse 1.5s ease-in-out infinite;
    box-shadow: 0 0 8px rgba(212, 175, 55, 0.4);
}

@keyframes lobby-dot-pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(0.85); }
}

/* Bouton */
.lobby-card-v3 .lobby-btn {
    background: linear-gradient(135deg, #d4af37 0%, #c9a227 100%);
    border: none;
    color: #0a0a0f;
    font-weight: 600;
    font-size: 0.85rem;
    padding: 1rem 2.5rem;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    position: relative;
    min-width: 180px;
}

.lobby-card-v3 .lobby-btn::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 8px;
    box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.5);
    transition: box-shadow 0.3s ease;
}

.lobby-card-v3 .lobby-btn:hover {
    transform: translateY(-2px);
}

.lobby-card-v3 .lobby-btn:hover::after {
    animation: lobby-btn-pulse 1s ease-out infinite;
}

@keyframes lobby-btn-pulse {
    0% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.5); }
    100% { box-shadow: 0 0 0 12px rgba(212, 175, 55, 0); }
}

.lobby-card-v3 .lobby-btn:active {
    transform: translateY(0);
}

/* √âtat joined */
.lobby-card-v3 .lobby-btn.joined {
    background: rgba(212, 175, 55, 0.12);
    color: #d4af37;
    border: 1px solid rgba(212, 175, 55, 0.25);
    cursor: default;
}

.lobby-card-v3 .lobby-btn.joined::after {
    display: none;
}

.lobby-card-v3 .lobby-btn.joined:hover {
    transform: none;
}

/* √âtat lobby full */
.lobby-card-v3 .lobby-btn.lobby-full-error {
    background: rgba(255, 100, 100, 0.15);
    color: rgba(255, 150, 150, 0.8);
    border: 1px solid rgba(255, 100, 100, 0.25);
    cursor: not-allowed;
}

.lobby-card-v3 .lobby-btn.lobby-full-error::after {
    display: none;
}

/* Animation shake-error pour BombAnime (lobby plein) */
.lobby-card-v3 .lobby-btn.shake-error {
    animation: bombanime-shake 0.5s ease;
    background: rgba(180, 100, 100, 0.4) !important;
    border: 1px solid rgba(200, 120, 120, 0.5) !important;
    color: rgba(255, 200, 200, 0.9) !important;
}

.lobby-card-v3 .lobby-btn.shake-error::after {
    display: none;
}

@keyframes bombanime-shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
    20%, 40%, 60%, 80% { transform: translateX(4px); }
}

/* √âtat cooldown (gris√©) pour BombAnime */
.lobby-card-v3 .lobby-btn[disabled]:not(.joined) {
    background: rgba(100, 100, 120, 0.3) !important;
    color: rgba(255, 255, 255, 0.4) !important;
    border: 1px solid rgba(150, 150, 170, 0.2) !important;
    cursor: pointer;
}

.lobby-card-v3 .lobby-btn[disabled]:not(.joined)::after {
    display: none;
}

/* ==================== RESPONSIVE LOBBY CARD V3 ==================== */
@media (max-width: 38.375rem) {
    .lobby-card-v3 {
        margin-left: 1.5rem;
        margin-right: 1.5rem;
        max-width: calc(100% - 3rem);
        padding: 2rem 1.5rem;
        border-radius: 14px;
    }
    
    .lobby-card-v3 .lobby-icon {
        width: 42px;
        height: 42px;
        margin-bottom: 1rem;
    }
    
    .lobby-card-v3 .lobby-title {
        font-size: 1rem;
    }
    
    .lobby-card-v3 .lobby-subtitle {
        font-size: 0.6rem;
        letter-spacing: 2px;
        margin-bottom: 1.5rem;
    }
    
    .lobby-card-v3 .lobby-players-line {
        margin-bottom: 1.5rem;
    }
    
    .lobby-card-v3 .lobby-players-line .lobby-line {
        width: 28px;
    }
    
    .lobby-card-v3:hover .lobby-players-line .lobby-line {
        width: 36px;
    }
    
    .lobby-card-v3 .lobby-players-line .lobby-count {
        font-size: 0.7rem;
    }
    
    .lobby-card-v3 .lobby-players-line .lobby-count strong {
        font-size: 0.85rem;
    }
    
    .lobby-card-v3 .lobby-dot {
        width: 6px;
        height: 6px;
    }
    
    .lobby-card-v3 .lobby-btn {
        padding: 0.85rem 2rem;
        font-size: 0.75rem;
        min-width: 160px;
    }
}

@media (max-width: 24rem) {
    .lobby-card-v3 {
        margin-left: 1rem;
        margin-right: 1rem;
        max-width: calc(100% - 2rem);
        padding: 1.5rem 1.25rem;
    }
    
    .lobby-card-v3 .lobby-icon {
        width: 36px;
        height: 36px;
    }
    
    .lobby-card-v3 .lobby-title {
        font-size: 0.9rem;
    }
    
    .lobby-card-v3 .lobby-subtitle {
        font-size: 0.55rem;
        margin-bottom: 1.25rem;
    }
    
    .lobby-card-v3 .lobby-players-line {
        margin-bottom: 1.25rem;
        gap: 0.5rem;
    }
    
    .lobby-card-v3 .lobby-btn {
        padding: 0.75rem 1.5rem;
        font-size: 0.7rem;
        min-width: 140px;
    }
}

/* ==================== LOBBY CARD COLLECT ==================== */
.lobby-collect {
    border-color: rgba(59, 130, 246, 0.15);
}

.lobby-collect:hover {
    border-color: rgba(59, 130, 246, 0.3);
}

/* Ligne bleue en haut */
.lobby-collect .lobby-glow-line {
    background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.5), transparent);
}

/* Ic√¥ne cartes Collect */
.lobby-collect .collect-cards-icon {
    position: relative;
    width: 70px;
    height: 55px;
    margin: 0 auto 1.25rem;
}

.lobby-collect .collect-card {
    position: absolute;
    width: 38px;
    height: 52px;
    border-radius: 6px;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Carte arri√®re (gauche) */
.lobby-collect .collect-card-back {
    left: 2px;
    top: 2px;
    background: linear-gradient(135deg, #1e3a5f 0%, #0f2847 100%);
    border: 1.5px solid rgba(59, 130, 246, 0.4);
    transform: rotate(-15deg);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.lobby-collect .collect-card-back::before {
    content: '';
    position: absolute;
    inset: 4px;
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-radius: 3px;
    background: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 3px,
        rgba(59, 130, 246, 0.08) 3px,
        rgba(59, 130, 246, 0.08) 6px
    );
}

/* Carte avant (droite) */
.lobby-collect .collect-card-front {
    right: 2px;
    top: 0;
    background: linear-gradient(135deg, #ffffff 0%, #e8f0fe 100%);
    border: 1.5px solid rgba(59, 130, 246, 0.5);
    transform: rotate(12deg);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
    display: flex;
    align-items: center;
    justify-content: center;
}

.lobby-collect .collect-card-symbol {
    font-size: 1.4rem;
    color: #3b82f6;
    font-weight: bold;
    text-shadow: 0 1px 2px rgba(59, 130, 246, 0.3);
}

/* Hover effects */
.lobby-collect:hover .collect-card-back {
    transform: rotate(-22deg) translateX(-4px);
}

.lobby-collect:hover .collect-card-front {
    transform: rotate(18deg) translateX(4px) translateY(-2px);
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
}

/* Ligne compteur joueurs */
.lobby-collect:hover .lobby-players-line .lobby-line {
    background: rgba(59, 130, 246, 0.3);
}

.lobby-collect .lobby-players-line .lobby-count strong {
    color: #3b82f6;
}

/* Dot anim√© bleu */
.lobby-collect .lobby-dot {
    background: #3b82f6;
    box-shadow: 0 0 8px rgba(59, 130, 246, 0.4);
}

/* Bouton bleu */
.lobby-collect .lobby-btn {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: #ffffff;
}

.lobby-collect .lobby-btn::after {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
}

.lobby-collect .lobby-btn:hover::after {
    animation: lobby-btn-pulse-collect 1s ease-out infinite;
}

@keyframes lobby-btn-pulse-collect {
    0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5); }
    100% { box-shadow: 0 0 0 12px rgba(59, 130, 246, 0); }
}

/* √âtat joined Collect */
.lobby-collect .lobby-btn.joined {
    background: rgba(59, 130, 246, 0.12);
    color: #3b82f6;
    border: 1px solid rgba(59, 130, 246, 0.25);
}

/* Animation shake-error pour Collect (lobby plein) */
.lobby-collect .lobby-btn.shake-error {
    animation: collect-shake 0.5s ease;
    background: rgba(180, 100, 100, 0.4) !important;
    border: 1px solid rgba(200, 120, 120, 0.5) !important;
    color: rgba(255, 200, 200, 0.9) !important;
}

.lobby-collect .lobby-btn.shake-error::after {
    display: none;
}

@keyframes collect-shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
    20%, 40%, 60%, 80% { transform: translateX(4px); }
}

/* √âtat cooldown (gris√©) */
.lobby-collect .lobby-btn[disabled]:not(.joined) {
    background: rgba(100, 100, 120, 0.3) !important;
    color: rgba(255, 255, 255, 0.4) !important;
    border: 1px solid rgba(150, 150, 170, 0.2) !important;
    cursor: pointer;
}

.lobby-collect .lobby-btn[disabled]:not(.joined)::after {
    display: none;
}

/* ==================== RESPONSIVE LOBBY COLLECT ==================== */
@media (max-width: 38.375rem) {
    .lobby-collect .collect-cards-icon {
        width: 60px;
        height: 48px;
    }
    
    .lobby-collect .collect-card {
        width: 32px;
        height: 44px;
    }
    
    .lobby-collect .collect-card-symbol {
        font-size: 1.2rem;
    }
}

@media (max-width: 24rem) {
    .lobby-collect .collect-cards-icon {
        width: 52px;
        height: 42px;
    }
    
    .lobby-collect .collect-card {
        width: 28px;
        height: 38px;
        border-radius: 4px;
    }
    
    .lobby-collect .collect-card-symbol {
        font-size: 1rem;
    }
}

/* Box compteur joueurs */
.players-box {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1rem 2rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 215, 0, 0.15);
    border-radius: 1rem;
    margin-bottom: 1.5rem;
}

.players-count {
    font-size: 1.5rem;
    font-weight: 900;
    color: var(--text-primary);
}

.players-icon {
    width: 2.2rem;
    object-fit: contain;
}


/* ============================================
   MODAL PROFIL - ULTRA ANIMATED
   ============================================ */

/* Overlay */
.profile-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0);
    backdrop-filter: blur(0px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s ease;
    overflow: hidden;
}

.profile-overlay.active {
    opacity: 1;
    visibility: visible;
    background: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(12px);
}

/* Emp√™cher le d√©calage du contenu quand le modal est ouvert */
body.modal-open {
    overflow: hidden;
    position: fixed;
    width: 100%;
    left: 0;
    right: 0;
}

/* Modal Container */
.profile-modal {
    width: 90%;
    max-width: 420px;
    max-height: 85vh;
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.08) 0%, rgba(20, 20, 20, 0.98) 50%, rgba(255, 165, 0, 0.05) 100%);
    border: 1px solid rgba(255, 215, 0, 0.2);
    border-radius: 1.5rem;
    overflow: hidden;
    box-shadow:
        0 0 0 1px rgba(255, 215, 0, 0.1),
        0 25px 50px rgba(0, 0, 0, 0.5),
        0 0 100px rgba(255, 215, 0, 0.1);
    position: relative;
    transform: scale(0.8) translateY(50px);
    opacity: 0;
    transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s ease;
}

.profile-overlay.active .profile-modal {
    transform: scale(1) translateY(0);
    opacity: 1;
}

/* Coins d√©coratifs anim√©s */
.profile-modal .corner-decoration {
    position: absolute;
    width: 0;
    height: 0;
    border: 1.5px solid rgba(255, 215, 0, 0.4);
    pointer-events: none;
    z-index: 10;
    transition: width 0.4s ease, height 0.4s ease;
}

.profile-overlay.active .profile-modal .corner-decoration {
    width: 30px;
    height: 30px;
}

.profile-modal .corner-tl {
    top: 8px;
    left: 8px;
    border-right: none;
    border-bottom: none;
    border-radius: 6px 0 0 0;
}

.profile-modal .corner-tr {
    top: 8px;
    right: 8px;
    border-left: none;
    border-bottom: none;
    border-radius: 0 6px 0 0;
}

.profile-modal .corner-bl {
    bottom: 8px;
    left: 8px;
    border-right: none;
    border-top: none;
    border-radius: 0 0 0 6px;
}

.profile-modal .corner-br {
    bottom: 8px;
    right: 8px;
    border-left: none;
    border-top: none;
    border-radius: 0 0 6px 0;
}

/* Scan line effect */
.profile-scan-line {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--neon-primary), transparent);
    opacity: 0;
    z-index: 20;
    pointer-events: none;
}

/* Header */
.profile-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid rgba(255, 215, 0, 0.1);
    position: relative;
    overflow: hidden;
}

.profile-header-glow {
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 80%;
    background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
    transform: translateY(-50%);
    opacity: 0;
    transition: opacity 0.5s ease;
}

.profile-overlay.active .profile-header-glow {
    opacity: 1;
}


.profile-user-info {
    display: flex;
    align-items: center;
    gap: 1rem;
    position: relative;
    z-index: 1;
}


/* Avatar Wrapper */
.profile-avatar-wrapper {
    position: relative;
    width: 50px;
    height: 50px;
    opacity: 0;
    transform: scale(0.5);
    transition: opacity 0.5s ease 0.2s, transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s;
}

.profile-overlay.active .profile-avatar-wrapper {
    opacity: 1;
    transform: scale(1);
}

/* Anneau anim√© autour de l'avatar */
.profile-avatar-ring {
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    border-radius: 50%;
    background: conic-gradient(from 0deg,
            var(--neon-primary),
            var(--neon-secondary),
            var(--neon-primary));
    animation: profileAvatarRingSpin 4s linear infinite;
    opacity: 0.8;
}

.profile-avatar-ring::before {
    content: '';
    position: absolute;
    top: 3px;
    left: 3px;
    right: 3px;
    bottom: 3px;
    background: var(--bg-card);
    border-radius: 50%;
}

@keyframes profileAvatarRingSpin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* Image Avatar */
.profile-avatar-img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    position: relative;
    z-index: 1;
    border: 1.5px solid transparent;
}

/* Avatar par d√©faut (ic√¥ne) */
.profile-avatar-default {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.1));
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 1;
}

.profile-avatar-default svg {
    width: 28px;
    height: 28px;
    fill: var(--neon-primary);
    opacity: 0.8;
}

.profile-username {
    font-size: 1.4rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    position: relative;
    opacity: 0;
    transform: translateX(-20px);
    transition: opacity 0.5s ease 0.3s, transform 0.5s ease 0.3s;
}

.profile-overlay.active .profile-username {
    opacity: 1;
    transform: translateX(0);
}

.profile-username::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--neon-primary), transparent);
    transition: width 0.5s ease 0.5s;
}

.profile-overlay.active .profile-username::after {
    width: 100%;
}

.profile-close-btn {
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    color: var(--text-secondary);
    font-size: 1.3rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    opacity: 0;
    transform: rotate(-90deg);
    position: relative;
    z-index: 1;
}

.profile-overlay.active .profile-close-btn {
    opacity: 1;
    transform: rotate(0deg);
    transition: opacity 0.4s ease 0.3s, transform 0.4s ease 0.3s, background 0.3s ease, border-color 0.3s ease;
}

.profile-close-btn:hover {
    background: rgba(255, 215, 0, 0.1);
    border-color: rgba(255, 215, 0, 0.3);
    color: var(--neon-primary);
}

/* Tabs */
.profile-tabs {
    display: flex;
    border-bottom: 1px solid rgba(255, 215, 0, 0.1);
    padding: 0 1rem;
    position: relative;
}

.profile-tab-indicator {
    position: absolute;
    bottom: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--neon-primary), var(--neon-secondary));
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow: 0 0 10px var(--neon-primary);
}

.profile-tab-btn {
    flex: 1;
    padding: 1rem;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-family: 'Poppins', sans-serif;
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    opacity: 0;
    transform: translateY(10px);
}

.profile-overlay.active .profile-tab-btn {
    opacity: 1;
    transform: translateY(0);
}

.profile-overlay.active .profile-tab-btn:nth-child(1) {
    transition-delay: 0.25s;
}

.profile-overlay.active .profile-tab-btn:nth-child(2) {
    transition-delay: 0.30s;
}

.profile-overlay.active .profile-tab-btn:nth-child(3) {
    transition-delay: 0.35s;
}

.profile-tab-btn:hover {
    color: var(--text-primary);
}

.profile-tab-btn.active {
    color: var(--neon-primary);
}

/* Content */
.profile-content {
    padding: 1.5rem;
    position: relative;
    min-height: 250px;
    max-height: calc(85vh - 140px);
    overflow-y: auto;
}

.profile-content::-webkit-scrollbar {
    width: 4px;
}

.profile-content::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 2px;
}

.profile-content::-webkit-scrollbar-thumb {
    background: rgba(255, 215, 0, 0.3);
    border-radius: 2px;
}

.profile-tab-panel {
    display: none;
    opacity: 0;
}

.profile-tab-panel.active {
    display: block;
}

/* ===== TAB PROFIL ===== */
.profile-title-showcase {
    text-align: center;
    padding: 1.5rem;
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.12) 0%, rgba(255, 165, 0, 0.05) 100%);
    border: 1px solid rgba(255, 215, 0, 0.25);
    border-radius: 1rem;
    margin-bottom: 1.25rem;
    position: relative;
    overflow: hidden;
    opacity: 0;
    transform: translateY(20px);
}

.profile-title-showcase::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(from 0deg, transparent, rgba(255, 215, 0, 0.1), transparent 30%);
    animation: profileRotateBg 8s linear infinite;
}

@keyframes profileRotateBg {
    to {
        transform: rotate(360deg);
    }
}

.profile-title-label {
    font-size: 0.65rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.15rem;
    margin-bottom: 0.5rem;
    position: relative;
}

.profile-title-value {
    font-size: 2rem;
    font-weight: 800;
    color: var(--neon-primary);
    text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
    position: relative;
}

.profile-stats-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
}

.profile-stat-card {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 1rem;
    padding: 1.25rem 0.75rem;
    text-align: center;
    position: relative;
    overflow: hidden;
    opacity: 0;
    transform: translateY(30px) scale(0.9);
    cursor: pointer;
    transition: all 0.3s ease;
}

.profile-stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), transparent);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.profile-stat-card:hover::before {
    opacity: 1;
}

.profile-stat-card:hover {
    border-color: rgba(255, 215, 0, 0.3);
    transform: translateY(-5px) scale(1);
}

.profile-stat-value {
    font-size: 1.8rem;
    font-weight: 800;
    color: var(--neon-primary);
    margin-bottom: 0.25rem;
    position: relative;
}

.profile-stat-label {
    font-size: 0.6rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05rem;
}

/* Ripple effect */
.profile-stat-card .ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 215, 0, 0.3);
    transform: scale(0);
    pointer-events: none;
    animation: profileRipple 0.6s ease-out forwards;
}

@keyframes profileRipple {
    to {
        transform: scale(2);
        opacity: 0;
    }
}

/* ===== TAB BADGES ===== */
.profile-badges-category {
    margin-bottom: 1.5rem;
    opacity: 0;
    transform: translateX(-20px);
}

.profile-badges-category:last-child {
    margin-bottom: 0;
}

.profile-category-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
}

.profile-category-indicator {
    width: 4px;
    height: 20px;
    background: linear-gradient(180deg, var(--neon-primary), var(--neon-secondary));
    border-radius: 2px;
    box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
}

.profile-category-title {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-primary);
}

.profile-badges-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.6rem;
}

.profile-badge-item {
    aspect-ratio: 1;
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 0.75rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.3rem;
    opacity: 0;
    transform: scale(0) rotate(-180deg);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.profile-badge-item.locked {
    opacity: 0.35 !important;
}

.profile-badge-item.unlocked {
    border-color: rgba(255, 215, 0, 0.4);
    background: rgba(255, 215, 0, 0.08);
}

.profile-badge-item:hover {
    transform: scale(1.1) rotate(0deg) !important;
}

.profile-badge-item.unlocked:hover {
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
}

.profile-badge-icon {
    width: 28px;
    height: 28px;
    background: linear-gradient(135deg, #5C4A0F, #3D320A);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.profile-badge-item.unlocked .profile-badge-icon {
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    animation: profileBadgePulse 2s ease-in-out infinite;
}

@keyframes profileBadgePulse {

    0%,
    100% {
        box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4);
    }

    50% {
        box-shadow: 0 0 15px 5px rgba(255, 215, 0, 0.2);
    }
}

.profile-lock-symbol {
    font-size: 0.8rem;
    opacity: 0.4;
}

.profile-badge-number {
    font-size: 0.65rem;
    font-weight: 600;
    color: var(--text-secondary);
}

.profile-badge-item.unlocked .profile-badge-number {
    color: var(--neon-primary);
}

/* Shine effect */
.profile-badge-item.unlocked::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(45deg,
            transparent 40%,
            rgba(255, 255, 255, 0.1) 50%,
            transparent 60%);
    animation: profileBadgeShine 3s ease-in-out infinite;
}

@keyframes profileBadgeShine {
    0% {
        transform: translateX(-100%) rotate(45deg);
    }

    100% {
        transform: translateX(100%) rotate(45deg);
    }
}

/* ===== TAB TITRES ===== */
.profile-titles-list {
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
}

.profile-title-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.25rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 0.85rem;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
    opacity: 0;
    transform: translateX(50px);
}

.profile-title-row::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 4px;
    height: 100%;
    background: linear-gradient(180deg, var(--neon-primary), var(--neon-secondary));
    transform: scaleY(0);
    transition: transform 0.3s ease;
}

.profile-title-row:hover::before {
    transform: scaleY(1);
}

.profile-title-row:hover {
    transform: translateX(8px);
    border-color: rgba(255, 215, 0, 0.2);
    background: rgba(255, 215, 0, 0.03);
}

.profile-title-row.equipped {
    border-color: var(--neon-primary);
    background: rgba(255, 215, 0, 0.1);
}

.profile-title-row.equipped::before {
    transform: scaleY(1);
}

.profile-title-row.locked {
    opacity: 0.4 !important;
    cursor: not-allowed;
}

.profile-title-row.locked:hover {
    transform: translateX(0);
}

.profile-title-info {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
}

.profile-title-name {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-primary);
}

.profile-title-requirement {
    font-size: 0.65rem;
    color: var(--text-secondary);
}

.profile-status-badge {
    padding: 0.4rem 0.8rem;
    border-radius: 0.5rem;
    font-size: 0.65rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.3rem;
}

.profile-status-badge.equipped {
    background: rgba(16, 185, 129, 0.15);
    color: var(--success-color);
    border: 1px solid var(--success-color);
}

.profile-status-badge.equipped .check-icon {
    display: inline-block;
    animation: profileCheckBounce 0.5s ease;
}

@keyframes profileCheckBounce {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.3);
    }
}

.profile-status-badge.locked {
    background: rgba(255, 255, 255, 0.05);
    color: var(--text-secondary);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.profile-status-badge.equip {
    background: rgba(255, 215, 0, 0.1);
    color: var(--neon-primary);
    border: 1px solid rgba(255, 215, 0, 0.3);
    transition: all 0.3s ease;
}

.profile-title-row:hover .profile-status-badge.equip {
    background: rgba(255, 215, 0, 0.2);
}

/* Toast notification */
.profile-toast {
    position: fixed;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%) translateY(100px);
    background: linear-gradient(135deg, var(--neon-primary), var(--neon-secondary));
    color: #000;
    padding: 1rem 2rem;
    border-radius: 1rem;
    font-weight: 600;
    font-size: 0.9rem;
    box-shadow: 0 10px 40px rgba(255, 215, 0, 0.3);
    opacity: 0;
    z-index: 2000;
    pointer-events: none;
}

.profile-toast.show {
    animation: profileToastIn 0.5s forwards, profileToastOut 0.5s 2s forwards;
}

@keyframes profileToastIn {
    to {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
    }
}

@keyframes profileToastOut {
    to {
        transform: translateX(-50%) translateY(100px);
        opacity: 0;
    }
}

/* ===== RESPONSIVE ===== */
@media (max-width: 480px) {
    .profile-modal {
        width: 95%;
        max-height: 90vh;
        border-radius: 1.25rem;
    }

    .profile-header {
        padding: 1.25rem;
    }

    .profile-username {
        font-size: 1.2rem;
    }

    .profile-content {
        padding: 1.25rem;
    }

    .profile-badges-grid {
        grid-template-columns: repeat(5, 1fr);
        gap: 0.4rem;
    }

    .profile-badge-icon {
        width: 24px;
        height: 24px;
    }

    .profile-badge-number {
        font-size: 0.55rem;
    }

    .profile-stats-grid {
        gap: 0.5rem;
    }

    .profile-stat-value {
        font-size: 1.4rem;
    }

    .profile-stat-label {
        font-size: 0.5rem;
    }

    .profile-title-showcase {
        padding: 1.25rem;
    }

    .profile-title-value {
        font-size: 1.6rem;
    }

    .profile-title-row {
        padding: 0.875rem 1rem;
    }

    .profile-title-name {
        font-size: 0.85rem;
    }
}

@media (max-width: 360px) {
    .profile-badges-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}


@media (max-width: 480px) {
    .profile-avatar-wrapper {
        width: 42px;
        height: 42px;
    }

    .profile-avatar-default svg {
        width: 22px;
        height: 22px;
    }

    .profile-username {
        font-size: 1.15rem;
    }

    .profile-user-info {
        gap: 0.75rem;
    }

    .profile-header {
        padding: 1.25rem;
    }
}


/* ============================================
   ONGLET AVATAR - STYLES CSS
   √Ä ajouter dans home.css
   ============================================ */

/* ===== AVATAR ACTUEL (preview) ===== */
.profile-current-avatar {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
    opacity: 0;
    transform: scale(0.8);
}

.profile-avatar-preview {
    position: relative;
    width: 90px;
    height: 90px;
}

.profile-avatar-ring-large {
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    border-radius: 50%;
    background: conic-gradient(from 0deg,
            var(--neon-primary),
            var(--neon-secondary),
            var(--neon-primary));
    animation: profileAvatarRingSpin 4s linear infinite;
    opacity: 0.9;
}

.profile-avatar-ring-large::before {
    content: '';
    position: absolute;
    top: 4px;
    left: 4px;
    right: 4px;
    bottom: 4px;
    background: var(--bg-card);
    border-radius: 50%;
}

.profile-avatar-img-large {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    position: relative;
    z-index: 1;
}

.profile-avatar-default-large {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 165, 0, 0.1));
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 1;
}

.profile-avatar-default-large svg {
    width: 45px;
    height: 45px;
    fill: var(--neon-primary);
    opacity: 0.8;
}

.profile-avatar-label {
    font-size: 0.75rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* ===== DIVIDER ===== */
.profile-avatar-divider {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.25rem;
}

.profile-avatar-divider::before,
.profile-avatar-divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.3), transparent);
}

.profile-avatar-divider span {
    font-size: 0.7rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    white-space: nowrap;
}

/* ===== SECTIONS ===== */
.profile-avatar-section {
    margin-bottom: 1.25rem;
    opacity: 0;
    transform: translateY(20px);
}

.profile-avatar-section:last-child {
    margin-bottom: 0;
}

.profile-avatar-section-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}

.profile-avatar-section-icon {
    font-size: 1rem;
}

.profile-avatar-section-title {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-primary);
}

/* ===== GRILLE AVATARS ===== */
.profile-avatars-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
}

.profile-avatars-grid-single {
    grid-template-columns: repeat(1, 1fr);
    max-width: 80px;
}

.profile-avatar-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.4rem;
    padding: 0.6rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1.5px solid rgba(255, 255, 255, 0.05);
    border-radius: 0.75rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    opacity: 0;
    transform: scale(0) rotate(-10deg);
}

.profile-avatar-option:hover {
    transform: scale(1.05) translateY(-3px);
    border-color: rgba(255, 215, 0, 0.3);
    background: rgba(255, 215, 0, 0.05);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

.profile-avatar-option.selected {
    border-color: var(--neon-primary);
    background: rgba(255, 215, 0, 0.1);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
}

.profile-avatar-option.locked {
    opacity: 0.4;
    cursor: not-allowed;
}

.profile-avatar-option.locked:hover {
    transform: scale(1);
    border-color: rgba(255, 255, 255, 0.05);
    background: rgba(0, 0, 0, 0.3);
    box-shadow: none;
}

.profile-avatar-option-img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
    border: 1.5px solid rgba(255, 255, 255, 0.1);
    transition: border-color 0.3s ease;
}

.profile-avatar-option:hover .profile-avatar-option-img {
    border-color: rgba(255, 215, 0, 0.4);
}

.profile-avatar-option.selected .profile-avatar-option-img {
    border-color: var(--neon-primary);
}

.profile-avatar-option-placeholder {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: var(--text-secondary);
}

.profile-avatar-option-name {
    font-size: 0.6rem;
    color: var(--text-secondary);
    text-align: center;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.profile-avatar-option.selected .profile-avatar-option-name {
    color: var(--neon-primary);
}

/* ===== BADGE S√âLECTIONN√â ===== */
.profile-avatar-selected-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 20px;
    height: 20px;
    background: var(--success-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.65rem;
    color: white;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);
    animation: profileAvatarBadgePop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes profileAvatarBadgePop {
    0% {
        transform: scale(0);
    }

    50% {
        transform: scale(1.3);
    }

    100% {
        transform: scale(1);
    }
}

/* ===== CADENAS ===== */
.profile-avatar-lock {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    border-radius: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 480px) {
    .profile-avatars-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 0.5rem;
    }

    .profile-avatar-option {
        padding: 0.5rem;
    }

    .profile-avatar-option-img {
        width: 42px;
        height: 42px;
    }

    .profile-avatar-preview {
        width: 95px;
        height: 75px;
    }

    .profile-avatar-default-large svg {
        width: 38px;
        height: 38px;
    }
}

@media (max-width: 360px) {
    .profile-avatars-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ============================================
   üÜï NOUVEAU PODIUM DESIGN - WINNER SCREEN
   ============================================ */

/* Container principal */
.winner-container {
    position: relative;
    z-index: 2;
    text-align: center;
    padding: clamp(1rem, 3vw, 2rem);
    width: 100%;
    max-width: 56.25rem;
    margin: 0 auto;
}

/* Particules de fond */
.winner-particles {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.winner-particle {
    position: absolute;
    width: 3px;
    height: 3px;
    background: var(--neon-primary);
    border-radius: 50%;
    opacity: 0;
    animation: winnerFloatUp 12s infinite;
}

.winner-particle.accent {
    background: #6366F1;
}

@keyframes winnerFloatUp {
    0% {
        opacity: 0;
        transform: translateY(100vh) scale(1);
    }

    10% {
        opacity: 0.7;
    }

    90% {
        opacity: 0.5;
    }

    100% {
        opacity: 0;
        transform: translateY(-10vh) scale(0.5);
    }
}

/* Explosions de fond */
.bg-explosions {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
}

.bg-explosion {
    position: fixed;
    pointer-events: none;
}

.bg-explosion-particle {
    position: absolute;
    border-radius: 50%;
    opacity: 0;
    animation: bgExplodeParticle 1.5s ease-out forwards;
}

@keyframes bgExplodeParticle {
    0% {
        opacity: 0.8;
        transform: translate(-50%, -50%) scale(1);
    }

    100% {
        opacity: 0;
        transform: translate(var(--ex), var(--ey)) scale(0);
    }
}

/* Podium */
.winner-podium {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    gap: clamp(0.75rem, 2.5vw, 2.5rem);
    margin-bottom: clamp(2rem, 4vw, 4rem);
}

/* üÜï Message aucun gagnant */
.no-winner-message {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 2rem;
    animation: fadeInUp 0.6s ease-out forwards;
}

.no-winner-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    animation: pulse 2s ease-in-out infinite;
}

.no-winner-message h2 {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 1.75rem;
    color: #ff6b6b;
    margin-bottom: 0.5rem;
}

.no-winner-message p {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.95rem;
}

@keyframes fadeInUp {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.podium-place {
    display: flex;
    flex-direction: column;
    align-items: center;
    opacity: 0;
}

.podium-place.third {
    animation: podiumRiseUp 0.6s ease-out 0.3s forwards;
}

.podium-place.second {
    animation: podiumRiseUp 0.6s ease-out 1.3s forwards;
}

.podium-place.first {
    animation: podiumRiseUp 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) 2.3s forwards;
}

@keyframes podiumRiseUp {
    0% {
        opacity: 0;
        transform: translateY(50px) scale(0.9);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* M√©dailles */
.podium-medal {
    width: clamp(2.5rem, 4vw, 3.5rem);
    height: clamp(2.5rem, 4vw, 3.5rem);
    margin-bottom: clamp(0.5rem, 1vw, 1rem);
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
    opacity: 0;
    animation: medalAppear 0.5s ease-out forwards;
}

.podium-place.third .podium-medal {
    animation-delay: 0.3s;
}

.podium-place.second .podium-medal {
    animation-delay: 1.3s;
}

.podium-place.first .podium-medal {
    width: clamp(3rem, 5vw, 4rem);
    height: clamp(3rem, 5vw, 4rem);
    filter: drop-shadow(0 4px 15px rgba(240, 200, 80, 0.4));
    animation-delay: 3.6s;
}

@keyframes medalAppear {
    0% {
        opacity: 0;
        transform: scale(0.5) translateY(-20px);
    }

    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Cartes */
.podium-card {
    background: rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: clamp(1rem, 1.5vw, 1.5rem);
    padding: clamp(1.25rem, 2vw, 2.25rem) clamp(1rem, 2vw, 2.25rem);
    margin-bottom: clamp(0.5rem, 1vw, 1rem);
    position: relative;
    min-width: clamp(6.5rem, 15vw, 12.5rem);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
}

.podium-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    opacity: 0;
    transition: opacity 0.4s;
}

.podium-card:hover {
    transform: translateY(-8px);
    border-color: rgba(255, 255, 255, 0.1);
}

.podium-card:hover::before {
    opacity: 1;
}

/* Premier place sp√©cial */
.podium-place.first .podium-card {
    min-width: clamp(8rem, 18vw, 15rem);
    padding: clamp(1.5rem, 2.5vw, 2.75rem) clamp(1.25rem, 2.5vw, 2.75rem);
    background: linear-gradient(135deg, rgba(240, 200, 80, 0.08) 0%, rgba(255, 255, 255, 0.02) 100%);
    border-color: rgba(240, 200, 80, 0.2);
    box-shadow:
        0 25px 50px -12px rgba(240, 200, 80, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.podium-place.first .podium-card::before {
    background: radial-gradient(circle at 50% 0%, rgba(240, 200, 80, 0.1) 0%, transparent 60%);
}

.podium-place.first .podium-card:hover {
    box-shadow:
        0 30px 60px -12px rgba(240, 200, 80, 0.25),
        inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.podium-place.second .podium-card {
    border-color: rgba(156, 163, 175, 0.15);
}

.podium-place.second .podium-card::before {
    background: radial-gradient(circle at 50% 0%, rgba(156, 163, 175, 0.08) 0%, transparent 60%);
}

.podium-place.third .podium-card {
    border-color: rgba(184, 115, 51, 0.15);
}

.podium-place.third .podium-card::before {
    background: radial-gradient(circle at 50% 0%, rgba(184, 115, 51, 0.08) 0%, transparent 60%);
}

/* Light burst effect */
.podium-light-burst {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 0;
    height: 0;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255, 215, 0, 0.8) 0%, rgba(240, 200, 80, 0.4) 30%, transparent 70%);
    opacity: 0;
    pointer-events: none;
    animation: podiumBurstExpand 0.8s ease-out 3.2s forwards;
}

@keyframes podiumBurstExpand {
    0% {
        width: 0;
        height: 0;
        opacity: 1;
    }

    50% {
        opacity: 0.8;
    }

    100% {
        width: 400px;
        height: 400px;
        opacity: 0;
    }
}

/* Particle burst container */
.podium-particle-burst {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    pointer-events: none;
    z-index: 10;
}

.winner-burst-particle {
    position: absolute;
    border-radius: 50%;
    opacity: 0;
    animation: winnerBurstAnim 0.8s ease-out forwards;
}

@keyframes winnerBurstAnim {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }

    100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(0);
    }
}

/* Winner content (revealed after burst) */
.podium-winner-content {
    opacity: 0;
    animation: winnerContentReveal 0.5s ease-out 3.6s forwards;
}

@keyframes winnerContentReveal {
    0% {
        opacity: 0;
        transform: scale(0.9);
    }

    100% {
        opacity: 1;
        transform: scale(1);
    }
}

/* Couronne */
.podium-crown {
    width: clamp(2rem, 3.5vw, 2.875rem);
    height: clamp(2rem, 3.5vw, 2.875rem);
    margin: 0 auto clamp(0.5rem, 1vw, 1rem);
    opacity: 0;
    animation: crownRevealAnim 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 3.8s forwards;
    filter: drop-shadow(0 0 15px rgba(240, 200, 80, 0.5));
}

.podium-crown svg {
    width: 100%;
    height: 100%;
}

@keyframes crownRevealAnim {
    0% {
        opacity: 0;
        transform: scale(0.5) translateY(-10px);
    }

    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* Nom du joueur */
.podium-player-name {
    font-size: clamp(0.85rem, 1.2vw, 1.2rem);
    font-weight: 600;
    margin-bottom: clamp(0.75rem, 1vw, 1.25rem);
    color: var(--text-primary);
    letter-spacing: -0.01em;
}

.podium-place.first .podium-player-name {
    font-size: clamp(1rem, 1.5vw, 1.5rem);
    font-weight: 700;
    background: linear-gradient(135deg, #FFD700 0%, #fff 50%, #F0C850 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: textShineAnim 4s ease-in-out infinite;
}

@keyframes textShineAnim {

    0%,
    100% {
        background-position: 0% center;
    }

    50% {
        background-position: 200% center;
    }
}

/* Stats Grid */
.podium-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: clamp(0.4rem, 0.8vw, 0.85rem);
}

.podium-stats.single-stat {
    grid-template-columns: 1fr;
}

.podium-stats.single-stat .podium-stat {
    padding: clamp(0.5rem, 1vw, 1rem) clamp(0.5rem, 1vw, 1rem);
}

.podium-stat {
    text-align: center;
    padding: clamp(0.4rem, 0.8vw, 0.85rem) clamp(0.25rem, 0.5vw, 0.6rem);
    background: rgba(255, 255, 255, 0.02);
    border-radius: 0.75rem;
}

.podium-stat-val {
    font-size: clamp(0.9rem, 1.1vw, 1.2rem);
    font-weight: 600;
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
}

.podium-place.first .podium-stat-val {
    color: var(--neon-primary);
    font-size: clamp(1rem, 1.3vw, 1.35rem);
}

.podium-stat-val svg {
    width: clamp(0.875rem, 1.1vw, 1.125rem);
    height: clamp(0.875rem, 1.1vw, 1.125rem);
    opacity: 0.7;
}

.podium-place.first .podium-stat-val svg {
    width: clamp(1rem, 1.2vw, 1.25rem);
    height: clamp(1rem, 1.2vw, 1.25rem);
}

.podium-stat-label {
    font-size: clamp(0.55rem, 0.7vw, 0.7rem);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--text-muted, #444);
    margin-top: 0.25rem;
}

/* Podium Step */
.podium-step {
    width: 100%;
    border-radius: 0.75rem 0.75rem 0 0;
    position: relative;
    overflow: hidden;
}

.podium-step::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
}

.podium-place.first .podium-step {
    height: clamp(3.5rem, 6vw, 5.3rem);
    background: linear-gradient(180deg, rgba(240, 200, 80, 0.12) 0%, rgba(240, 200, 80, 0.02) 100%);
}

.podium-place.first .podium-step::before {
    background: linear-gradient(90deg, transparent, var(--neon-primary), transparent);
}

.podium-place.second .podium-step {
    height: clamp(2.2rem, 4vw, 3.4rem);
    background: linear-gradient(180deg, rgba(156, 163, 175, 0.08) 0%, rgba(156, 163, 175, 0.01) 100%);
}

.podium-place.second .podium-step::before {
    background: linear-gradient(90deg, transparent, #9CA3AF, transparent);
}

.podium-place.third .podium-step {
    height: clamp(1.4rem, 2.5vw, 2.2rem);
    background: linear-gradient(180deg, rgba(184, 115, 51, 0.08) 0%, rgba(184, 115, 51, 0.01) 100%);
}

.podium-place.third .podium-step::before {
    background: linear-gradient(90deg, transparent, #B87333, transparent);
}

/* Your Rank Section */
.your-rank-section {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: clamp(1rem, 2vw, 1.5rem);
    padding: clamp(0.875rem, 1.5vw, 1.25rem) clamp(1.25rem, 2vw, 2rem);
    background: rgba(255, 255, 255, 0.02);
    border-radius: 1rem;
    margin-bottom: clamp(1.5rem, 3vw, 2.5rem);
    opacity: 0;
    animation: fadeInAnim 0.5s ease-out 3.9s forwards;
    max-width: 25rem;
    margin-left: auto;
    margin-right: auto;
}

@keyframes fadeInAnim {
    to {
        opacity: 1;
    }
}

.your-rank-position {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.your-rank-number {
    font-size: clamp(1.25rem, 2vw, 1.5rem);
    font-weight: 700;
    color: var(--text-primary);
}

.your-rank-suffix {
    font-size: clamp(0.65rem, 0.9vw, 0.75rem);
    color: var(--text-muted, #444);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.your-rank-divider {
    width: 1px;
    height: 30px;
    background: rgba(255, 255, 255, 0.1);
}

.your-rank-info {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.your-rank-name {
    font-size: clamp(0.85rem, 1.1vw, 0.95rem);
    font-weight: 600;
    color: var(--text-primary);
}

.your-rank-stats {
    font-size: clamp(0.65rem, 0.85vw, 0.75rem);
    color: var(--text-muted, #444);
    display: flex;
    gap: 0.75rem;
}

.your-rank-stats span {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.your-rank-stats svg {
    width: 12px;
    height: 12px;
    opacity: 0.6;
}

/* Bouton Retour */
.btn-winner-back {
    background: transparent;
    border: none;
    color: var(--text-secondary);
    font-family: 'Poppins', sans-serif;
    font-size: clamp(0.8rem, 1vw, 0.9rem);
    font-weight: 500;
    padding: 0.75rem 2rem;
    cursor: pointer;
    transition: all 0.3s ease;
    opacity: 0;
    animation: fadeInAnim 0.5s ease-out 4.2s forwards;
    position: relative;
}

.btn-winner-back::after {
    content: '';
    position: absolute;
    bottom: 0.5rem;
    left: 50%;
    transform: translateX(-50%) scaleX(0);
    width: 60%;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--neon-primary), transparent);
    transition: transform 0.3s ease;
}

.btn-winner-back:hover {
    color: var(--neon-primary);
}

.btn-winner-back:hover::after {
    transform: translateX(-50%) scaleX(1);
}

/* ============================================
   RESPONSIVE - WINNER PODIUM
   ============================================ */

@media (max-width: 750px) {
    .winner-podium {
        gap: 1rem;
    }

    .podium-card {
        min-width: 9rem;
        padding: 1.5rem 1.25rem;
    }

    .podium-place.first .podium-card {
        min-width: 11rem;
        padding: 1.75rem 1.5rem;
    }

    .podium-player-name {
        font-size: 0.95rem;
    }

    .podium-place.first .podium-player-name {
        font-size: 1.1rem;
    }

    .podium-medal {
        width: 2.75rem;
        height: 2.75rem;
    }

    .podium-place.first .podium-medal {
        width: 3.25rem;
        height: 3.25rem;
    }

    .podium-crown {
        width: 2.125rem;
        height: 2.125rem;
    }

    .podium-stat-val {
        font-size: 1rem;
    }

    .podium-place.first .podium-stat-val {
        font-size: 1.1rem;
    }

    .podium-place.first .podium-step {
        height: 4.375rem;
    }

    .podium-place.second .podium-step {
        height: 2.8rem;
    }

    .podium-place.third .podium-step {
        height: 1.75rem;
    }
}

@media (max-width: 600px) {
    .winner-container {
        padding: 1.5rem 1rem;
    }

    .winner-podium {
        gap: 0.5rem;
        margin-bottom: 2rem;
    }

    .podium-card {
        min-width: 6.5rem;
        padding: 1.25rem 0.75rem;
        border-radius: 1rem;
    }

    .podium-place.first .podium-card {
        min-width: 8rem;
        padding: 1.5rem 1rem;
    }

    .podium-player-name {
        font-size: 0.75rem;
    }

    .podium-place.first .podium-player-name {
        font-size: 0.9rem;
    }

    .podium-medal {
        width: 2.375rem;
        height: 2.375rem;
        margin-bottom: 0.75rem;
    }

    .podium-place.first .podium-medal {
        width: 2.875rem;
        height: 2.875rem;
    }

    .podium-crown {
        width: 1.75rem;
        height: 1.75rem;
        margin-bottom: 0.5rem;
    }

    .podium-stats {
        gap: 0.4rem;
    }

    .podium-stat {
        padding: 0.5rem 0.25rem;
        border-radius: 0.5rem;
    }

    .podium-stat-val {
        font-size: 0.85rem;
        gap: 0.2rem;
    }

    .podium-stat-val svg {
        width: 0.75rem;
        height: 0.75rem;
    }

    .podium-place.first .podium-stat-val {
        font-size: 0.95rem;
    }

    .podium-place.first .podium-stat-val svg {
        width: 0.875rem;
        height: 0.875rem;
    }

    .podium-stat-label {
        font-size: 0.55rem;
    }

    .podium-place.first .podium-step {
        height: 3.125rem;
    }

    .podium-place.second .podium-step {
        height: 2rem;
    }

    .podium-place.third .podium-step {
        height: 1.25rem;
    }

    .your-rank-section {
        padding: 1rem 1.25rem;
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .your-rank-number {
        font-size: 1.25rem;
    }

    .your-rank-name {
        font-size: 0.85rem;
    }

    .your-rank-stats {
        font-size: 0.7rem;
    }

    .btn-winner-back {
        font-size: 0.85rem;
        padding: 0.6rem 1.5rem;
    }
}

@media (max-width: 400px) {
    .winner-podium {
        gap: 0.35rem;
    }

    .podium-card {
        min-width: 5.5rem;
        padding: 1rem 0.5rem;
    }

    .podium-place.first .podium-card {
        min-width: 6.875rem;
        padding: 1.25rem 0.75rem;
    }

    .podium-player-name {
        font-size: 0.65rem;
    }

    .podium-place.first .podium-player-name {
        font-size: 0.8rem;
    }

    .podium-medal {
        width: 2rem;
        height: 2rem;
    }

    .podium-place.first .podium-medal {
        width: 2.5rem;
        height: 2.5rem;
    }

    .podium-crown {
        width: 1.5rem;
        height: 1.5rem;
    }

    .podium-stat {
        padding: 0.4rem 0.2rem;
    }

    .podium-stat-val {
        font-size: 0.75rem;
    }

    .podium-place.first .podium-stat-val {
        font-size: 0.85rem;
    }

    .podium-stat-label {
        font-size: 0.5rem;
    }

    .podium-place.first .podium-step {
        height: 2.5rem;
    }

    .podium-place.second .podium-step {
        height: 1.625rem;
    }

    .podium-place.third .podium-step {
        height: 1rem;
    }

    .your-rank-section {
        flex-direction: column;
        gap: 0.5rem;
        padding: 1rem;
    }

    .your-rank-divider {
        width: 50px;
        height: 1px;
    }

    .your-rank-info {
        align-items: center;
    }
}

/* Landscape phone */
@media (max-height: 500px) and (orientation: landscape) {
    .winner-container {
        padding: 1rem;
    }

    .winner-podium {
        margin-bottom: 1.5rem;
    }

    .podium-medal {
        width: 2.25rem;
        height: 2.25rem;
        margin-bottom: 0.5rem;
    }

    .podium-place.first .podium-medal {
        width: 2.75rem;
        height: 2.75rem;
    }

    .podium-card {
        padding: 1rem 0.75rem;
    }

    .podium-place.first .podium-card {
        padding: 1.25rem 1rem;
    }

    .podium-crown {
        width: 1.625rem;
        height: 1.625rem;
        margin-bottom: 0.4rem;
    }

    .podium-player-name {
        font-size: 0.8rem;
        margin-bottom: 0.75rem;
    }

    .podium-place.first .podium-player-name {
        font-size: 0.95rem;
    }

    .podium-stats {
        gap: 0.4rem;
    }

    .podium-stat {
        padding: 0.4rem 0.25rem;
    }

    .podium-stat-val {
        font-size: 0.85rem;
    }

    .podium-place.first .podium-step {
        height: 2.5rem;
    }

    .podium-place.second .podium-step {
        height: 1.75rem;
    }

    .podium-place.third .podium-step {
        height: 1.125rem;
    }

    .your-rank-section {
        padding: 0.75rem 1rem;
        margin-bottom: 1rem;
    }
}

/* High resolution screens (2K, 4K) */
@media (min-width: 1920px) {
    .winner-container {
        max-width: 70rem;
    }

    .winner-podium {
        gap: 3.5rem;
    }

    .podium-card {
        min-width: 15rem;
        padding: 2.75rem;
        border-radius: 1.75rem;
    }

    .podium-place.first .podium-card {
        min-width: 18rem;
        padding: 3.25rem;
    }

    .podium-medal {
        width: 4.5rem;
        height: 4.5rem;
    }

    .podium-place.first .podium-medal {
        width: 5.5rem;
        height: 5.5rem;
    }

    .podium-crown {
        width: 3.5rem;
        height: 3.5rem;
    }

    .podium-player-name {
        font-size: 1.5rem;
    }

    .podium-place.first .podium-player-name {
        font-size: 1.875rem;
    }

    .podium-stat-val {
        font-size: 1.5rem;
    }

    .podium-place.first .podium-stat-val {
        font-size: 1.75rem;
    }

    .podium-stat-label {
        font-size: 0.875rem;
    }

    .podium-place.first .podium-step {
        height: 7rem;
    }

    .podium-place.second .podium-step {
        height: 4.5rem;
    }

    .podium-place.third .podium-step {
        height: 2.8rem;
    }

    .your-rank-section {
        max-width: 32rem;
        padding: 1.75rem 2.5rem;
    }

    .your-rank-number {
        font-size: 2rem;
    }

    .your-rank-name {
        font-size: 1.25rem;
    }

    .your-rank-stats {
        font-size: 1rem;
    }

    .btn-winner-back {
        font-size: 1.1rem;
        padding: 1rem 3rem;
    }
}

@media (min-width: 2560px) {

    /* ========== QUIZ UI SCALING 2K+ ========== */

    /* HUD du joueur */
    .player-hud {
        padding: 1.2rem 3rem;
        border-radius: 1.5rem;
        margin-bottom: 1.5rem;
    }

    .hud-label {
        font-size: 0.75rem;
        letter-spacing: 0.07rem;
    }

    .hud-value {
        font-size: 0.9rem;
    }

    .hud-username {
        font-size: 1.6rem;
    }

    .hud-score {
        font-size: 2.2rem;
    }

    .hud-question-counter {
        font-size: 1.4rem;
    }

    .heart {
        font-size: 1.15rem;
    }

    .hearts {
        gap: 0.4rem;
    }

    .hud-shield-icon,
    .hud-x2-icon {
        width: 3rem;
        height: 3rem;
        right: -4.5rem;
    }

    /* Badges s√©rie/difficult√© */
    .question-badges {
        gap: 1rem;
        margin-bottom: 0.75rem;
    }

    .serie-badge,
    .difficulty-badge {
        padding: 0.45rem 0.9rem;
        font-size: 1rem;
        border-radius: 0.5rem;
    }

    /* Question */
    .question-text {
        font-size: 1.75rem;
        max-width: 52rem;
        margin: 0 0 2rem 0;
    }

    /* R√©ponses */
    .answers-grid {
        gap: 1.75rem;
        max-width: 50rem;
    }

    .answers-grid.grid-6 {
        max-width: 64rem;
        gap: 1.5rem;
    }

    .answer-btn {
        min-width: 18rem;
        min-height: 5.5rem;
        padding: 1.25rem 2.5rem;
    }

    .answer-btn::before,
    .answer-btn::after {
        width: 1.4rem;
        height: 1.4rem;
    }

    .answer-text {
        font-size: 1.35rem;
    }

    /* Timer bar */
    .timer-bar-container {
        height: 7px;
        margin-bottom: 2.5rem;
    }

    /* Survivors count */
    .survivors-count {
        font-size: 1.3rem;
        margin-top: 2rem;
    }

    /* Combo gauge */
    .combo-gauge-container {
        width: 1.9rem;
    }

    .combo-gauge {
        height: 36rem;
        border-radius: 1.2rem;
    }

    .combo-bar-wrapper {
        height: 35.5rem;
    }

    .combo-gauge-level {
        font-size: 0.95rem;
        width: 2.25rem;
        height: 2.25rem;
    }

    /* Bonus icon - repositionn√© au-dessus de la jauge 36rem */
    .bonus-icon-container {
        right: 1.73rem;
        top: calc(50% - 22.25rem);
    }

    .bonus-main-icon {
        width: 3rem;
        height: 3rem;
    }

    .bonus-main-icon svg {
        width: 1.6rem;
        height: 1.6rem;
    }

    /* Bonus strip */
    .bonus-strip {
        padding: 0.85rem 1.5rem;
        font-size: 1.2rem;
        border-radius: 0.85rem;
    }

    .bonus-strip img {
        width: 2rem;
        height: 2rem;
    }

    /* Game section */
    .game-section {
        max-width: 90rem;
    }

    /* D√©fis / Challenges */
    .challenges-container {
        left: 2rem;
        gap: 2.5rem;
        max-width: 350px;
    }

    .challenge-strip {
        min-width: 330px;
        padding: 0.9rem 1.15rem;
        border-left-width: 4px;
    }

    .challenge-icon {
        width: 22px;
        height: 22px;
    }

    .challenge-title {
        font-size: 0.9rem;
    }

    .challenge-desc {
        font-size: 0.78rem;
    }

    .reward-text {
        font-size: 0.68rem;
        padding: 0.15rem 0.45rem;
    }

    .challenge-checkbox {
        width: 20px;
        height: 20px;
    }

    /* ========== PODIUM 2K+ ========== */
    .winner-container {
        max-width: 90rem;
    }

    .winner-podium {
        gap: 5rem;
    }

    .podium-card {
        min-width: 20rem;
        padding: 3.5rem;
        border-radius: 2rem;
    }

    .podium-place.first .podium-card {
        min-width: 24rem;
        padding: 4rem;
    }

    .podium-medal {
        width: 6rem;
        height: 6rem;
    }

    .podium-place.first .podium-medal {
        width: 7rem;
        height: 7rem;
    }

    .podium-crown {
        width: 4.5rem;
        height: 4.5rem;
    }

    .podium-player-name {
        font-size: 1.875rem;
    }

    .podium-place.first .podium-player-name {
        font-size: 2.25rem;
    }

    .podium-stat-val {
        font-size: 1.875rem;
    }

    .podium-place.first .podium-stat-val {
        font-size: 2.125rem;
    }

    .podium-stat-label {
        font-size: 1rem;
    }

    .podium-place.first .podium-step {
        height: 9rem;
    }

    .podium-place.second .podium-step {
        height: 6rem;
    }

    .podium-place.third .podium-step {
        height: 3.75rem;
    }
}


/* ============================================
   üÜï SYST√àME DE D√âFIS - Bandelettes √† gauche
   ============================================ */

.challenges-container {
    position: fixed;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    gap: 2rem;
    z-index: 100;
    max-width: 320px;
}

.challenge-strip {
    display: flex;
    align-items: flex-start;
    gap: 0.6rem;
    padding: 0.75rem 1rem;
    background: linear-gradient(90deg,
            rgba(20, 20, 30, 0.95) 0%,
            rgba(15, 15, 22, 0.9) 100%);
    border-left: 3px solid #f0c14b;
    border-radius: 0 6px 6px 0;
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
    min-width: 300px;

    /* üÜï Animation d'apparition */
    animation: slideInFromLeft 0.5s ease-out forwards;
    opacity: 0;
}

/* D√©lai progressif pour chaque bandelette */
.challenge-strip:nth-child(1) {
    animation-delay: 0.1s;
}

.challenge-strip:nth-child(2) {
    animation-delay: 0.25s;
}

.challenge-strip:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes slideInFromLeft {
    0% {
        opacity: 0;
        transform: translateX(-100%);
    }

    70% {
        transform: translateX(5%);
    }

    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

/* √âtat compl√©t√© */
.challenge-strip.completed {
    border-left-color: #48bb78;
    opacity: 0.35;
    filter: saturate(0.4);
    animation: challengeComplete 0.8s ease forwards;
}

@keyframes challengeComplete {
    0% {
        box-shadow: 0 0 20px rgba(72, 187, 120, 0.6);
        opacity: 1;
    }

    50% {
        box-shadow: 0 0 30px rgba(72, 187, 120, 0.8);
        opacity: 0.8;
    }

    100% {
        box-shadow: none;
        opacity: 0.35;
    }
}

/* Ic√¥ne du d√©fi */
.challenge-icon {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    margin-top: 2px;
}

.challenge-icon svg {
    width: 100%;
    height: 100%;
    fill: #f0c14b;
    opacity: 0.9;
}

.challenge-strip.completed .challenge-icon svg {
    fill: #48bb78;
}

/* Contenu du d√©fi */
.challenge-content {
    flex: 1;
    min-width: 0;
}

.challenge-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.8rem;
    font-weight: 600;
    color: #fff;
    margin-bottom: 0.15rem;
    line-height: 1.2;
}

.challenge-strip.completed .challenge-title {
    color: #a0aec0;
}

.challenge-desc {
    font-size: 0.68rem;
    color: #888;
    line-height: 1.35;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Barre de progression */
.challenge-progress-bar {
    height: 2px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 1px;
    margin-top: 0.3rem;
    overflow: hidden;
}

.challenge-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #f0c14b, transparent);
    border-radius: 2px;
    transition: width 0.5s ease;
}

/* R√©compense */
.challenge-reward {
    flex-shrink: 0;
}

.reward-text {
    font-size: 0.55rem;
    color: #888;
    background: rgba(240, 193, 75, 0.1);
    padding: 0.15rem 0.4rem;
    border-radius: 3px;
}

.reward-text::before {
    content: '+';
    color: #f0c14b;
    margin-right: 0.15rem;
}

.challenge-strip.completed .reward-text {
    background: rgba(72, 187, 120, 0.1);
    color: #48bb78;
}

.challenge-strip.completed .reward-text::before {
    content: '‚úì';
    color: #48bb78;
}

/* Checkbox */
.challenge-checkbox {
    width: 20px;
    height: 20px;
    border: 1.5px solid rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.3s ease;
    margin-top: 2px;
}

.challenge-checkbox svg {
    width: 14px;
    height: 14px;
    fill: #48bb78;
}

.challenge-strip.completed .challenge-checkbox {
    border-color: #48bb78;
    background: rgba(72, 187, 120, 0.2);
}


/* ============================================
   RESPONSIVE - D√©fis selon r√©solution
   ============================================ */

/* Petits √©crans desktop (1366x768, laptops avec scaling) */
@media (max-width: 1440px) {
    .challenges-container {
        left: 0.75rem;
        gap: 1.5rem;
        max-width: 260px;
    }

    .challenge-strip {
        min-width: 240px;
        padding: 0.6rem 0.8rem;
        gap: 0.5rem;
    }

    .challenge-icon {
        width: 16px;
        height: 16px;
    }

    .challenge-title {
        font-size: 0.7rem;
    }

    .challenge-desc {
        font-size: 0.6rem;
    }

    .reward-text {
        font-size: 0.55rem;
        padding: 0.1rem 0.35rem;
    }

    .challenge-checkbox {
        width: 16px;
        height: 16px;
    }
}

/* Full HD (1920x1080) - Taille r√©duite */
@media (min-width: 1441px) and (max-width: 2048px) {
    .challenges-container {
        left: 1rem;
        gap: 2rem;
        max-width: 320px;
    }

    .challenge-strip {
        min-width: 300px;
        padding: 0.75rem 1rem;
    }

    .challenge-title {
        font-size: 0.8rem;
    }

    .challenge-desc {
        font-size: 0.68rem;
    }
}

/* 2K / QHD (2560x1440) */
@media (min-width: 2049px) and (max-width: 3000px) {
    .challenges-container {
        left: 1.5rem;
        gap: 2.5rem;
        max-width: 320px;
    }

    .challenge-strip {
        min-width: 300px;
        padding: 0.8rem 1rem;
        border-left-width: 4px;
    }

    .challenge-icon {
        width: 20px;
        height: 20px;
    }

    .challenge-title {
        font-size: 0.8rem;
    }

    .challenge-desc {
        font-size: 0.7rem;
    }

    .reward-text {
        font-size: 0.6rem;
        padding: 0.15rem 0.45rem;
    }

    .challenge-checkbox {
        width: 20px;
        height: 20px;
    }

    .challenge-progress-bar {
        height: 3px;
    }
}

/* 4K (3840x2160) */
@media (min-width: 3001px) {
    .challenges-container {
        left: 2rem;
        gap: 3rem;
        max-width: 380px;
    }

    .challenge-strip {
        min-width: 360px;
        padding: 0.9rem 1.1rem;
        border-left-width: 4px;
        border-radius: 0 8px 8px 0;
    }

    .challenge-icon {
        width: 24px;
        height: 24px;
    }

    .challenge-title {
        font-size: 0.9rem;
    }

    .challenge-desc {
        font-size: 0.75rem;
    }

    .reward-text {
        font-size: 0.65rem;
        padding: 0.2rem 0.5rem;
    }

    .challenge-checkbox {
        width: 24px;
        height: 24px;
    }

    .challenge-progress-bar {
        height: 3px;
        margin-top: 0.4rem;
    }
}

/* Masquer sur mobile et tablette */
@media (max-width: 1024px) {
    .challenges-container {
        display: none;
    }
}


/* ============================================
   üÜï D√âFIS MOBILE - Ic√¥ne + Modal
   ============================================ */

/* Ic√¥ne d√©fis en bas gauche (visible uniquement sur mobile) */
.challenges-mobile-icon {
    display: none;
}

@media (max-width: 1024px) {
    .challenges-mobile-icon {
        display: flex;
        position: fixed;
        bottom: 2rem;
        left: 2rem;
        width: 2.5rem;
        height: 2.5rem;
        background: rgba(20, 20, 30, 0.9);
        border: 1.5px solid rgba(240, 193, 75, 0.4);
        border-radius: 50%;
        align-items: center;
        justify-content: center;
        z-index: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .challenges-mobile-icon:active {
        transform: scale(0.95);
    }

    .challenges-mobile-icon svg {
        width: 1rem;
        height: 1rem;
        fill: #f0c14b;
    }

    .challenges-mobile-badge {
        position: absolute;
        top: -4px;
        right: -4px;
        background: #3b82f6;
        color: #fff;
        font-family: 'Orbitron', sans-serif;
        font-size: 0.6rem;
        font-weight: 700;
        width: 1.25rem;
        height: 1.25rem;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Overlay modal */
    .challenges-mobile-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        padding: 1rem;
    }

    /* Modal */
    .challenges-mobile-modal {
        background: linear-gradient(145deg, #1a1a24, #12121a);
        border: 1px solid rgba(240, 193, 75, 0.2);
        border-radius: 16px;
        width: 100%;
        max-width: 340px;
        max-height: 80vh;
        overflow: hidden;
    }

    .challenges-mobile-header {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        padding: 0.75rem 1rem;
    }

    .challenges-mobile-close {
        background: none;
        border: none;
        color: #888;
        font-size: 1.25rem;
        cursor: pointer;
        padding: 0.25rem;
        line-height: 1;
    }

    .challenges-mobile-close:active {
        color: #fff;
    }

    /* Liste des d√©fis */
    .challenges-mobile-list {
        padding: 0.75rem;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .challenge-mobile-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.875rem 1rem;
        background: rgba(255, 255, 255, 0.03);
        border-left: 3px solid #f0c14b;
        border-radius: 0 8px 8px 0;
        transition: all 0.3s ease;
    }

    .challenge-mobile-item.completed {
        border-left-color: #48bb78;
        opacity: 0.5;
    }

    .challenge-mobile-left {
        flex: 1;
        min-width: 0;
    }

    .challenge-mobile-name {
        font-family: 'Orbitron', sans-serif;
        font-size: 0.85rem;
        font-weight: 600;
        color: #fff;
        margin-bottom: 0.2rem;
    }

    .challenge-mobile-item.completed .challenge-mobile-name {
        color: #a0aec0;
    }

    .challenge-mobile-desc {
        font-size: 0.7rem;
        color: #888;
    }

    .challenge-mobile-progress-bar {
        height: 3px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 2px;
        margin-top: 0.5rem;
        overflow: hidden;
    }

    .challenge-mobile-progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #f0c14b, rgba(240, 193, 75, 0.3));
        border-radius: 2px;
        transition: width 0.3s ease;
    }

    .challenge-mobile-right {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        gap: 0.35rem;
        margin-left: 0.75rem;
    }

    .challenge-mobile-reward {
        font-size: 0.6rem;
        color: #888;
        background: rgba(240, 193, 75, 0.1);
        padding: 0.2rem 0.4rem;
        border-radius: 4px;
    }

    .challenge-mobile-item.completed .challenge-mobile-reward {
        background: rgba(72, 187, 120, 0.1);
        color: #48bb78;
    }

    .challenge-mobile-check {
        width: 1.25rem;
        height: 1.25rem;
        background: rgba(72, 187, 120, 0.2);
        border: 1px solid #48bb78;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #48bb78;
        font-size: 0.75rem;
        font-weight: 700;
    }

    /* Animation d'apparition */
    .challenges-modal-enter-active,
    .challenges-modal-leave-active {
        transition: opacity 0.25s ease;
    }

    .challenges-modal-enter-active .challenges-mobile-modal,
    .challenges-modal-leave-active .challenges-mobile-modal {
        transition: transform 0.25s ease;
    }

    .challenges-modal-enter-from,
    .challenges-modal-leave-to {
        opacity: 0;
    }

    .challenges-modal-enter-from .challenges-mobile-modal,
    .challenges-modal-leave-to .challenges-mobile-modal {
        transform: scale(0.9);
    }
}

/* ============================================
   LOBBY TIPS (PC uniquement)
   ============================================ */

.lobby-tips-container {
    position: fixed;
    bottom: 2.5rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
    pointer-events: none;
}

.lobby-tip {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: rgba(255, 255, 255, 0.5);
    font-size: 0.85rem;
    animation: tipFadeInOut 7s ease forwards;
}

.tip-icon {
    font-size: 0.9rem;
    flex-shrink: 0;
}

.tip-text {
    text-align: center;
    line-height: 1.4;
}

@keyframes tipFadeInOut {
    0% {
        opacity: 0;
        transform: translateY(10px);
    }

    12% {
        opacity: 1;
        transform: translateY(0);
    }

    88% {
        opacity: 1;
        transform: translateY(0);
    }

    100% {
        opacity: 0;
        transform: translateY(-5px);
    }
}

/* Ajustements mobile */
@media (max-width: 768px) {
    .lobby-tips-container {
        bottom: 1.5rem;
        width: 95%;
        padding: 0 0.5rem;
    }

    .lobby-tip {
        font-size: 0.75rem;
        padding: 0.5rem 0.8rem;
    }

    .tip-icon {
        font-size: 0.8rem;
    }
}

/* ============================================
   MODE RIVALIT√â - HUD ET SCORES D'√âQUIPE
   ============================================ */

/* Badge d'√©quipe dans le HUD - √† droite du pseudo */
.hud-team-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.15rem 0.4rem;
    border-radius: 3px;
    font-size: 0.5rem;
    font-weight: 600;
    text-transform: uppercase;
    margin-left: 0.4rem;
    letter-spacing: 0.3px;
    vertical-align: middle;
    line-height: 1.2;
}

.hud-team-badge.team-1 {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(59, 130, 246, 0.1));
    border: 1px solid #3b82f6;
    color: #60a5fa;
}

.hud-team-badge.team-2 {
    background: linear-gradient(135deg, rgba(240, 192, 64, 0.3), rgba(240, 192, 64, 0.1));
    border: 1px solid #f0c040;
    color: #f0c040;
}

/* Score de mon √©quipe sous les r√©ponses - Style V6 Glow */
.my-team-score-wrapper {
    display: flex;
    justify-content: center;
    margin-top: 3.5rem;
}

.my-team-score {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.3rem 0.7rem;
    border-radius: 8px;
    font-size: 0.72rem;
    opacity: 0.9;
}

/* Animation d'apparition directe */
.my-team-score.animate-in {
    opacity: 0;
    animation: teamScoreAppear 0.5s ease-out 0.5s forwards;
}

@keyframes teamScoreAppear {
    0% {
        opacity: 0;
        transform: translateY(10px) scale(0.9);
    }

    60% {
        transform: translateY(-2px) scale(1.02);
    }

    100% {
        opacity: 0.9;
        transform: translateY(0) scale(1);
    }
}

.my-team-score .team-name {
    font-weight: 600;
}

.my-team-score .team-separator {
    width: 12px;
    height: 2px;
    border-radius: 1px;
    opacity: 0.5;
}

.my-team-score .team-value {
    color: rgba(255, 255, 255, 0.8);
    font-weight: 500;
}

/* Couleur selon l'√©quipe */
.my-team-score.team-1 {
    background: rgba(96, 165, 250, 0.1);
    box-shadow: 0 0 15px rgba(96, 165, 250, 0.15);
}

.my-team-score.team-1 .team-name {
    color: #60a5fa;
}

.my-team-score.team-1 .team-separator {
    background: #60a5fa;
}

.my-team-score.team-2 {
    background: rgba(240, 192, 64, 0.1);
    box-shadow: 0 0 15px rgba(240, 192, 64, 0.15);
}

.my-team-score.team-2 .team-name {
    color: #f0c040;
}

.my-team-score.team-2 .team-separator {
    background: #f0c040;
}

/* Responsive */
@media (max-width: 768px) {
    .hud-team-badge {
        display: none;
    }

    .my-team-score-wrapper {
        margin-top: 2.5rem;
    }

    .my-team-score {
        font-size: 0.65rem;
        padding: 0.25rem 0.6rem;
    }
}

/* ============================================
   MODE RIVALIT√â - PODIUM √âQUIPES
   ============================================ */

/* Cartes d'√©quipe dans le podium */
.podium-card.team-card {
    position: relative;
}

.podium-card.team-card.team-1 {
    border-color: #3b82f6;
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

.podium-card.team-card.team-2 {
    border-color: #f0c040;
    box-shadow: 0 0 20px rgba(240, 192, 64, 0.3);
}

.podium-card.team-card.team-1 .podium-player-name {
    color: #60a5fa;
}

.podium-card.team-card.team-2 .podium-player-name {
    color: #f0c040;
}

/* Ic√¥ne d'√©quipe optionnelle */
.podium-card.team-card::before {
    content: '';
    position: absolute;
    top: -10px;
    right: -10px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
}

.podium-card.team-card.team-1::before {
    content: '‚öîÔ∏è';
    background: rgba(59, 130, 246, 0.3);
}

.podium-card.team-card.team-2::before {
    content: 'üõ°Ô∏è';
    background: rgba(240, 192, 64, 0.3);
}

/* ============================================
   MODE FIZZBUZZ - STYLES
   ============================================ */

/* Variables FizzBuzz */
:root {
    --fizzbuzz-green: #4ade80;
    --fizzbuzz-green-dark: #22c55e;
    --fizzbuzz-green-glow: rgba(74, 222, 128, 0.4);
}

/* ===== LOBBY FIZZBUZZ ===== */
.fizzbuzz-lobby {
    border-color: rgba(74, 222, 128, 0.3) !important;
}

.fizzbuzz-lobby .corner-decoration {
    background: linear-gradient(135deg, var(--fizzbuzz-green), transparent) !important;
}

.fizzbuzz-lobby h2 {
    color: var(--fizzbuzz-green);
    background: none;
    -webkit-background-clip: unset;
    -webkit-text-fill-color: var(--fizzbuzz-green);
    background-clip: unset;
}

.fizzbuzz-players .players-count {
    color: var(--fizzbuzz-green);
}

.btn-fizzbuzz {
    background: linear-gradient(135deg, var(--fizzbuzz-green-dark), var(--fizzbuzz-green)) !important;
    box-shadow: 0 4px 20px rgba(74, 222, 128, 0.3) !important;
}

.btn-fizzbuzz:hover {
    box-shadow: 0 6px 30px rgba(74, 222, 128, 0.5) !important;
}

.btn-fizzbuzz.joined {
    background: rgba(74, 222, 128, 0.2) !important;
    border: 1.5px solid var(--fizzbuzz-green) !important;
    color: var(--fizzbuzz-green) !important;
}

.btn-fizzbuzz.lobby-full-error {
    background: rgba(239, 68, 68, 0.15) !important;
    border: 1.5px solid rgba(239, 68, 68, 0.6) !important;
    color: #ef4444 !important;
    box-shadow: 0 4px 20px rgba(239, 68, 68, 0.2) !important;
}

.btn-fizzbuzz.lobby-full-error:hover {
    box-shadow: 0 4px 20px rgba(239, 68, 68, 0.3) !important;
}

/* ===== HUD FIZZBUZZ ===== */
.fizzbuzz-hud {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    background: rgba(0, 0, 0, 0.4);
    border-bottom: 1px solid rgba(74, 222, 128, 0.2);
    margin-bottom: 1rem;
}

.fizzbuzz-username {
    font-weight: 600;
    color: var(--fizzbuzz-green);
    font-size: 0.9rem;
}

.fizzbuzz-lives {
    display: flex;
    gap: 0.25rem;
}

.fizzbuzz-heart {
    font-size: 1.2rem;
    transition: transform 0.3s, opacity 0.3s;
}

.fizzbuzz-heart.lost {
    opacity: 0.4;
    transform: scale(0.9);
}

.fizzbuzz-round {
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.6);
}

/* ===== CONTENEUR JEU FIZZBUZZ ===== */
.fizzbuzz-game-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
    padding: 1rem;
}

/* Nom √† trouver */
.fizzbuzz-target {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
}

.fizzbuzz-target-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.fizzbuzz-target-name {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--fizzbuzz-green);
    text-shadow: 0 0 20px var(--fizzbuzz-green-glow);
}

/* Timer circulaire */
.fizzbuzz-timer {
    position: relative;
    width: 80px;
    height: 80px;
}

.fizzbuzz-timer-svg {
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
}

.fizzbuzz-timer-bg {
    fill: none;
    stroke: rgba(255, 255, 255, 0.1);
    stroke-width: 6;
}

.fizzbuzz-timer-progress {
    fill: none;
    stroke: var(--fizzbuzz-green);
    stroke-width: 6;
    stroke-linecap: round;
    stroke-dasharray: 283;
    stroke-dashoffset: 0;
    transition: stroke-dashoffset 0.1s linear, stroke 0.3s;
}

.fizzbuzz-timer-progress.warning {
    stroke: #ef4444;
}

.fizzbuzz-timer-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--fizzbuzz-green);
}

.fizzbuzz-timer-text.warning {
    color: #ef4444;
    animation: pulse-warning 0.5s ease-in-out infinite;
}

@keyframes pulse-warning {

    0%,
    100% {
        transform: translate(-50%, -50%) scale(1);
    }

    50% {
        transform: translate(-50%, -50%) scale(1.1);
    }
}

/* ===== GRILLE DE CARTES ===== */
.fizzbuzz-cards-grid {
    display: grid;
    gap: 0.75rem;
    width: 100%;
    max-width: 500px;
}

.fizzbuzz-cards-grid.grid-6 {
    grid-template-columns: repeat(3, 1fr);
}

.fizzbuzz-cards-grid.grid-8 {
    grid-template-columns: repeat(4, 1fr);
}

/* Carte personnage */
.fizzbuzz-card {
    position: relative;
    aspect-ratio: 3/4;
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    border: 1.5px solid rgba(255, 255, 255, 0.1);
    background: rgba(0, 0, 0, 0.3);
    transition: all 0.2s ease;
}

.fizzbuzz-card:hover:not(.disabled) {
    transform: scale(1.05);
    border-color: rgba(74, 222, 128, 0.5);
    box-shadow: 0 0 20px var(--fizzbuzz-green-glow);
}

.fizzbuzz-card.selected {
    border-color: var(--fizzbuzz-green);
    box-shadow: 0 0 30px var(--fizzbuzz-green-glow);
    transform: scale(1.02);
}

.fizzbuzz-card.disabled {
    cursor: not-allowed;
    opacity: 0.6;
}

.fizzbuzz-card-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.fizzbuzz-card-overlay {
    position: absolute;
    inset: 0;
    background: rgba(74, 222, 128, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
}

.fizzbuzz-card-overlay svg {
    width: 40px;
    height: 40px;
    color: white;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

/* R√©sultats des cartes */
.fizzbuzz-card.result {
    cursor: default;
}

.fizzbuzz-card.result.correct {
    border-color: var(--fizzbuzz-green);
    box-shadow: 0 0 30px var(--fizzbuzz-green-glow);
}

.fizzbuzz-card.result.correct::after {
    content: '‚úì';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2rem;
    color: white;
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
    background: var(--fizzbuzz-green);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.fizzbuzz-card.result.wrong {
    border-color: #ef4444;
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
}

.fizzbuzz-card.result.wrong::after {
    content: '‚úï';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2rem;
    color: white;
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
    background: #ef4444;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.fizzbuzz-card-name {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 0.5rem;
    background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
    font-size: 0.7rem;
    color: white;
    text-align: center;
    font-weight: 500;
}

/* √âtat √©limin√© */
.fizzbuzz-eliminated {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    z-index: 10;
}

.fizzbuzz-eliminated-icon {
    font-size: 3rem;
}

.fizzbuzz-eliminated h3 {
    color: #ef4444;
    font-size: 1.5rem;
}

.fizzbuzz-eliminated p {
    color: rgba(255, 255, 255, 0.5);
    font-size: 0.9rem;
}

/* ===== R√âSULTATS FIZZBUZZ ===== */
.fizzbuzz-results-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
    padding: 1rem;
}

.fizzbuzz-result-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
}

.fizzbuzz-result-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.fizzbuzz-result-name {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--fizzbuzz-green);
}

.fizzbuzz-stats {
    margin-top: 1rem;
}

.fizzbuzz-remaining {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.6);
}

/* ===== RESPONSIVE MOBILE ===== */
/* Styles fizzbuzz responsive */
@media (max-width: 600px) {
    .fizzbuzz-cards-grid.grid-6 {
        grid-template-columns: repeat(3, 1fr);
        gap: 0.5rem;
    }

    .fizzbuzz-cards-grid.grid-8 {
        grid-template-columns: repeat(4, 1fr);
        gap: 0.4rem;
    }

    .fizzbuzz-target-name {
        font-size: 1.25rem;
    }

    .fizzbuzz-timer {
        width: 60px;
        height: 60px;
    }

    .fizzbuzz-timer-text {
        font-size: 1.2rem;
    }
}

/* ============================================
   üí£ BOMBANIME - Styles v22 (Exact prototype)
   ============================================ */

/* Container principal */
.bombanime-game-container {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #0a0a0f;
    z-index: 50;
}

/* üîä Contr√¥le du son */
.sound-control {
    position: fixed;
    top: 20px;
    left: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 10px;
    background: rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    z-index: 100;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    animation: soundControlAppear 0.3s ease-out;
}

@keyframes soundControlAppear {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.sound-control:hover {
    background: rgba(0, 0, 0, 0.7);
    border-color: rgba(255, 255, 255, 0.2);
}

.sound-control.muted {
    opacity: 0.5;
}

.sound-btn {
    width: 28px;
    height: 28px;
    padding: 5px;
    background: none;
    border: none;
    cursor: pointer;
    color: rgba(255, 255, 255, 0.7);
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.sound-btn:hover {
    color: #22c55e;
    transform: scale(1.1);
}

.sound-btn svg {
    width: 18px;
    height: 18px;
}

.sound-slider {
    width: 60px;
    height: 4px;
    -webkit-appearance: none;
    appearance: none;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 2px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.sound-slider:hover {
    background: rgba(255, 255, 255, 0.3);
}

.sound-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 12px;
    height: 12px;
    background: #22c55e;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.2s ease;
}

.sound-slider::-webkit-slider-thumb:hover {
    transform: scale(1.2);
    box-shadow: 0 0 8px rgba(34, 197, 94, 0.5);
}

.sound-slider::-moz-range-thumb {
    width: 12px;
    height: 12px;
    background: #22c55e;
    border-radius: 50%;
    border: none;
    cursor: pointer;
}

/* Loader de chargement */
.bombanime-loading {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: #0a0a0f;
    z-index: 50;
    gap: 1rem;
    color: rgba(255, 255, 255, 0.5);
    font-size: 1rem;
}

.bombanime-loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(240, 192, 64, 0.2);
    border-top-color: #f0c040;
    border-radius: 50%;
    animation: spinner-rotate 0.8s linear infinite;
}

@keyframes spinner-rotate {
    to { transform: rotate(360deg); }
}

/* ============================================
   √âCRAN DE FIN - WINNER SCREEN
   ============================================ */
.bombanime-winner-screen {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #0a0a0f;
    z-index: 100;
    animation: winner-fade-in 0.5s ease-out;
}

@keyframes winner-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

.winner-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
    text-align: center;
    animation: winner-content-rise 0.6s ease-out 0.2s both;
}

@keyframes winner-content-rise {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Couronne */
.winner-crown {
    animation: crown-appear 0.8s ease-out 0.3s both;
}

@keyframes crown-appear {
    0% {
        opacity: 0;
        transform: scale(0.5) rotate(-10deg);
    }
    50% {
        transform: scale(1.1) rotate(5deg);
    }
    100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
    }
}

.crown-svg {
    width: 80px;
    height: 80px;
    color: #f0c040;
    filter: drop-shadow(0 0 20px rgba(240, 192, 64, 0.5));
}

/* Titre */
.winner-title {
    font-size: 1rem;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 0.3em;
}

/* Nom du gagnant - SP√âCIFIQUE BOMBANIME */
.bombanime-winner-screen .winner-name {
    font-size: 3rem;
    font-weight: 700;
    color: #f0c040;
    text-shadow: 0 0 20px rgba(240, 192, 64, 0.3);
    /* Reset des propri√©t√©s du gradient */
    background: none;
    -webkit-background-clip: unset;
    -webkit-text-fill-color: #f0c040;
    background-clip: unset;
}

.bombanime-winner-screen .winner-name.no-winner {
    color: rgba(255, 255, 255, 0.4);
    -webkit-text-fill-color: rgba(255, 255, 255, 0.4);
    text-shadow: none;
    font-size: 2rem;
}

/* Stats */
.winner-stats {
    display: flex;
    gap: 3rem;
    margin-top: 1rem;
    animation: stats-fade-in 0.5s ease-out 0.8s both;
}

@keyframes stats-fade-in {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.winner-stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
}

.winner-stat .stat-value {
    font-size: 1.5rem;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
}

.winner-stat .stat-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.4);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* Bouton retour */
.winner-back-btn {
    margin-top: 2rem;
    padding: 0.75rem 2.5rem;
    background: rgba(240, 192, 64, 0.1);
    border: none;
    border-radius: 25px;
    color: rgba(240, 192, 64, 0.8);
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    animation: btn-fade-in 0.5s ease-out 1s both;
}

@keyframes btn-fade-in {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

.winner-back-btn:hover {
    background: rgba(240, 192, 64, 0.2);
    color: #f0c040;
    transform: scale(1.05);
}

/* Particules de c√©l√©bration */
.winner-particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
}

.winner-particles::before,
.winner-particles::after {
    content: '';
    position: absolute;
    width: 4px;
    height: 4px;
    background: #f0c040;
    border-radius: 50%;
    animation: particle-float 3s ease-in-out infinite;
}

.winner-particles::before {
    left: 20%;
    top: 30%;
    animation-delay: 0s;
}

.winner-particles::after {
    right: 25%;
    top: 40%;
    animation-delay: 1.5s;
}

@keyframes particle-float {
    0%, 100% {
        opacity: 0;
        transform: translateY(0) scale(0);
    }
    10% {
        opacity: 0.8;
        transform: translateY(0) scale(1);
    }
    90% {
        opacity: 0.8;
        transform: translateY(-100px) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateY(-120px) scale(0);
    }
}

/* ============================================
   CERCLE DE JOUEURS
   ============================================ */
.bombanime-circle {
    position: relative;
    width: var(--circle-size, 650px);
    height: var(--circle-size, 650px);
    flex-shrink: 0;
    margin-top: -5rem;
    /* Pas de transition au chargement - seulement pour les changements de taille en jeu */
}

/* ============================================
   STYLE HEXAGON + HEARTS BADGE
   ============================================ */
.bombanime-player-slot {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.2rem;
    transform: translate(-50%, -50%);
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: default;
    overflow: visible;
}

/* ============================================
   ANIMATIONS D'INTRO - D√©but de partie
   ============================================ */
.bombanime-player-slot.intro-hidden {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.8);
}

.bombanime-player-slot.intro-reveal {
    animation: player-dezoom 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes player-dezoom {
    0% { 
        opacity: 0; 
        transform: translate(-50%, -50%) scale(1.8);
    }
    100% { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1);
    }
}

.bombanime-player-slot .player-name {
    font-size: 0.9rem;
    color: rgba(255,255,255,0.35);
    font-weight: 500;
    transition: all 0.2s ease;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 130px;
    text-align: center;
}

.bombanime-player-slot.active .player-name {
    color: #f0c040;
}

/* Moi-m√™me quand ce n'est PAS mon tour - jaune dor√© att√©nu√© */
.bombanime-player-slot.is-me .player-name {
    color: rgba(240, 192, 64, 0.55);
}

/* Moi-m√™me quand c'est MON tour - jaune dor√© vif */
.bombanime-player-slot.active.is-me .player-name {
    color: #f0c040;
}

.player-hex-container {
    position: relative;
    overflow: visible;
    display: flex;
    align-items: center;
    justify-content: center;
}

.player-hex {
    width: 70px;
    height: 70px;
    position: relative;
    overflow: visible;
}

.player-hex svg {
    width: 100%;
    height: 100%;
    filter: drop-shadow(0 0 6px rgba(240, 192, 64, 0.3));
    transition: filter 0.2s ease;
}

.player-hex svg polygon {
    fill: #101018;
    stroke: rgba(255,255,255,0.08);
    stroke-width: 2;
    transition: all 0.2s ease;
}

.bombanime-player-slot.active .player-hex svg {
    filter: drop-shadow(0 0 10px rgba(240, 192, 64, 0.5));
}

.bombanime-player-slot.active .player-hex svg polygon {
    stroke: #f0c040;
}

/* Moi-m√™me quand ce n'est PAS mon tour - hexagone jaune dor√© att√©nu√© */
.bombanime-player-slot.is-me .player-hex svg {
    filter: drop-shadow(0 0 6px rgba(240, 192, 64, 0.2));
}

.bombanime-player-slot.is-me .player-hex svg polygon {
    stroke: rgba(240, 192, 64, 0.5);
}

/* Moi-m√™me quand c'est MON tour - hexagone jaune dor√© vif */
.bombanime-player-slot.active.is-me .player-hex svg {
    filter: drop-shadow(0 0 10px rgba(240, 192, 64, 0.5));
}

.bombanime-player-slot.active.is-me .player-hex svg polygon {
    stroke: #f0c040;
}

.bombanime-player-slot.eliminated .player-hex svg {
    filter: none;
}

.bombanime-player-slot.eliminated .player-hex svg polygon {
    opacity: 0.3;
    stroke: rgba(255,255,255,0.03);
}

.player-avatar {
    position: absolute;
    left: 50%;
    bottom: 8%;
    transform: translateX(-50%);
    width: 72%;
    height: 72%;
    border-radius: 50%;
    object-fit: cover;
    transition: all 0.2s ease;
    filter: grayscale(40%) brightness(0.65);
    opacity: 0.55;
}

.bombanime-player-slot.active .player-avatar {
    filter: grayscale(0%) brightness(1.1);
    box-shadow: 0 0 15px rgba(240, 192, 64, 0.4);
    opacity: 1;
}

/* Moi-m√™me quand ce n'est PAS mon tour - avatar l√©g√®rement dor√© */
.bombanime-player-slot.is-me .player-avatar {
    filter: grayscale(0%) brightness(0.95);
    box-shadow: 0 0 10px rgba(240, 192, 64, 0.3);
    opacity: 0.8;
}

/* Moi-m√™me quand c'est MON tour - avatar dor√© vif */
.bombanime-player-slot.active.is-me .player-avatar {
    filter: grayscale(0%) brightness(1.15);
    box-shadow: 0 0 20px rgba(240, 192, 64, 0.5);
    opacity: 1;
}

.bombanime-player-slot.eliminated .player-avatar {
    filter: grayscale(100%) brightness(0.4);
    opacity: 0.35;
}

/* Animation succ√®s - avatar brille bri√®vement */
.bombanime-player-slot.success .player-avatar {
    filter: grayscale(0%) brightness(1.3);
    opacity: 1;
    box-shadow: 0 0 20px rgba(125, 206, 160, 0.6);
}

/* Hearts Badge */
.player-lives {
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 2px;
    background: rgba(0,0,0,0.85);
    padding: 3px 6px;
    border-radius: 10px;
    z-index: 5;
}

.player-life {
    width: 12px;
    height: 12px;
    fill: #ef4444;
    transition: all 0.2s ease;
    transform-origin: center;
}

.player-life.lost {
    fill: rgba(255,255,255,0.15);
    animation: heart-break 0.3s ease-out forwards;
}

@keyframes heart-break {
    0% {
        fill: #ef4444;
        transform: scale(1);
    }
    40% {
        fill: #ef4444;
        transform: scale(1.2);
    }
    100% {
        fill: rgba(255,255,255,0.15);
        transform: scale(1);
    }
}

/* Answer zone - Style JKLM */
.player-answer {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    margin-top: 0.75rem;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.25);
    background: transparent;
    padding: 0;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    font-weight: 600;
    transition: color 0.2s ease;
    max-width: 210px;
}

.bombanime-player-slot.active .player-answer {
    color: #f0c040;
    text-shadow: 0 0 10px rgba(240, 192, 64, 0.5);
}

/* ============================================
   ANIMATION SUCC√àS - Bonne r√©ponse
   ============================================ */
.bombanime-player-slot.success .player-hex {
    animation: success-tilt-scale 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.bombanime-player-slot.success .player-hex svg {
    animation: success-hex-glow 0.4s ease-out;
}

@keyframes success-tilt-scale {
    0% { transform: rotate(0deg) scale(1); }
    40% { transform: rotate(-10deg) scale(1.12); }
    100% { transform: rotate(0deg) scale(1); }
}

@keyframes success-hex-glow {
    0% { filter: drop-shadow(0 0 8px rgba(240, 192, 64, 0.4)); }
    40% { filter: drop-shadow(0 0 22px rgba(255, 215, 0, 0.95)); }
    100% { filter: drop-shadow(0 0 8px rgba(240, 192, 64, 0.4)); }
}

/* Particules de succ√®s */
.success-particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: visible;
}

.success-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: #ffd700;
    border-radius: 50%;
    opacity: 0;
    box-shadow: 0 0 6px rgba(255, 215, 0, 0.8);
}

.bombanime-player-slot.success .success-particle {
    animation: success-particle-burst 0.5s ease-out forwards;
}

@keyframes success-particle-burst {
    0% { opacity: 0; transform: translate(0, 0) scale(0.5); }
    30% { opacity: 1; transform: translate(var(--px), var(--py)) scale(1); }
    100% { opacity: 0; transform: translate(calc(var(--px) * 1.8), calc(var(--py) * 1.8)) scale(0.3); }
}

.success-particle:nth-child(1) { top: 50%; left: 50%; --px: -18px; --py: -22px; animation-delay: 0ms; }
.success-particle:nth-child(2) { top: 50%; left: 50%; --px: 20px; --py: -18px; animation-delay: 50ms; }
.success-particle:nth-child(3) { top: 50%; left: 50%; --px: -22px; --py: 12px; animation-delay: 100ms; }
.success-particle:nth-child(4) { top: 50%; left: 50%; --px: 18px; --py: 15px; animation-delay: 75ms; }

/* Already used - shake avatar + cadenas */
.bombanime-player-slot.already-used {
    animation: avatar-shake 0.4s ease;
}

/* Shake error - nom invalide (visible par tous) */
.bombanime-player-slot.shake-error {
    animation: avatar-shake 0.4s ease;
}

/* üÜï Explosion - perte de vie (shake sur le joueur) */
.bombanime-player-slot.exploding {
    animation: explode-shake 0.25s ease;
}

@keyframes avatar-shake {
    0%, 100% { transform: translate(-50%, -50%) translateX(0); }
    15% { transform: translate(-50%, -50%) translateX(-6px); }
    30% { transform: translate(-50%, -50%) translateX(6px); }
    45% { transform: translate(-50%, -50%) translateX(-5px); }
    60% { transform: translate(-50%, -50%) translateX(5px); }
    75% { transform: translate(-50%, -50%) translateX(-3px); }
    90% { transform: translate(-50%, -50%) translateX(3px); }
}

/* Shake plus intense pour l'explosion */
@keyframes explode-shake {
    0%, 100% { transform: translate(-50%, -50%); }
    10% { transform: translate(-58%, -50%); }
    20% { transform: translate(-42%, -50%); }
    30% { transform: translate(-56%, -44%); }
    40% { transform: translate(-44%, -56%); }
    50% { transform: translate(-50%, -42%); }
    60% { transform: translate(-56%, -50%); }
    70% { transform: translate(-44%, -50%); }
    80% { transform: translate(-50%, -56%); }
    90% { transform: translate(-50%, -44%); }
}

/* Alphabet complet - Animation visible par tous */
.bombanime-player-slot.alphabet-complete {
    z-index: 100;
}

/* Utiliser l'animation de succ√®s (tilt-scale) */
.bombanime-player-slot.alphabet-complete .player-hex {
    animation: success-tilt-scale 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.bombanime-player-slot.alphabet-complete .player-hex svg {
    animation: success-hex-glow 0.5s ease-out;
}

/* Pas de changement de stroke vert, garder la couleur dor√©e */
.bombanime-player-slot.alphabet-complete .player-hex svg polygon {
    stroke: #f0c040;
}

.bombanime-player-slot.alphabet-complete .player-avatar {
    filter: grayscale(0%) brightness(1.1);
    box-shadow: 0 0 15px rgba(240, 192, 64, 0.5);
}

.bombanime-player-slot.alphabet-complete .player-name {
    color: #f0c040;
}

/* Particules dor√©es ACCENTU√âES pour alphabet complet */
.alphabet-particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: visible;
}

.alphabet-particle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: #ffd700;
    border-radius: 50%;
    opacity: 0;
    box-shadow: 0 0 12px rgba(255, 215, 0, 1), 0 0 25px rgba(255, 200, 50, 0.8);
}

.bombanime-player-slot.alphabet-complete .alphabet-particle {
    animation: alphabet-particle-float 0.8s ease-out forwards;
}

@keyframes alphabet-particle-float {
    0% { opacity: 0; transform: translate(0, 0) scale(0.5); }
    20% { opacity: 1; transform: translate(var(--px), var(--py)) scale(1.8); }
    100% { opacity: 0; transform: translate(calc(var(--px) * 2.8), calc(var(--py) * 2.8 - 20px)) scale(0.3); }
}

.alphabet-particle:nth-child(1) { top: 50%; left: 50%; --px: -28px; --py: -32px; animation-delay: 0ms; }
.alphabet-particle:nth-child(2) { top: 50%; left: 50%; --px: 30px; --py: -28px; animation-delay: 40ms; }
.alphabet-particle:nth-child(3) { top: 50%; left: 50%; --px: -32px; --py: 20px; animation-delay: 80ms; }
.alphabet-particle:nth-child(4) { top: 50%; left: 50%; --px: 28px; --py: 25px; animation-delay: 60ms; }
.alphabet-particle:nth-child(5) { top: 50%; left: 50%; --px: 0px; --py: -38px; animation-delay: 20ms; }
.alphabet-particle:nth-child(6) { top: 50%; left: 50%; --px: -38px; --py: -10px; animation-delay: 100ms; }

.player-lock {
    position: absolute;
    right: -38px;
    top: 50%;
    transform: translateY(-50%) rotate(8deg);
    opacity: 0;
    pointer-events: none;
    color: #888888;
}

.player-lock svg {
    width: 24px;
    height: 24px;
    fill: #888888;
    stroke: #aaaaaa;
    filter: drop-shadow(0 0 4px rgba(150, 150, 150, 0.5));
}

.player-lock.show {
    animation: lock-popup 0.6s ease-out forwards;
}

@keyframes lock-popup {
    0% { opacity: 0; transform: translateY(-40%) rotate(8deg); }
    25% { opacity: 1; transform: translateY(-50%) rotate(8deg); }
    65% { opacity: 1; transform: translateY(-55%) rotate(8deg); }
    100% { opacity: 0; transform: translateY(-60%) rotate(8deg); }
}

/* ============================================
   BOMBE CHIBI + SOFT GLOW FLAME
   ============================================ */
.bomb-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 5;
}

.bomb {
    width: 70px;
    height: 70px;
    position: relative;
}

/* Corps de la bombe Chibi */
.bomb-body {
    width: 100%;
    height: 100%;
    background: linear-gradient(160deg, #4a4a5a 0%, #2a2a35 40%, #15151d 100%);
    border-radius: 50%;
    border: 4px solid #3a3a45;
    position: relative;
    box-shadow: 8px 8px 0 rgba(0,0,0,0.5);
    transition: all 0.3s ease;
    animation: bomb-pulse 0.35s ease-in-out infinite;
}

@keyframes bomb-pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.035); }
}

/* Reflet principal */
.bomb-body::before {
    content: '';
    position: absolute;
    top: 6%;
    left: 10%;
    width: 45%;
    height: 40%;
    background: linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.1) 40%, transparent 60%);
    border-radius: 50%;
}

/* Reflet secondaire */
.bomb-body::after {
    content: '';
    position: absolute;
    top: 15%;
    right: 15%;
    width: 10px;
    height: 10px;
    background: rgba(255,255,255,0.6);
    border-radius: 50%;
}

.bomb-highlight {
    position: absolute;
    top: 25%;
    right: 22%;
    width: 4px;
    height: 4px;
    background: rgba(255,255,255,0.35);
    border-radius: 50%;
}

/* √âtats danger/critical */
.bomb.danger .bomb-body {
    background: linear-gradient(160deg, #7a5a2a 0%, #5a3a15 40%, #2d1a08 100%);
    border-color: #885500;
    box-shadow: 8px 8px 0 rgba(0,0,0,0.5), 0 0 15px rgba(255, 150, 0, 0.15), 0 0 30px rgba(255, 120, 0, 0.08);
    animation: bomb-pulse-danger 0.28s ease-in-out infinite;
}

@keyframes bomb-pulse-danger {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.045); }
}

.bomb.critical .bomb-body {
    background: linear-gradient(160deg, #8a2a2a 0%, #5a1010 40%, #2d0505 100%);
    border-color: #881212;
    box-shadow: 8px 8px 0 rgba(0,0,0,0.5), 0 0 18px rgba(255, 50, 50, 0.2), 0 0 35px rgba(255, 0, 0, 0.1);
    animation: bomb-pulse-critical 0.12s ease-in-out infinite;
}

@keyframes bomb-pulse-critical {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.06); }
}

/* Container m√®che (pour rotation) */
.bomb-fuse-container {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    transition: transform 0.18s ease-out;
}

/* Capuchon - position proportionnelle √† la taille de la bombe */
.bomb-cap {
    position: absolute;
    bottom: calc(var(--bomb-size, 70px) * 0.4);
    left: 50%;
    transform: translateX(-50%);
    width: calc(var(--bomb-size, 70px) * 0.27);
    height: calc(var(--bomb-size, 70px) * 0.16);
    background: linear-gradient(180deg, #6a6a7a 0%, #4a4a5a 100%);
    border-radius: 5px 5px 0 0;
    box-shadow: 3px 3px 0 rgba(0,0,0,0.4);
    z-index: 1;
}

/* M√®che ray√©e style dynamite - position proportionnelle */
.bomb-fuse {
    position: absolute;
    bottom: calc(var(--bomb-size, 70px) * 0.54);
    left: 50%;
    transform: translateX(-50%);
    width: calc(var(--bomb-size, 70px) * 0.07);
    height: calc(var(--bomb-size, 70px) * 0.67);
    background: repeating-linear-gradient(
        180deg,
        #c4956a 0px,
        #c4956a 6px,
        #8B5A2B 6px,
        #8B5A2B 12px
    );
    border-radius: 4px;
    box-shadow: 3px 3px 0 rgba(0,0,0,0.4);
    transform-origin: bottom center;
}

/* √âtincelle au bout de la m√®che - position proportionnelle */
.bomb-spark {
    position: absolute;
    bottom: calc(var(--bomb-size, 70px) * 1.2);
    left: 50%;
    transform: translateX(-50%);
    width: calc(var(--bomb-size, 70px) * 0.13);
    height: calc(var(--bomb-size, 70px) * 0.13);
    background: radial-gradient(circle at 50% 50%, 
        #fff 0%, 
        #fffae0 30%,
        #ffc800 60%, 
        rgba(255, 150, 0, 0) 100%
    );
    border-radius: 50%;
    animation: spark-pulse 0.3s ease-in-out infinite;
    box-shadow: 0 0 8px rgba(255, 200, 50, 0.9), 0 0 15px rgba(255, 150, 0, 0.6);
}

@keyframes spark-pulse {
    0%, 100% { transform: translateX(-50%) scale(1); opacity: 1; }
    50% { transform: translateX(-50%) scale(1.2); opacity: 0.85; }
}

/* √âtats √©tincelle danger/critical */
.bomb.danger .bomb-spark {
    width: 11px;
    height: 11px;
    background: radial-gradient(circle at 50% 50%, 
        #fff 0%, 
        #ffee80 25%,
        #ff9500 55%, 
        rgba(255, 100, 0, 0) 100%
    );
    box-shadow: 0 0 8px rgba(255, 150, 0, 0.5), 0 0 15px rgba(255, 100, 0, 0.25);
    animation: spark-pulse-danger 0.15s ease-in-out infinite;
}

@keyframes spark-pulse-danger {
    0%, 100% { transform: translateX(-50%) scale(1); opacity: 1; }
    50% { transform: translateX(-50%) scale(1.35); opacity: 0.9; }
}

.bomb.critical .bomb-spark {
    width: 13px;
    height: 13px;
    background: radial-gradient(circle at 50% 50%, 
        #fff 0%, 
        #ffaaaa 20%,
        #ff3300 50%, 
        rgba(255, 0, 0, 0) 100%
    );
    box-shadow: 0 0 10px rgba(255, 50, 50, 0.5), 0 0 20px rgba(255, 0, 0, 0.3);
    animation: spark-pulse-critical 0.08s ease-in-out infinite;
}

@keyframes spark-pulse-critical {
    0%, 100% { transform: translateX(-50%) scale(1); opacity: 1; }
    50% { transform: translateX(-50%) scale(1.5); opacity: 0.95; }
}

/* ============================================
   INPUT - Style minimaliste
   ============================================ */
.input-zone {
    position: fixed;
    bottom: 1.5%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 100;
    /* Transition pour le fade-in */
    transition: opacity 0.4s ease, transform 0.4s ease;
}

/* Animation intro - Input cach√© */
.input-zone.intro-hidden {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
}

.game-input-container { 
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.game-input {
    width: 420px;
    padding: 1rem 1.8rem;
    background: transparent;
    border: none;
    font-size: 1.05rem;
    font-weight: 600;
    color: rgba(255, 250, 235, 0.95);
    outline: none;
    transition: all 0.3s ease;
    text-align: center;
    text-transform: uppercase;
}

.game-input::placeholder {
    color: rgba(240, 192, 64, 0.3);
    font-weight: 400;
    font-size: 0.85rem;
}

.game-input.disabled {
    color: rgba(255, 250, 235, 0.3);
    cursor: not-allowed;
}

.game-input.disabled::placeholder {
    color: rgba(255, 250, 235, 0.15);
}

.input-underline {
    width: 60%;
    height: 2px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 1px;
    transition: all 0.3s ease;
    position: relative;
}

.input-underline.disabled {
    background: rgba(255, 255, 255, 0.05);
}

.input-underline::after {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 0%;
    height: 100%;
    background: rgba(240, 192, 64, 0.6);
    border-radius: 1px;
    transition: width 0.3s ease;
}

.game-input:focus + .input-underline::after {
    width: 100%;
}

.game-input.error + .input-underline {
    background: rgba(239, 68, 68, 0.5);
}

/* Shake pour personnage non reconnu */
.game-input.shake-error {
    animation: input-shake 0.4s ease;
}

@keyframes input-shake {
    0%, 100% { transform: translateX(0); }
    15% { transform: translateX(-8px); }
    30% { transform: translateX(8px); }
    45% { transform: translateX(-6px); }
    60% { transform: translateX(6px); }
    75% { transform: translateX(-4px); }
    90% { transform: translateX(4px); }
}

.feedback-message {
    position: absolute;
    bottom: -40px;
    left: 50%;
    transform: translateX(-50%);
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    font-size: 0.75rem;
    font-weight: 500;
    opacity: 0;
    white-space: nowrap;
    transition: all 0.3s ease;
}

.feedback-message.show { 
    opacity: 1; 
    animation: feedback-pop 0.3s ease; 
}

@keyframes feedback-pop {
    0% { transform: translateX(-50%) scale(0.9) translateY(-5px); opacity: 0; }
    100% { transform: translateX(-50%) scale(1) translateY(0); opacity: 1; }
}

.feedback-message.error { 
    background: rgba(239, 68, 68, 0.15); 
    color: #f87171; 
}

.feedback-message.success { 
    background: rgba(240, 192, 64, 0.15); 
    color: #f0c040; 
}

/* Message attente */
.waiting-message {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.6);
    text-align: center;
}

.waiting-message strong {
    color: #f0c040;
}

.eliminated-message {
    position: fixed;
    bottom: 6%;
    left: 50%;
    transform: translateX(-50%);
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.4);
    text-align: center;
    z-index: 100;
}

/* ============================================
   ALPHABET PANEL - Gros c≈ìur + Hexagones
   ============================================ */
.alphabet-panel {
    position: fixed;
    right: 2.5rem;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1.5rem 1.2rem;
    background: rgba(0,0,0,0.4);
    border-radius: 1rem;
    border: 1px solid rgba(255,255,255,0.05);
    gap: 0.8rem;
    z-index: 100;
    /* Transition pour le slide-in */
    transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.25s ease;
}

/* Animation intro - Panel hors √©cran √† droite */
.alphabet-panel.intro-offscreen {
    transform: translateY(-50%) translateX(calc(100% + 3rem));
    opacity: 0;
}

/* Gros c≈ìur en haut */
.alphabet-heart-main {
    position: relative;
    width: 95px;
    height: 70px;
    flex-shrink: 0;
}

.alphabet-heart-main .heart-bg {
    position: absolute;
    inset: 0;
    fill: rgba(240, 192, 64, 0.15);
}

/* Grille hexagones */
.alphabet-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.9rem 0.5rem;
    align-content: center;
}

.alphabet-letter {
    width: 52px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.18);
    background: rgba(255,255,255,0.03);
    clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
    transition: all 0.3s ease;
}

.alphabet-letter.used {
    color: #f0c040;
    background: rgba(240, 192, 64, 0.15);
    text-shadow: 0 0 10px rgba(240, 192, 64, 0.5);
}

.alphabet-letter.just-added {
    animation: letter-pop 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes letter-pop {
    0% { transform: scale(1); }
    50% { transform: scale(1.3); background: rgba(240, 192, 64, 0.3); }
    100% { transform: scale(1); }
}

/* Derni√®re ligne Y-Z centr√©e */
.alphabet-last-row {
    grid-column: 1 / -1;
    display: flex;
    justify-content: center;
    gap: 0.5rem;
}

/* ============================================
   ANIMATIONS COMPL√âTION ALPHABET
   ============================================ */

/* Animation de compl√©tion du c≈ìur */
@keyframes heart-complete-pulse {
    0% { transform: scale(1); filter: drop-shadow(0 0 8px rgba(240, 192, 64, 0.5)); }
    15% { transform: scale(1.3); filter: drop-shadow(0 0 25px rgba(240, 192, 64, 1)); }
    30% { transform: scale(1.1); filter: drop-shadow(0 0 18px rgba(240, 192, 64, 0.8)); }
    45% { transform: scale(1.25); filter: drop-shadow(0 0 30px rgba(240, 192, 64, 1)); }
    60% { transform: scale(1.1); filter: drop-shadow(0 0 15px rgba(240, 192, 64, 0.7)); }
    75% { transform: scale(1.2); filter: drop-shadow(0 0 22px rgba(240, 192, 64, 0.9)); }
    100% { transform: scale(1); filter: drop-shadow(0 0 8px rgba(240, 192, 64, 0.5)); }
}

@keyframes heart-shine {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
    30% { opacity: 1; transform: translate(-50%, -50%) scale(1.5); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(2.5); }
}

@keyframes sparkle {
    0% { opacity: 0; transform: translate(0, 0) scale(0); }
    50% { opacity: 1; transform: translate(var(--tx), var(--ty)) scale(1); }
    100% { opacity: 0; transform: translate(calc(var(--tx) * 2), calc(var(--ty) * 2)) scale(0); }
}

.alphabet-heart-main.completing {
    animation: heart-complete-pulse 800ms ease-out forwards;
}

.alphabet-heart-main.completing::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, rgba(240, 192, 64, 0.7) 0%, transparent 70%);
    border-radius: 50%;
    animation: heart-shine 700ms ease-out forwards;
    pointer-events: none;
}

/* Sparkles sur le gros c≈ìur */
.sparkle-container {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: visible;
}

.sparkle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: #f0c040;
    border-radius: 50%;
    opacity: 0;
}

.alphabet-heart-main.completing .sparkle {
    animation: sparkle 600ms ease-out forwards;
}

.sparkle:nth-child(1) { top: 50%; left: 50%; --tx: -30px; --ty: -25px; animation-delay: 0ms; }
.sparkle:nth-child(2) { top: 50%; left: 50%; --tx: 30px; --ty: -20px; animation-delay: 50ms; }
.sparkle:nth-child(3) { top: 50%; left: 50%; --tx: -25px; --ty: 25px; animation-delay: 100ms; }
.sparkle:nth-child(4) { top: 50%; left: 50%; --tx: 25px; --ty: 22px; animation-delay: 75ms; }
.sparkle:nth-child(5) { top: 50%; left: 50%; --tx: 0px; --ty: -35px; animation-delay: 25ms; }
.sparkle:nth-child(6) { top: 50%; left: 50%; --tx: -35px; --ty: 0px; animation-delay: 125ms; }
.sparkle:nth-child(7) { top: 50%; left: 50%; --tx: 35px; --ty: 5px; animation-delay: 100ms; }
.sparkle:nth-child(8) { top: 50%; left: 50%; --tx: 0px; --ty: 35px; animation-delay: 150ms; }

/* Message +1 VIE - Supprim√©, remplac√© par effet c≈ìur am√©lior√© */

/* Effet de remplissage du c≈ìur am√©lior√© */
.alphabet-heart-main .heart-fill {
    position: absolute;
    inset: 0;
    fill: #f0c040;
    transition: clip-path 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    filter: drop-shadow(0 0 8px rgba(240, 192, 64, 0.5));
}

/* Pulse subtil quand une lettre est ajout√©e */
.alphabet-heart-main.letter-added .heart-fill {
    animation: heart-letter-pulse 0.4s ease-out;
}

@keyframes heart-letter-pulse {
    0% { filter: drop-shadow(0 0 8px rgba(240, 192, 64, 0.5)); }
    50% { filter: drop-shadow(0 0 18px rgba(240, 192, 64, 0.9)); transform: scale(1.08); }
    100% { filter: drop-shadow(0 0 8px rgba(240, 192, 64, 0.5)); transform: scale(1); }
}

/* Animation de compl√©tion encore plus spectaculaire */
.alphabet-heart-main.completing .heart-fill {
    animation: heart-complete-fill 800ms ease-out forwards;
}

@keyframes heart-complete-fill {
    0% { filter: drop-shadow(0 0 8px rgba(240, 192, 64, 0.5)); transform: scale(1); }
    25% { filter: drop-shadow(0 0 35px rgba(240, 192, 64, 1)); transform: scale(1.2); }
    50% { filter: drop-shadow(0 0 25px rgba(255, 255, 255, 0.8)); transform: scale(1.15); }
    75% { filter: drop-shadow(0 0 40px rgba(240, 192, 64, 1)); transform: scale(1.25); }
    100% { filter: drop-shadow(0 0 8px rgba(240, 192, 64, 0.5)); transform: scale(1); }
}

/* ============================================
   üéØ BOMBANIME - PANNEAU D√âFIS (DESKTOP)
   ============================================ */
.bombanime-challenges-panel {
    position: fixed;
    left: 2rem;
    top: 43%;
    transform: translateY(-50%);
    width: 300px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.06);
    z-index: 100;
    transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.25s ease;
}

.bombanime-challenges-panel.intro-offscreen-left {
    transform: translateY(-50%) translateX(calc(-100% - 3rem));
    opacity: 0;
}

.challenges-list {
    display: flex;
    flex-direction: column;
}

.challenge-item {
    display: flex;
    align-items: center;
    padding: 1.1rem 1.2rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
    transition: all 0.3s ease;
    gap: 1rem;
    opacity: 0.7;
}

.challenge-item:last-child {
    border-bottom: none;
}

.challenge-item::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: rgba(255, 255, 255, 0.1);
    transition: background 0.3s ease;
}

.challenge-item.in-progress {
    opacity: 1;
}

.challenge-item.in-progress::before {
    background: linear-gradient(to bottom, #f0c040, #ff9800);
}

.challenge-item.completed::before {
    background: #4caf50;
}

/* D√©fi compl√©t√© avec bonus disponible */
.challenge-item.completed:not(.used) {
    opacity: 1;
}

/* D√©fi compl√©t√© mais bonus utilis√© - gris√© */
.challenge-item.completed.used {
    opacity: 0.4;
}

.challenge-item.completed.used::before {
    background: rgba(76, 175, 80, 0.4);
}

.challenge-item.just-completed {
    animation: challenge-complete-flash 0.6s ease;
    opacity: 1;
}

@keyframes challenge-complete-flash {
    0%, 100% { background: transparent; }
    50% { background: rgba(76, 175, 80, 0.25); }
}

.challenge-content {
    flex: 1;
    min-width: 0;
}

.challenge-title {
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 0.5rem;
    font-weight: 500;
}

.challenge-letter {
    font-weight: 700;
    color: #f0c040;
}

.challenge-item.completed .challenge-letter {
    color: #81c784;
}

/* Barre de progression */
.challenge-progress-bar {
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.challenge-progress-bar .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #f0c040, #ffd54f);
    border-radius: 3px;
    transition: width 0.3s ease;
}

.challenge-item.completed .challenge-progress-bar .progress-fill {
    background: linear-gradient(90deg, #4CAF50, #81C784);
}

/* Bouton bonus √† droite */
.challenge-bonus-btn {
    width: 44px;
    height: 44px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    cursor: not-allowed;
    opacity: 0.35;
    flex-shrink: 0;
    transition: all 0.2s ease;
    position: relative;
}

.challenge-bonus-btn svg {
    width: 20px;
    height: 20px;
    fill: rgba(255, 255, 255, 0.4);
}

/* Bouton vie disponible */
.challenge-bonus-btn.available {
    background: rgba(255, 107, 107, 0.15);
    border-color: rgba(255, 107, 107, 0.5);
    cursor: pointer;
    opacity: 1;
    animation: bonus-pulse 2s ease-in-out infinite;
}

.challenge-bonus-btn.available svg {
    fill: #ff6b6b;
}

.challenge-bonus-btn.available:hover {
    background: rgba(255, 107, 107, 0.25);
    transform: scale(1.08);
    box-shadow: 0 0 15px rgba(255, 107, 107, 0.4);
}

.challenge-bonus-btn.available:active {
    transform: scale(0.95);
}

/* Bouton perso gratuit disponible */
.challenge-bonus-btn.type-gift.available {
    background: rgba(156, 39, 176, 0.15);
    border-color: rgba(156, 39, 176, 0.5);
}

.challenge-bonus-btn.type-gift.available svg {
    fill: #ce93d8;
}

.challenge-bonus-btn.type-gift.available:hover {
    background: rgba(156, 39, 176, 0.25);
    box-shadow: 0 0 15px rgba(156, 39, 176, 0.4);
}

@keyframes bonus-pulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.4); }
    50% { box-shadow: 0 0 0 6px rgba(255, 107, 107, 0); }
}

/* Bouton perso gratuit quand pas le tour du joueur */
.challenge-bonus-btn.type-gift.available.not-my-turn {
    background: rgba(156, 39, 176, 0.08);
    border-color: rgba(156, 39, 176, 0.25);
    opacity: 0.5;
    cursor: not-allowed;
    animation: none;
}

.challenge-bonus-btn.type-gift.available.not-my-turn svg {
    fill: rgba(206, 147, 216, 0.5);
}

.challenge-bonus-btn.type-gift.available.not-my-turn:hover {
    transform: none;
    box-shadow: none;
    background: rgba(156, 39, 176, 0.08);
}

/* Badge compteur sur le bouton */
.challenge-bonus-btn .bonus-count {
    position: absolute;
    top: -5px;
    right: -5px;
    min-width: 18px;
    height: 18px;
    border-radius: 9px;
    background: #ff6b6b;
    color: white;
    font-size: 0.7rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 4px;
    border: 1.5px solid rgba(10, 10, 18, 0.9);
}

.challenge-bonus-btn.type-gift .bonus-count {
    background: #ba68c8;
}

/* ============================================
   üéØ BOMBANIME - ANIMATION GAIN DE VIE SUR JOUEUR
   ============================================ */

/* √âl√©ments d'animation dans le player-hex */
.bombanime-player-slot .player-hex .life-heart-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80px;
    height: 80px;
    pointer-events: none;
    opacity: 0;
    z-index: 50;
}

.bombanime-player-slot .player-hex .life-heart-overlay svg {
    width: 100%;
    height: 100%;
    fill: #ff6b6b;
}

.bombanime-player-slot .player-hex .life-glow-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 70px;
    height: 70px;
    border: 3px solid rgba(255, 100, 100, 0.6);
    border-radius: 50%;
    pointer-events: none;
    opacity: 0;
    z-index: 45;
}

.bombanime-player-slot .player-hex .life-glow-ring.ring-2 {
    width: 90px;
    height: 90px;
}

.bombanime-player-slot .player-hex .life-particles {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 0;
    height: 0;
    pointer-events: none;
    z-index: 55;
}

.bombanime-player-slot .player-hex .life-particles .particle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #ff6b6b;
    border-radius: 50%;
    box-shadow: 0 0 8px rgba(255, 100, 100, 0.9);
    opacity: 0;
}

/* Animation d√©clench√©e par la classe .life-gained */
.bombanime-player-slot.life-gained {
    z-index: 100;
}

.bombanime-player-slot.life-gained .player-hex .life-heart-overlay {
    animation: life-heart-appear 0.6s ease-out forwards;
}

.bombanime-player-slot.life-gained .player-hex .life-glow-ring {
    animation: life-ring-expand 0.7s ease-out forwards;
}

.bombanime-player-slot.life-gained .player-hex .life-glow-ring.ring-2 {
    animation: life-ring-expand 0.7s ease-out 0.1s forwards;
}

.bombanime-player-slot.life-gained .player-hex .life-particles .particle {
    animation: life-particle-burst 0.6s ease-out 0.05s forwards;
}

/* Keyframes */
@keyframes life-slot-zoom {
    0% { transform: translate(-50%, -50%) scale(1); }
    25% { transform: translate(-50%, -50%) scale(1.3); }
    50% { transform: translate(-50%, -50%) scale(1.15); }
    100% { transform: translate(-50%, -50%) scale(1); }
}

@keyframes life-hex-glow {
    0% { filter: none; }
    25% { filter: drop-shadow(0 0 30px rgba(255, 100, 150, 1)); stroke: #ff6b9d; stroke-width: 3; }
    100% { filter: none; }
}

@keyframes life-heart-appear {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.3); }
    30% { opacity: 1; transform: translate(-50%, -50%) scale(1.4); }
    60% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.2); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(1.8); }
}

@keyframes life-ring-expand {
    0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(2.5); }
}

/* Positions des particules */
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(1) { --tx: 70px; --ty: 0; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(2) { --tx: 50px; --ty: 50px; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(3) { --tx: 0; --ty: 70px; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(4) { --tx: -50px; --ty: 50px; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(5) { --tx: -70px; --ty: 0; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(6) { --tx: -50px; --ty: -50px; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(7) { --tx: 0; --ty: -70px; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(8) { --tx: 50px; --ty: -50px; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(9) { --tx: 35px; --ty: 60px; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(10) { --tx: -35px; --ty: 60px; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(11) { --tx: -60px; --ty: -25px; }
.bombanime-player-slot .player-hex .life-particles .particle:nth-child(12) { --tx: 60px; --ty: -25px; }

@keyframes life-particle-burst {
    0% { opacity: 1; transform: translate(0, 0) scale(1.2); }
    100% { opacity: 0; transform: translate(var(--tx), calc(var(--ty) - 15px)) scale(0.3); }
}


/* ============================================
   üéØ BOMBANIME - TOOLBAR MOBILE (2 ic√¥nes)
   ============================================ */
.bombanime-mobile-toolbar {
    position: fixed;
    top: 1rem;
    right: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    z-index: 1000;
    transition: opacity 0.3s ease;
}

.bombanime-mobile-toolbar.intro-hidden {
    opacity: 0;
    pointer-events: none;
}

.mobile-toolbar-btn {
    width: 42px;
    height: 42px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    position: relative;
    cursor: pointer;
    transition: all 0.2s ease;
}

.mobile-toolbar-btn svg {
    width: 20px;
    height: 20px;
    fill: rgba(255, 255, 255, 0.5);
}

.mobile-toolbar-btn:active {
    transform: scale(0.95);
}

/* Bouton Alphabet - Bleu/Cyan */
.mobile-toolbar-btn.alphabet {
    background: linear-gradient(135deg, rgba(100, 181, 246, 0.2), rgba(66, 165, 245, 0.1));
    border-color: rgba(100, 181, 246, 0.3);
}

.mobile-toolbar-btn.alphabet svg {
    fill: #64b5f6;
}

.mobile-toolbar-btn.alphabet.letter-added {
    animation: toolbar-pulse-blue 0.4s ease;
}

@keyframes toolbar-pulse-blue {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); box-shadow: 0 0 15px rgba(100, 181, 246, 0.5); }
}

/* Bouton Bonus - Dor√©/Orange */
.mobile-toolbar-btn.bonus {
    background: linear-gradient(135deg, rgba(240, 192, 64, 0.15), rgba(255, 152, 0, 0.1));
    border-color: rgba(240, 192, 64, 0.3);
}

.mobile-toolbar-btn.bonus svg {
    fill: #f0c040;
}

/* Quand bonus disponible - Vert brillant */
.mobile-toolbar-btn.bonus.has-available {
    border-color: rgba(76, 175, 80, 0.6);
    background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(67, 160, 71, 0.1));
    animation: bonus-glow-green 1.5s ease-in-out infinite;
}

.mobile-toolbar-btn.bonus.has-available svg {
    fill: #81c784;
}

@keyframes bonus-glow-green {
    0%, 100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.4); }
    50% { box-shadow: 0 0 12px 2px rgba(76, 175, 80, 0.3); }
}

/* Badge compteur - Vert quand bonus dispo */
.toolbar-count {
    position: absolute;
    top: -4px;
    right: -4px;
    min-width: 18px;
    height: 18px;
    border-radius: 9px;
    background: #4caf50;
    border: 1.5px solid #0a0a12;
    font-size: 0.6rem;
    font-weight: 700;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 4px;
}

/* ============================================
   üéØ BOMBANIME - MODALS MOBILE (Am√©lior√©es)
   ============================================ */
.bombanime-modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.85);
    z-index: 2000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    backdrop-filter: blur(4px);
}

.bombanime-modal-content {
    background: linear-gradient(145deg, rgba(25, 25, 35, 0.98), rgba(15, 15, 22, 0.98));
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 16px;
    max-width: 340px;
    width: 100%;
    overflow: hidden;
}

/* Header du modal */
.modal-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

.modal-header-icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(240, 192, 64, 0.2), rgba(255, 152, 0, 0.1));
}

.modal-header-icon svg {
    width: 18px;
    height: 18px;
    fill: #f0c040;
}

.modal-header-icon.bonus {
    background: linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(103, 58, 183, 0.1));
}

.modal-header-icon.bonus svg {
    fill: #ce93d8;
}

.modal-header h3 {
    flex: 1;
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.9);
}

.modal-close-btn {
    width: 28px;
    height: 28px;
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.05);
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
}

.modal-close-btn svg {
    width: 16px;
    height: 16px;
    stroke: rgba(255, 255, 255, 0.5);
    stroke-width: 2;
    fill: none;
}

.modal-close-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

/* Body du modal */
.modal-body {
    padding: 0.75rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

/* Items d√©fi dans modal */
.modal-challenge-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 10px;
    border-left: 4px solid rgba(255, 255, 255, 0.1);
    transition: all 0.2s ease;
    cursor: default;
    opacity: 0.7;
}

.modal-challenge-item.in-progress {
    border-left-color: #f0c040;
    opacity: 1;
}

.modal-challenge-item.completed {
    border-left-color: #4caf50;
    background: rgba(76, 175, 80, 0.08);
    opacity: 1;
}

/* Quand bonus disponible - cliquable */
.modal-challenge-item.bonus-available {
    cursor: pointer;
    border-left-color: #ff6b6b;
    background: rgba(255, 107, 107, 0.1);
    opacity: 1;
}

.modal-challenge-item.bonus-available:hover {
    background: rgba(255, 107, 107, 0.18);
}

.modal-challenge-item.bonus-available:active {
    transform: scale(0.98);
}

.modal-challenge-item.bonus-available.type-gift {
    border-left-color: #ce93d8;
    background: rgba(156, 39, 176, 0.1);
}

.modal-challenge-item.bonus-available.type-gift:hover {
    background: rgba(156, 39, 176, 0.18);
}

.modal-challenge-icon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    flex-shrink: 0;
}

.modal-challenge-icon svg {
    width: 18px;
    height: 18px;
    fill: rgba(255, 255, 255, 0.5);
}

.modal-challenge-item.in-progress .modal-challenge-icon {
    background: rgba(240, 192, 64, 0.15);
}

.modal-challenge-item.in-progress .modal-challenge-icon svg {
    fill: #f0c040;
}

.modal-challenge-item.completed .modal-challenge-icon {
    background: rgba(76, 175, 80, 0.15);
}

.modal-challenge-item.completed .modal-challenge-icon svg {
    fill: #81c784;
}

/* Ic√¥ne quand bonus disponible */
.modal-challenge-item.bonus-available .modal-challenge-icon {
    background: rgba(255, 107, 107, 0.2);
}

.modal-challenge-item.bonus-available .modal-challenge-icon svg {
    fill: #ff6b6b;
}

.modal-challenge-item.bonus-available.type-gift .modal-challenge-icon {
    background: rgba(156, 39, 176, 0.2);
}

.modal-challenge-item.bonus-available.type-gift .modal-challenge-icon svg {
    fill: #ce93d8;
}

.modal-challenge-content {
    flex: 1;
    min-width: 0;
}

.modal-challenge-title {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: 0.4rem;
    font-weight: 500;
}

.modal-challenge-title .letter {
    font-weight: 700;
    color: #f0c040;
}

.modal-challenge-item.completed .modal-challenge-title .letter {
    color: #81c784;
}

.modal-challenge-progress {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.modal-challenge-progress .progress-bar {
    flex: 1;
    height: 5px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}

.modal-challenge-progress .progress-fill {
    height: 100%;
    background: #f0c040;
    border-radius: 3px;
    transition: width 0.3s ease;
}

.modal-challenge-item.completed .modal-challenge-progress .progress-fill {
    background: #4caf50;
}

/* D√©fi compl√©t√© mais bonus utilis√© - gris√© */
.modal-challenge-item.used {
    opacity: 0.4;
    border-left-color: rgba(76, 175, 80, 0.4);
    background: rgba(255, 255, 255, 0.01);
}

/* Bonus perso gratuit quand pas le tour du joueur */
.modal-challenge-item.not-my-turn {
    opacity: 0.5;
    cursor: not-allowed;
}

.modal-challenge-item.not-my-turn:hover {
    background: rgba(156, 39, 176, 0.1);
}

.modal-challenge-item.bonus-available .modal-challenge-progress .progress-fill {
    background: linear-gradient(90deg, #ff6b6b, #ff8a8a);
}

.modal-challenge-item.bonus-available.type-gift .modal-challenge-progress .progress-fill {
    background: linear-gradient(90deg, #ba68c8, #ce93d8);
}

.modal-challenge-progress .progress-text {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.4);
    min-width: 35px;
    text-align: right;
}

.modal-challenge-progress .bonus-count {
    font-size: 0.9rem;
    font-weight: 600;
    color: #ff6b6b;
    min-width: 35px;
    text-align: right;
}

.modal-challenge-item.type-gift .modal-challenge-progress .bonus-count {
    color: #ce93d8;
}

/* Items bonus dans modal */
.modal-bonus-item {
    display: flex;
    align-items: center;
    gap: 0.85rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.06);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
    text-align: left;
}

.modal-bonus-item:not(.disabled):hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.12);
}

.modal-bonus-item:not(.disabled):active {
    transform: scale(0.98);
}

.modal-bonus-item.disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.bonus-item-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.bonus-item-icon svg {
    width: 20px;
    height: 20px;
}

.bonus-item-icon.type-gift {
    background: linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(103, 58, 183, 0.1));
}

.bonus-item-icon.type-gift svg {
    fill: #ce93d8;
}

.bonus-item-icon.type-life {
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(255, 50, 50, 0.1));
}

.bonus-item-icon.type-life svg {
    fill: #ff6b6b;
}

.bonus-item-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
}

.bonus-item-name {
    font-size: 0.9rem;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.9);
}

.bonus-item-desc {
    font-size: 0.7rem;
    color: rgba(255, 255, 255, 0.4);
}

.bonus-item-count {
    font-size: 0.9rem;
    font-weight: 600;
    color: #f0c040;
    padding: 0.3rem 0.6rem;
    background: rgba(240, 192, 64, 0.1);
    border-radius: 6px;
}

/* ============================================
   RESPONSIVE BOMBANIME
   ============================================ */
@media (max-width: 1200px) {
    .alphabet-panel {
        right: 1rem;
        padding: 1rem 0.8rem;
    }
    
    .alphabet-heart-main {
        width: 60px;
        height: 55px;
    }
    
    .alphabet-letter {
        width: 42px;
        height: 38px;
        font-size: 1rem;
    }
}

/* ============================================
   üì± BOMBANIME - RESPONSIVE MOBILE
   ============================================ */

/* Bouton alphabet mobile (haut droite) */
.alphabet-mobile-btn {
    position: fixed;
    top: 20px;
    right: 20px;
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 10px 14px;
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid rgba(240, 192, 64, 0.3);
    border-radius: 25px;
    color: #f0c040;
    cursor: pointer;
    z-index: 100;
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.alphabet-mobile-btn:hover,
.alphabet-mobile-btn:active {
    background: rgba(0, 0, 0, 0.8);
    border-color: rgba(240, 192, 64, 0.6);
    transform: scale(1.05);
}

.alphabet-mobile-btn .alphabet-btn-heart {
    width: 18px;
    height: 18px;
    fill: rgba(240, 192, 64, 0.4);
    stroke: #f0c040;
    stroke-width: 1.5;
}

.alphabet-mobile-btn .alphabet-btn-arrow {
    width: 16px;
    height: 16px;
    stroke: rgba(240, 192, 64, 0.7);
    transition: transform 0.3s ease;
}

.alphabet-mobile-btn:hover .alphabet-btn-arrow,
.alphabet-mobile-btn:active .alphabet-btn-arrow {
    transform: translateY(2px);
    stroke: #f0c040;
}

.alphabet-mobile-btn.intro-hidden {
    opacity: 0;
    transform: translateX(50px);
    pointer-events: none;
}

/* Animation glow quand lettre ajout√©e */
.alphabet-mobile-btn.letter-added {
    animation: alphabetBtnGlow 0.6s ease-out;
}

@keyframes alphabetBtnGlow {
    0% {
        box-shadow: 0 0 0 0 rgba(240, 192, 64, 0.6);
        border-color: rgba(240, 192, 64, 0.3);
    }
    30% {
        box-shadow: 0 0 20px 8px rgba(240, 192, 64, 0.5), 0 0 40px 15px rgba(240, 192, 64, 0.2);
        border-color: #f0c040;
        transform: scale(1.1);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(240, 192, 64, 0);
        border-color: rgba(240, 192, 64, 0.3);
        transform: scale(1);
    }
}

.alphabet-mobile-btn.letter-added .alphabet-btn-heart {
    animation: heartPulseBtn 0.6s ease-out;
}

@keyframes heartPulseBtn {
    0% { transform: scale(1); }
    30% { transform: scale(1.3); fill: rgba(240, 192, 64, 0.8); }
    100% { transform: scale(1); }
}

/* Drawer alphabet mobile */
.alphabet-mobile-drawer {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    z-index: 200;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.alphabet-mobile-content {
    background: rgba(15, 15, 20, 0.95);
    border: 1px solid rgba(240, 192, 64, 0.2);
    border-radius: 1rem;
    padding: 1.8rem;
    max-width: 360px;
    width: 92%;
    position: relative;
    animation: slideUp 0.25s ease;
}

@keyframes slideUp {
    from { 
        opacity: 0;
        transform: translateY(30px);
    }
    to { 
        opacity: 1;
        transform: translateY(0);
    }
}

.alphabet-mobile-close {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 32px;
    height: 32px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: 50%;
    color: rgba(255, 255, 255, 0.6);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.alphabet-mobile-close:hover {
    background: rgba(255, 255, 255, 0.2);
    color: white;
}

.alphabet-mobile-close svg {
    width: 18px;
    height: 18px;
}

.alphabet-mobile-content .alphabet-heart-main {
    width: 55px;
    height: 50px;
    margin: 0 auto 2rem;
}

.alphabet-grid-mobile {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 0.6rem;
}

.alphabet-grid-mobile .alphabet-letter {
    width: 100%;
    aspect-ratio: 1;
    font-size: 1rem;
}

/* Derni√®re ligne Y-Z centr√©e */
.alphabet-last-row-mobile {
    display: flex;
    justify-content: center;
    gap: 0.6rem;
    margin-top: 0.6rem;
}

.alphabet-last-row-mobile .alphabet-letter {
    width: calc((100% - 0.6rem * 5) / 6);
    aspect-ratio: 1;
    font-size: 1rem;
}

/* ============================================
   üì± MEDIA QUERIES BOMBANIME
   ============================================ */

/* Tablette */
@media (max-width: 1024px) {
    .alphabet-panel {
        right: 1.5rem;
        padding: 1rem;
    }
    
    .alphabet-heart-main {
        width: 60px;
        height: 55px;
    }
    
    .alphabet-letter {
        width: 42px;
        height: 38px;
        font-size: 1rem;
    }
}

/* Mobile */
@media (max-width: 768px) {
    /* Contr√¥le son en haut √† gauche */
    .sound-control {
        top: 20px;
        bottom: auto;
        left: 20px;
        padding: 5px 8px;
    }
    
    .sound-btn {
        width: 24px;
        height: 24px;
    }
    
    .sound-btn svg {
        width: 14px;
        height: 14px;
    }
    
    .sound-slider {
        width: 50px;
    }
    
    /* Noms des joueurs plus petits mais plus de caract√®res */
    .bombanime-player-slot .player-name {
        font-size: 0.7rem;
        max-width: 120px;
    }
    
    /* Vies plus petites */
    .player-lives {
        bottom: -12px;
        gap: 2px;
    }
    
    .player-life {
        width: 12px;
        height: 12px;
    }
    
    /* Input zone */
    .input-zone {
        bottom: 8%;
    }
    
    .game-input {
        font-size: 1rem;
        padding: 0.6rem 1rem;
        max-width: 280px;
    }
    
    .game-input::placeholder {
        font-size: 0.75rem;
    }
    
    /* Message √©limin√© */
    .eliminated-message {
        font-size: 0.85rem;
        bottom: 4%;
    }
    
    /* Message attente */
    .waiting-message {
        font-size: 0.85rem;
    }
    
    /* R√©ponses joueurs */
    .player-answer {
        max-width: 175px;
    }
    
    /* Reflet bombe plus petit */
    .bomb-highlight {
        width: 3px;
        height: 3px;
    }
    
    /* Cadenas */
    .player-lock {
        right: -34px;
    }
    
    .player-lock svg {
        width: 18px;
        height: 18px;
    }
    
    /* Winner screen mobile */
    .crown-svg {
        width: 55px;
        height: 55px;
    }
    
    .winner-title {
        font-size: 0.85rem;
        letter-spacing: 0.2em;
    }
    
    .bombanime-winner-screen .winner-name {
        font-size: 2rem;
    }
    
    .bombanime-winner-screen .winner-name.no-winner {
        font-size: 1.5rem;
    }
    
    .winner-stats {
        gap: 2rem;
    }
    
    .winner-stat .stat-value {
        font-size: 1.2rem;
    }
    
    .winner-stat .stat-label {
        font-size: 0.65rem;
    }
    
    .winner-back-btn {
        padding: 0.6rem 2rem;
        font-size: 0.85rem;
    }
    
    .winner-content {
        gap: 1rem;
    }
}

/* Mobile petit */
@media (max-width: 480px) {
    .bombanime-player-slot .player-name {
        font-size: 0.6rem;
        max-width: 100px;
    }
    
    .player-lives {
        bottom: -10px;
    }
    
    .player-life {
        width: 10px;
        height: 10px;
    }
    
    .game-input {
        font-size: 0.9rem;
        max-width: 240px;
    }
    
    .input-zone {
        bottom: 6%;
    }
    
    .player-answer {
        max-width: 140px;
    }
    
    /* Reflet bombe plus petit */
    .bomb-highlight {
        width: 2px;
        height: 2px;
    }
    
    .player-lock {
        right: -22px;
    }
    
    .player-lock svg {
        width: 14px;
        height: 14px;
    }
    
    /* Bouton alphabet mobile plus petit */
    .alphabet-mobile-btn {
        padding: 6px 10px;
    }
    
    .alphabet-mobile-btn .alphabet-btn-heart {
        width: 18px;
        height: 18px;
    }
    
    .alphabet-mobile-btn .alphabet-btn-arrow {
        width: 12px;
        height: 12px;
    }
    
    /* Drawer plus compact */
    .alphabet-mobile-content {
        padding: 1.2rem;
    }
    
    .alphabet-mobile-content .alphabet-heart-main {
        margin-bottom: 1.2rem;
    }
    
    .alphabet-grid-mobile {
        gap: 0.5rem;
    }
    
    .alphabet-grid-mobile .alphabet-letter {
        font-size: 0.9rem;
    }
    
    .alphabet-last-row-mobile {
        gap: 0.5rem;
        margin-top: 0.5rem;
    }
    
    .alphabet-last-row-mobile .alphabet-letter {
        font-size: 0.9rem;
    }
    
    /* Winner screen mobile petit */
    .crown-svg {
        width: 45px;
        height: 45px;
    }
    
    .winner-title {
        font-size: 0.75rem;
        letter-spacing: 0.15em;
    }
    
    .bombanime-winner-screen .winner-name {
        font-size: 1.6rem;
    }
    
    .bombanime-winner-screen .winner-name.no-winner {
        font-size: 1.3rem;
    }
    
    .winner-stats {
        gap: 1.5rem;
    }
    
    .winner-stat .stat-value {
        font-size: 1rem;
    }
    
    .winner-stat .stat-label {
        font-size: 0.6rem;
    }
    
    .winner-back-btn {
        padding: 0.5rem 1.5rem;
        font-size: 0.8rem;
        margin-top: 1.5rem;
    }
    
    .winner-content {
        gap: 0.8rem;
    }
}

/* Paysage mobile */
@media (max-height: 500px) and (orientation: landscape) {
    .bombanime-player-slot .player-name {
        font-size: 0.55rem;
    }
    
    .player-life {
        width: 9px;
        height: 9px;
    }
    
    .input-zone {
        bottom: 5%;
    }
    
    .game-input {
        font-size: 0.85rem;
        padding: 0.4rem 0.8rem;
        max-width: 200px;
    }
    
    .sound-control {
        top: 10px;
        left: 10px;
        padding: 4px 6px;
    }
    
    .alphabet-mobile-btn {
        top: 10px;
        right: 10px;
        padding: 4px 8px;
    }
}

/* 2K / QHD (2560x1440) - Bombanime scaling */
@media (min-width: 2560px) {
    .bombanime-player-slot .player-name {
        font-size: 1.15rem;
        max-width: 170px;
    }

    .player-lives {
        bottom: -12px;
        gap: 3px;
    }

    .player-life {
        width: 16px;
        height: 16px;
    }

    /* Input zone - remont√© et agrandi */
    .input-zone {
        bottom: 3.5%;
    }

    .game-input {
        width: 520px;
        font-size: 1.35rem;
        padding: 1.2rem 2.2rem;
    }

    .game-input::placeholder {
        font-size: 1.05rem;
    }

    .input-underline {
        width: 65%;
        height: 3px;
    }

    /* Feedback message */
    .feedback-message {
        font-size: 0.95rem;
        padding: 0.6rem 1.2rem;
        bottom: -50px;
    }

    /* Message attente */
    .waiting-message {
        font-size: 1.25rem;
    }

    /* R√©ponses joueurs */
    .player-answer {
        max-width: 230px;
        font-size: 0.95rem;
    }

    /* Reflet bombe */
    .bomb-highlight {
        width: 6px;
        height: 6px;
    }

    /* Cadenas */
    .player-lock {
        right: -36px;
    }

    .player-lock svg {
        width: 26px;
        height: 26px;
    }

    /* Challenges panel */
    .bombanime-challenges-panel {
        left: 2.5rem;
        width: 360px;
        border-radius: 14px;
    }

    .challenge-item {
        padding: 1.3rem 1.4rem;
        gap: 1.2rem;
    }

    .challenge-title {
        font-size: 1.1rem;
        margin-bottom: 0.6rem;
    }

    .challenge-progress-bar {
        height: 7px;
    }

    .challenge-bonus-btn {
        width: 52px;
        height: 52px;
        border-radius: 12px;
    }

    .challenge-bonus-btn svg {
        width: 24px;
        height: 24px;
    }

    /* Sound control */
    .sound-control {
        top: 25px;
        left: 25px;
        padding: 8px 14px;
    }


    /* Winner screen */
    .bombanime-winner-screen .winner-name {
        font-size: 3.5rem;
    }

    .winner-stat .stat-value {
        font-size: 2rem;
    }

    .winner-stat .stat-label {
        font-size: 0.95rem;
    }

    .winner-back-btn {
        padding: 0.9rem 3rem;
        font-size: 1.1rem;
    }

    /* Alphabet grid mobile */
    .alphabet-grid-mobile .alphabet-letter {
        font-size: 1.15rem;
    }

    /* Alphabet panel desktop */
    .alphabet-panel {
        right: 3rem;
        padding: 2rem 1.5rem;
        border-radius: 1.25rem;
    }

    .alphabet-heart-main {
        width: 90px;
        height: 85px;
    }

    .alphabet-grid {
        gap: 1.1rem 0.6rem;
    }

    .alphabet-letter {
        width: 60px;
        height: 56px;
        font-size: 1.45rem;
    }

    .alphabet-last-row {
        gap: 0.6rem;
    }
}

/* ============================================
   COLLECT GAME - Player View (Prototype V6)
   ============================================ */

/* Overlay de reconnexion Collect */
.collect-reconnecting-overlay {
    position: fixed;
    inset: 0;
    background: 
        linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.88)),
        url('city.jpg') center/cover no-repeat;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
}

.collect-reconnecting-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(255,255,255,0.1);
    border-top-color: rgba(59, 130, 246, 0.6);
    border-radius: 50%;
    animation: collect-spin 0.8s linear infinite;
}

@keyframes collect-spin {
    to { transform: rotate(360deg); }
}

.collect-game-container {
    position: fixed;
    inset: 0;
    background: 
        linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.88)),
        url('city.jpg') center/cover no-repeat;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
}

/* Cacher la scrollbar en mode Collect */
.collect-game-container::-webkit-scrollbar {
    display: none;
}

body:has(.collect-game-container) {
    overflow: hidden;
}

body:has(.collect-game-container)::-webkit-scrollbar {
    display: none;
}

/* ============================================
   TABLE CONTAINER
   ============================================ */
.collect-table-container {
    position: relative;
    width: 1050px;
    height: 580px;
}

.collect-table {
    position: relative;
    width: 100%;
    height: 100%;
}

/* Rail en bois - Comme prototype */
.collect-table-rail {
    position: absolute;
    inset: -18px;
    border-radius: 50%;
    background: linear-gradient(180deg, 
        #4a3020 0%, 
        #3a2215 20%,
        #2a1810 50%,
        #1a0f08 80%,
        #100a05 100%
    );
    z-index: 0;
    box-shadow: 
        inset 0 3px 6px rgba(255,255,255,0.08),
        inset 0 -4px 12px rgba(0,0,0,0.6),
        0 15px 50px rgba(0,0,0,0.6),
        0 5px 15px rgba(0,0,0,0.4);
}

.collect-table-rail::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 15%;
    right: 15%;
    height: 1px;
    background: linear-gradient(90deg, 
        transparent, 
        rgba(212, 175, 55, 0.25), 
        transparent
    );
}

.collect-table-rail::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    border: 1px solid rgba(212, 175, 55, 0.12);
}

/* Surface verte */
.collect-table-surface {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: 
        radial-gradient(ellipse at 30% 30%, rgba(40, 95, 72, 0.6) 0%, transparent 50%),
        radial-gradient(ellipse at 70% 70%, rgba(28, 72, 55, 0.5) 0%, transparent 50%),
        linear-gradient(180deg, #226e4e 0%, #1a5e42 30%, #12543a 60%, #0d4828 100%);
    box-shadow: 
        inset 0 0 80px rgba(0,0,0,0.35),
        inset 0 0 150px rgba(0,0,0,0.2);
    overflow: hidden;
}

/* Trait dor√© fin autour de la surface */
.collect-table-surface::after {
    content: '';
    position: absolute;
    inset: 45px;
    border-radius: 50%;
    border: 1.5px solid rgba(212, 175, 55, 0.1);
    box-shadow: 0 0 30px rgba(212, 175, 55, 0.03);
}

/* Logo filigrane */
.collect-table-logo {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    opacity: 0.05;
    pointer-events: none;
    z-index: 1;
}

.collect-table-logo .logo-main {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.8rem;
    font-weight: 700;
    letter-spacing: 10px;
    color: #d4af37;
    text-shadow: 0 0 40px rgba(212, 175, 55, 0.2);
}

.collect-table-logo .logo-sub {
    font-family: 'Rajdhani', sans-serif;
    font-size: 0.55rem;
    letter-spacing: 5px;
    color: rgba(212, 175, 55, 0.5);
    margin-top: -5px;
}

/* ============================================
   COLLECT CARDS
   ============================================ */
.collect-card {
    width: 80px;
    height: 112px;
    border-radius: 8px;
    position: relative;
    background: linear-gradient(145deg, #1a1a2e 0%, #0f0f1a 100%);
    border: 1.5px solid rgba(180, 150, 80, 0.4);
    box-shadow: 
        0 4px 15px rgba(0,0,0,0.5),
        inset 0 1px 0 rgba(255,255,255,0.05);
    overflow: visible;
}

.collect-card .card-image {
    position: absolute;
    inset: 0;
    border-radius: 6px;
    overflow: hidden;
}

.collect-card .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: top center;
    filter: brightness(1.02) contrast(1.02);
}

/* Images des grandes cartes encore plus lumineuses */
.collect-card.large .card-image img {
    filter: brightness(0.92) contrast(1.02);
}

/* Badge classe (coin sup√©rieur gauche - d√©passe) */
.collect-card .class-badge {
    position: absolute;
    top: -8px;
    left: -8px;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 1.5px solid rgba(180, 150, 80, 0.35);
    box-shadow: 0 2px 8px rgba(0,0,0,0.6);
    z-index: 5;
}

.collect-card .class-badge.assaut { border-color: rgba(239, 68, 68, 0.6); }
.collect-card .class-badge.oracle { border-color: rgba(59, 130, 246, 0.6); }
.collect-card .class-badge.mirage { border-color: rgba(34, 197, 94, 0.6); }

.collect-card .class-badge .class-icon svg {
    width: 10px;
    height: 10px;
}

.collect-card .class-badge.assaut .class-icon svg { fill: #ef4444; }
.collect-card .class-badge.oracle .class-icon svg { fill: #3b82f6; }
.collect-card .class-badge.mirage .class-icon svg { fill: #22c55e; }

/* Badge Protagoniste (coin sup√©rieur droit - d√©passe) */
.collect-card .prota-badge {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 1.5px solid rgba(251, 191, 36, 0.5);
    box-shadow: 0 0 8px rgba(251, 191, 36, 0.2), 0 2px 8px rgba(0,0,0,0.6);
    z-index: 5;
}

.collect-card .prota-badge svg {
    width: 12px;
    height: 12px;
    fill: #fbbf24;
    transform: rotate(-12deg);
}

/* BIG 3 ‚Äî Effet sp√©cial */
.collect-card .prota-badge.big3 {
    border-color: rgba(251, 191, 36, 0.7);
    box-shadow: 
        0 0 8px rgba(251, 191, 36, 0.3),
        0 0 0 2px rgba(0,0,0,0.4),
        0 0 0 5px rgba(251, 191, 36, 0.25),
        0 2px 8px rgba(0,0,0,0.6);
    animation: big3Pulse 2s ease-in-out infinite;
}

.collect-card .prota-badge.big3::before {
    content: '';
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    background: conic-gradient(
        transparent 0deg,
        rgba(251, 191, 36, 0.4) 60deg,
        transparent 120deg,
        rgba(251, 191, 36, 0.3) 200deg,
        transparent 260deg,
        rgba(251, 191, 36, 0.35) 320deg,
        transparent 360deg
    );
    animation: big3Rotate 3s linear infinite;
    z-index: 1;
    mask: radial-gradient(circle, transparent 55%, black 56%);
    -webkit-mask: radial-gradient(circle, transparent 55%, black 56%);
}

.collect-card .prota-badge.big3::after {
    content: '‚ú¶';
    position: absolute;
    top: -6px;
    right: -4px;
    font-size: 0.4rem;
    color: #fbbf24;
    animation: big3Sparkle 1.5s ease-in-out infinite;
}

@keyframes big3Pulse {
    0%, 100% { box-shadow: 0 0 8px rgba(251,191,36,0.3), 0 0 0 2px rgba(0,0,0,0.4), 0 0 0 5px rgba(251,191,36,0.25), 0 2px 8px rgba(0,0,0,0.6); }
    50% { box-shadow: 0 0 12px rgba(251,191,36,0.45), 0 0 0 2px rgba(0,0,0,0.4), 0 0 0 5px rgba(251,191,36,0.35), 0 2px 8px rgba(0,0,0,0.6); }
}

@keyframes big3Rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes big3Sparkle {
    0%, 100% { opacity: 0.3; transform: scale(0.8); }
    50% { opacity: 1; transform: scale(1.2); }
}

/* Badge Power Level (coin sup√©rieur droit) */
.collect-card .power-badge {
    position: absolute;
    top: 4px;
    right: 4px;
    background: rgba(0, 0, 0, 0.75);
    border: 1px solid rgba(180, 150, 80, 0.4);
    border-radius: 50%;
    width: 22px;
    height: 22px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.collect-card .power-badge .pw-value {
    font-family: 'Rajdhani', sans-serif;
    font-size: 0.75rem;
    font-weight: 700;
    color: #fbbf24;
}

/* Info carte (nom + anime) */
.collect-card .card-info {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 6px;
    background: linear-gradient(transparent, rgba(0,0,0,0.9));
    z-index: 2;
}

.collect-card .card-name {
    font-size: 0.65rem;
    font-weight: 600;
    color: #fff;
    line-height: 1.2;
}

/* Fused card names stacked vertically */
.collect-card .card-name.fused-stacked {
    display: flex;
    flex-direction: column-reverse;
    gap: 0px;
    line-height: 1.1;
}
.collect-card .card-name.fused-stacked span {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.collect-card .card-anime {
    font-size: 0.55rem;
    color: rgba(255,255,255,0.6);
}

/* ============================================
   LARGE CARDS (POV - Mes cartes) - Comme prototype
   ============================================ */
.collect-card.large {
    width: 100px;
    height: 140px;
    border-radius: 10px;
    border: 2.5px solid rgba(180, 150, 80, 0.55);
    overflow: visible !important;
    box-shadow: 0 8px 25px rgba(0,0,0,0.5);
    will-change: transform;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

.collect-card.large .card-image {
    border-radius: 8px;
}

/* Cacher les infos sur les grandes cartes */
.collect-card.large .power-badge,
.collect-card.large .card-info {
    display: none;
}

.collect-card.large .card-image::after {
    display: none;
}

/* Badge classe - fond noir avec bordure color√©e comme prototype */
.collect-card.large .class-badge {
    position: absolute;
    top: -12px;
    left: -12px;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 1.5px solid rgba(180, 150, 80, 0.35);
    z-index: 20;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.7);
}

.collect-card.large .class-badge.assaut { border-color: rgba(239, 68, 68, 0.6); }
.collect-card.large .class-badge.oracle { border-color: rgba(59, 130, 246, 0.6); }
.collect-card.large .class-badge.mirage { border-color: rgba(34, 197, 94, 0.6); }

.collect-card.large .class-badge .class-icon svg {
    width: 12px;
    height: 12px;
}

.collect-card.large .class-badge.assaut .class-icon svg { fill: #ef4444; }
.collect-card.large .class-badge.oracle .class-icon svg { fill: #3b82f6; }
.collect-card.large .class-badge.mirage .class-icon svg { fill: #22c55e; }

/* Badge Protagoniste - Large cards */
.collect-card.large .prota-badge {
    position: absolute;
    top: -12px;
    right: -12px;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 1.5px solid rgba(251, 191, 36, 0.5);
    z-index: 20;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 10px rgba(251, 191, 36, 0.2), 0 4px 12px rgba(0,0,0,0.7);
}

.collect-card.large .prota-badge svg {
    width: 14px;
    height: 14px;
    fill: #fbbf24;
    transform: rotate(-12deg);
}

/* BIG 3 ‚Äî Large */
.collect-card.large .prota-badge.big3 {
    border-color: rgba(251, 191, 36, 0.7);
    box-shadow: 
        0 0 10px rgba(251, 191, 36, 0.3),
        0 0 0 2px rgba(0,0,0,0.4),
        0 0 0 5px rgba(251, 191, 36, 0.3),
        0 4px 12px rgba(0,0,0,0.7);
    animation: big3Pulse 2s ease-in-out infinite;
}

.collect-card.large .prota-badge.big3::before {
    content: '';
    position: absolute;
    inset: -5px;
    border-radius: 50%;
    background: conic-gradient(
        transparent 0deg,
        rgba(251, 191, 36, 0.4) 60deg,
        transparent 120deg,
        rgba(251, 191, 36, 0.3) 200deg,
        transparent 260deg,
        rgba(251, 191, 36, 0.35) 320deg,
        transparent 360deg
    );
    animation: big3Rotate 3s linear infinite;
    z-index: 1;
    mask: radial-gradient(circle, transparent 55%, black 56%);
    -webkit-mask: radial-gradient(circle, transparent 55%, black 56%);
}

.collect-card.large .prota-badge.big3::after {
    content: '‚ú¶';
    position: absolute;
    top: -7px;
    right: -5px;
    font-size: 0.45rem;
    color: #fbbf24;
    animation: big3Sparkle 1.5s ease-in-out infinite;
}

/* ============================================
   PLAYER SEATS
   ============================================ */
.collect-player-seat {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    transition: all 0.3s ease;
}

.collect-player-seat.hidden {
    display: none !important;
}


.collect-player-block {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
}

/* Cartes des autres joueurs (dos) - Comme prototype */
.collect-player-cards {
    display: flex;
    justify-content: center;
    margin-bottom: -14px;
    z-index: 1;
}

.collect-player-card-small {
    width: 56px;
    height: 78px;
    border-radius: 6px;
    background: linear-gradient(135deg, #1e3a5f, #0f2847);
    border: 1.5px solid rgba(59, 130, 246, 0.5);
    box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    position: relative;
    overflow: hidden;
}

/* Rayures diagonales */
.collect-player-card-small::before {
    content: '';
    position: absolute;
    inset: 3px;
    background: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 4px,
        rgba(59, 130, 246, 0.08) 4px,
        rgba(59, 130, 246, 0.08) 8px
    );
    border-radius: 3px;
}

/* Logo SM centr√© */
.collect-player-card-small::after {
    content: 'SM';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Orbitron', sans-serif;
    font-size: 0.75rem;
    font-weight: 700;
    color: rgba(59, 130, 246, 0.4);
    text-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
    letter-spacing: 2px;
    z-index: 2;
}

.collect-player-card-small:first-child {
    transform: rotate(-10deg);
    margin-right: -14px;
    z-index: 1;
}

.collect-player-card-small:nth-child(2) {
    transform: rotate(0deg);
    z-index: 2;
}

.collect-player-card-small:last-child {
    transform: rotate(10deg);
    margin-left: -14px;
    z-index: 1;
}

/* === 5 cartes adverses ‚Äî arc l√©ger + plus serr√©es === */
.collect-player-cards.hand-5 {
    margin-bottom: -12px;
}

.collect-player-cards.hand-5 .collect-player-card-small {
    width: 48px;
    height: 67px;
    margin: 0 -10px;
}

.collect-player-cards.hand-5 .collect-player-card-small:first-child {
    transform: rotate(-8deg);
    margin-left: 0;
    margin-right: -10px;
    z-index: 1;
}

.collect-player-cards.hand-5 .collect-player-card-small:nth-child(2) {
    transform: rotate(-4deg);
    z-index: 2;
}

.collect-player-cards.hand-5 .collect-player-card-small:nth-child(3) {
    transform: rotate(0deg);
    z-index: 3;
}

.collect-player-cards.hand-5 .collect-player-card-small:nth-child(4) {
    transform: rotate(4deg);
    z-index: 2;
}

.collect-player-cards.hand-5 .collect-player-card-small:nth-child(5) {
    transform: rotate(8deg);
    margin-right: 0;
    margin-left: -10px;
    z-index: 1;
}

/* Ribbon bleu */
.collect-player-ribbon {
    background: linear-gradient(180deg, #2563eb, #1d4ed8);
    padding: 6px 14px;
    border-radius: 6px;
    position: relative;
    overflow: visible;
    box-shadow: 
        0 4px 15px rgba(0,0,0,0.5),
        inset 0 1px 0 rgba(255,255,255,0.15);
    min-width: 75px;
    text-align: center;
    z-index: 2;
}


.collect-player-ribbon::before,
.collect-player-ribbon::after {
    display: none;
}


/* Mini chips du POV - d√©plac√©es √† droite pour ne pas √™tre cach√©es par les cartes */

.collect-mini-chip {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    border: 1.5px dashed rgba(255,255,255,0.3);
    box-shadow: 0 2px 4px rgba(0,0,0,0.4);
    margin-left: -6px;
}

.collect-mini-chip:first-child { margin-left: 0; }
.collect-mini-chip.gold { background: linear-gradient(145deg, #d4af37, #a67c00); }
.collect-mini-chip.blue { background: linear-gradient(145deg, #3b82f6, #1d4ed8); }
.collect-mini-chip.red { background: linear-gradient(145deg, #ef4444, #b91c1c); }
.collect-mini-chip.green { background: linear-gradient(145deg, #22c55e, #15803d); }

/* √âtoiles de victoire */
.collect-stars {
    display: flex;
    gap: 4px;
    justify-content: center;
    align-items: center;
}

.collect-star {
    width: 18px;
    height: 18px;
    fill: none;
    stroke: rgba(255, 255, 255, 0.35);
    stroke-width: 1.5;
    transition: all 0.4s ease;
    filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));
}

.collect-star.won {
    fill: #fbbf24;
    stroke: #f59e0b;
    filter: drop-shadow(0 0 6px rgba(251, 191, 36, 0.6));
}

/* Name tag */
.collect-player-name-tag {
    background: linear-gradient(180deg, #374151, #1f2937);
    padding: 4px 16px;
    border-radius: 0 0 6px 6px;
    margin-top: -2px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

.collect-player-name {
    font-size: 0.68rem;
    font-weight: 600;
    color: rgba(255,255,255,0.9);
    max-width: 80px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    text-align: center;
    transition: color 0.3s ease;
}

/* üé¥ Tour actif ‚Äî pseudo en jaune */
.collect-player-name.turn-active {
    color: #fbbf24;
    text-shadow: 0 0 8px rgba(251, 191, 36, 0.4);
}

/* Active player - ribbon reste bleu, seul le name-tag passe en jaune */
.collect-player-seat.active .collect-player-ribbon {
    box-shadow: 
        0 5px 18px rgba(0,0,0,0.5),
        0 0 15px rgba(59, 130, 246, 0.2),
        inset 0 1px 0 rgba(255,255,255,0.15);
}

.collect-player-seat.active .collect-player-name-tag {
    background: linear-gradient(180deg, #374151, #1f2937);
}

.collect-player-seat.active .collect-player-name {
    color: rgba(255,255,255,0.9);
}

/* Turn-active override avec sp√©cificit√© plus haute */
.collect-player-seat .collect-player-name.turn-active {
    color: #fbbf24 !important;
    text-shadow: 0 0 8px rgba(251, 191, 36, 0.4) !important;
}

/* ============================================
   MY SEAT (POV - toujours en bas, d√©passe la table)
   ============================================ */
.collect-player-seat.me {
    position: absolute !important;
    bottom: -20% !important;
    left: 50% !important;
    transform: translateX(-50%) scale(1.35) !important;
    transform-origin: bottom center;
    top: auto !important;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    z-index: 20;
}

.collect-player-seat.me .collect-player-block {
    order: 2;
    z-index: 15;
    overflow: visible;
}

/* Mes cartes visibles - Comme prototype */
.collect-my-cards {
    display: flex;
    gap: 2px;
    order: 1;
    margin-bottom: -25px;
    position: relative;
    z-index: 10;
    overflow: visible;
}

.collect-my-cards.cards-locked .collect-card {
    filter: brightness(0.6);
    cursor: default;
}
.collect-my-cards .collect-card.card-inactive {
    filter: brightness(0.6);
    cursor: default;
}


.collect-my-cards .collect-card {
    overflow: visible !important;
}


/* Badge classe toujours au premier plan */
.collect-my-cards .collect-card .class-badge {
    z-index: 100 !important;
}
.collect-my-cards .collect-card:first-child {
    transform: rotate(-4deg);
    z-index: 1;
}

.collect-my-cards .collect-card:nth-child(2) {
    transform: rotate(0deg);
    z-index: 3;
    
}

.collect-my-cards .collect-card:last-child {
    transform: rotate(4deg);
    z-index: 1;
}

/* Hover sans d√©placer la bordure */
.collect-my-cards .collect-card {
    cursor: pointer;
    transition: transform 0.4s cubic-bezier(0.22, 0.61, 0.36, 1), box-shadow 0.4s ease, filter 0.4s ease;
    will-change: transform;
    touch-action: none;
    user-select: none;
    -webkit-user-select: none;
}

.collect-my-cards .collect-card:first-child:hover {
    transform: translateY(-5px) rotate(-4deg);
    box-shadow: 
        0 15px 30px rgba(0,0,0,0.6),
        0 0 15px rgba(180,150,80,0.15);
}

.collect-my-cards .collect-card:nth-child(2):hover {
    transform: translateY(-5px) rotate(0deg);
    z-index: 3;
    box-shadow: 
        0 15px 30px rgba(0,0,0,0.6),
        0 0 15px rgba(180,150,80,0.15);
}

.collect-my-cards .collect-card:last-child:hover {
    transform: translateY(-5px) rotate(4deg);
    box-shadow: 
        0 15px 30px rgba(0,0,0,0.6),
        0 0 15px rgba(180,150,80,0.15);
}

/* === 5 cartes POV ‚Äî arc plus doux === */
.collect-my-cards.hand-5 {
    gap: 0px;
}

.collect-my-cards.hand-5 .collect-card:nth-child(1) {
    transform: rotate(-5deg);
    z-index: 1;
}

.collect-my-cards.hand-5 .collect-card:nth-child(2) {
    transform: rotate(-2.5deg);
    z-index: 2;
}

.collect-my-cards.hand-5 .collect-card:nth-child(3) {
    transform: rotate(0deg);
    z-index: 3;
}

.collect-my-cards.hand-5 .collect-card:nth-child(4) {
    transform: rotate(2.5deg);
    z-index: 2;
}

.collect-my-cards.hand-5 .collect-card:nth-child(5) {
    transform: rotate(5deg);
    z-index: 1;
}

/* Hover 5 cartes */
.collect-my-cards.hand-5 .collect-card:nth-child(1):hover {
    transform: translateY(-5px) rotate(-5deg);
    box-shadow: 0 15px 30px rgba(0,0,0,0.6), 0 0 15px rgba(180,150,80,0.15);
}

.collect-my-cards.hand-5 .collect-card:nth-child(2):hover {
    transform: translateY(-5px) rotate(-2.5deg);
    box-shadow: 0 15px 30px rgba(0,0,0,0.6), 0 0 15px rgba(180,150,80,0.15);
}

.collect-my-cards.hand-5 .collect-card:nth-child(3):hover {
    transform: translateY(-5px) rotate(0deg);
    box-shadow: 0 15px 30px rgba(0,0,0,0.6), 0 0 15px rgba(180,150,80,0.15);
}

.collect-my-cards.hand-5 .collect-card:nth-child(4):hover {
    transform: translateY(-5px) rotate(2.5deg);
    box-shadow: 0 15px 30px rgba(0,0,0,0.6), 0 0 15px rgba(180,150,80,0.15);
}

.collect-my-cards.hand-5 .collect-card:nth-child(5):hover {
    transform: translateY(-5px) rotate(5deg);
    box-shadow: 0 15px 30px rgba(0,0,0,0.6), 0 0 15px rgba(180,150,80,0.15);
}

/* Ribbon POV avec bordure */
.collect-player-seat.me .collect-player-ribbon {
    border: 1.5px solid rgba(255, 255, 255, 0.25);
    overflow: visible;
    box-shadow: 
        0 4px 15px rgba(0,0,0,0.5),
        inset 0 1px 0 rgba(255,255,255,0.15),
        0 0 0 1px rgba(0, 0, 0, 0.3);
}

/* ============================================
   ACTION BUTTONS
   ============================================ */


/* Fold */

/* Check */

/* Call */

/* Raise */

/* All-in */

/* Disabled (pas ton tour) */


/* Transition quand √ßa devient mon tour */


/* ============================================
   DECK DE PIOCHE (droite)
   ============================================ */
.collect-deck-zone {
    position: fixed;
    right: 45px;
    bottom: 45px;
    width: 160px;
    height: 224px;
    cursor: pointer;
    z-index: 200;
    perspective: 600px;
    opacity: 0;
    pointer-events: none;
    transform: translateY(20px);
    transition: opacity 0.6s ease, transform 0.6s ease;
    overflow: visible;
}

.collect-deck-zone.deck-visible {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

/* Timer above deck */
.collect-deck-timer {
    position: fixed;
    top: 50%;
    right: 94px;
    transform: translateY(-50%);
    width: 62px;
    height: 62px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 210;
    animation: timer-appear 0.4s ease-out forwards;
}
.collect-deck-timer.fade-out {
    animation: timer-disappear 0.8s ease-out forwards;
}

.timer-ring {
    position: absolute;
    width: 62px;
    height: 62px;
    transform: rotate(-90deg);
}
.timer-ring-bg {
    fill: none;
    stroke: rgba(255, 255, 255, 0.08);
    stroke-width: 2.5;
}
.timer-ring-progress {
    fill: none;
    stroke: rgba(59, 130, 246, 0.8);
    stroke-width: 2.5;
    stroke-dasharray: 144.51;
    stroke-dashoffset: 0;
    stroke-linecap: round;
}

.timer-number {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Orbitron', 'Rajdhani', monospace;
    font-size: 1.05rem;
    font-weight: 900;
    color: rgba(255, 255, 255, 0.9);
    text-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
    z-index: 2;
    line-height: 1;
}

.collect-deck-card {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 10px;
    background: linear-gradient(148deg, #14202e, #0c1520, #080e18);
    border: 2px solid #1a3555;
    transition: transform 0.45s cubic-bezier(0.25, 0.8, 0.25, 1),
                box-shadow 0.45s cubic-bezier(0.25, 0.8, 0.25, 1),
                border-color 0.45s ease;
}

.collect-deck-card::before {
    content: '';
    position: absolute;
    inset: 6px;
    border-radius: 5px;
    border: 1.5px solid rgba(100, 180, 255, 0.1);
    background: repeating-linear-gradient(
        -45deg, transparent, transparent 4px,
        rgba(100, 180, 255, 0.015) 4px, rgba(100, 180, 255, 0.015) 8px
    );
    pointer-events: none;
}

.collect-deck-sm {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    font-size: 26px;
    background: linear-gradient(180deg, #70b8ff, #4088cc);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    opacity: 0.8;
    pointer-events: none;
}

/* Stack layers */
.collect-deck-card:nth-child(1) { z-index: 10; }
.collect-deck-card:nth-child(2) { top: 4px; left: 1.5px; z-index: 9; opacity: 0.88; }
.collect-deck-card:nth-child(3) { top: 8px; left: 3px; z-index: 8; opacity: 0.74; }
.collect-deck-card:nth-child(4) { top: 12px; left: 4.5px; z-index: 7; opacity: 0.58; }
.collect-deck-card:nth-child(5) { top: 16px; left: 6px; z-index: 6; opacity: 0.42; }
.collect-deck-card:nth-child(6) { top: 20px; left: 7.5px; z-index: 5; opacity: 0.28; }

/* Glow sol */
.collect-deck-glow {
    position: absolute;
    bottom: -4px;
    left: 12%;
    width: 76%;
    height: 16px;
    background: radial-gradient(ellipse, rgba(100, 180, 255, 0.15), transparent);
    filter: blur(7px);
    z-index: 0;
}

/* Hover ‚Äî smooth slide up + ripple wave (only on player's turn) */
.collect-deck-zone.my-turn:not(.draw-flying):hover .collect-deck-card:nth-child(1) {
    transform: translateY(-24px);
    box-shadow: 0 8px 25px rgba(100, 180, 255, 0.2);
    border-color: rgba(80, 160, 240, 0.45);
    animation: none !important;
}

/* Deck disabled when not player's turn */
.collect-deck-zone.deck-visible:not(.my-turn) {
    pointer-events: none;
    opacity: 0.45;
}

/* Hover ripple ‚Äî onde calme autour de la carte du dessus */
.collect-deck-zone .deck-hover-ripple {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 12px;
    border: 2.5px solid rgba(100, 180, 255, 0);
    pointer-events: none;
    z-index: 11;
    opacity: 0;
}

.collect-deck-zone.my-turn:hover .deck-hover-ripple {
    animation: deck-hover-ripple 2s ease-out infinite;
    animation-delay: 0.5s;
}

.collect-deck-zone.my-turn:hover .deck-hover-ripple.delay {
    animation-delay: 1.5s;
}

@keyframes deck-hover-ripple {
    0% {
        opacity: 0.7;
        transform: translateY(-24px) scale(1);
        border-color: rgba(100, 180, 255, 0.5);
    }
    80% {
        opacity: 0;
        transform: translateY(-24px) scale(1.3);
        border-color: rgba(100, 180, 255, 0);
    }
    100% {
        opacity: 0;
        transform: translateY(-24px) scale(1.3);
    }
}

/* === CAN-DRAW ‚Äî pulse + waves + shimmer === */

/* Ripple waves */
.collect-deck-wave {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    height: 100%;
    transform: translate(-50%, -50%);
    border-radius: 14px;
    border: 1.5px solid rgba(100, 180, 255, 0);
    pointer-events: none;
    z-index: 0;
    opacity: 0;
}

.collect-deck-zone.can-draw .collect-deck-wave {
    animation: collect-deck-wave 2.8s ease-out infinite;
}

.collect-deck-zone.can-draw .collect-deck-wave:nth-child(8) { animation-delay: 0s; }
.collect-deck-zone.can-draw .collect-deck-wave:nth-child(9) { animation-delay: 0.9s; }
.collect-deck-zone.can-draw .collect-deck-wave:nth-child(10) { animation-delay: 1.8s; }

@keyframes collect-deck-wave {
    0% {
        opacity: 0.5;
        width: 100%;
        height: 100%;
        border-color: rgba(100, 180, 255, 0.35);
    }
    70% {
        opacity: 0;
        width: 140%;
        height: 135%;
        border-color: rgba(100, 180, 255, 0);
    }
    100% {
        opacity: 0;
        width: 140%;
        height: 135%;
    }
}

/* Top card pulse */
.collect-deck-zone.can-draw .collect-deck-card:nth-child(1) {
    animation: collect-deck-pulse 2.4s ease-in-out infinite;
}

@keyframes collect-deck-pulse {
    0%, 100% { 
        box-shadow: 0 2px 8px rgba(100, 180, 255, 0.06);
        border-color: #1a3555;
    }
    50% { 
        box-shadow: 0 4px 20px rgba(100, 180, 255, 0.22), 0 0 8px rgba(130, 200, 255, 0.08);
        border-color: #2a5a8a;
    }
}

/* Shimmer reflet */
.collect-deck-card:nth-child(1)::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 8px;
    background: linear-gradient(
        110deg,
        transparent 30%,
        rgba(150, 210, 255, 0.03) 42%,
        rgba(150, 210, 255, 0.07) 48%,
        rgba(150, 210, 255, 0.03) 54%,
        transparent 66%
    );
    background-size: 300% 100%;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s;
}

.collect-deck-zone.can-draw .collect-deck-card:nth-child(1)::after {
    opacity: 1;
    animation: collect-deck-shimmer 3.5s ease-in-out infinite;
}

@keyframes collect-deck-shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* ============================================
   DRAW SYSTEM ‚Äî Main pleine + Pioche + Choix
   ============================================ */

/* === MAIN PLEINE: Shake + Rouge === */
.collect-deck-zone.deck-full-shake {
    animation: deck-shake 0.4s ease-in-out;
}

.collect-deck-zone.deck-full-shake .collect-deck-card {
    border-color: rgba(239, 68, 68, 0.6) !important;
    box-shadow: 0 0 15px rgba(239, 68, 68, 0.25), inset 0 0 8px rgba(239, 68, 68, 0.1) !important;
    transition: border-color 0.15s, box-shadow 0.15s;
}

.collect-deck-zone.deck-full-shake .collect-deck-card .collect-deck-sm,
.collect-deck-zone.deck-full-shake .collect-deck-sm {
    color: rgba(239, 68, 68, 0.9) !important;
    text-shadow: 0 0 12px rgba(239, 68, 68, 0.4) !important;
}

@keyframes deck-shake {
    0%, 100% { transform: translateX(0); }
    15% { transform: translateX(-5px) rotate(-1deg); }
    30% { transform: translateX(4px) rotate(0.8deg); }
    45% { transform: translateX(-3px) rotate(-0.5deg); }
    60% { transform: translateX(2px) rotate(0.3deg); }
    75% { transform: translateX(-1px); }
}

/* === DRAW: Carte volante deck ‚Üí main === */
.draw-card-flyer {
    position: fixed;
    z-index: 9999;
    pointer-events: none;
    perspective: 900px;
}

.draw-card-flyer-inner {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
}

.draw-card-flyer-back {
    position: absolute;
    inset: 0;
    border-radius: 10px;
    background: linear-gradient(148deg, #14202e, #0c1520, #080e18);
    border: 2px solid #1a3555;
    backface-visibility: hidden;
    overflow: hidden;
}

.flyer-back-pattern {
    position: absolute;
    inset: 6px;
    border-radius: 5px;
    border: 1.5px solid rgba(100, 180, 255, 0.1);
    background: repeating-linear-gradient(
        -45deg, transparent, transparent 4px,
        rgba(100, 180, 255, 0.015) 4px, rgba(100, 180, 255, 0.015) 8px
    );
}

.flyer-back-sm {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    font-size: 26px;
    background: linear-gradient(180deg, #70b8ff, #4088cc);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    opacity: 0.8;
    z-index: 1;
}

.draw-card-flyer-front {
    position: absolute;
    inset: 0;
    border-radius: 10px;
    overflow: visible;
    border: 2px solid rgba(255, 255, 255, 0.15);
    backface-visibility: hidden;
    transform: rotateY(180deg);
    background: #0e0e13;
}

.draw-card-flyer-front .card-image {
    width: 100%;
    height: 100%;
    overflow: hidden;
    border-radius: 8px;
}

.draw-card-flyer-front .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.flyer-class-badge {
    position: absolute;
    top: -8px;
    left: -8px;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid;
    z-index: 2;
    box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}

.flyer-class-badge svg { width: 14px; height: 14px; }
.flyer-class-badge.assaut { background: rgba(10,10,15,0.9); border-color: #ef4444; }
.flyer-class-badge.assaut svg { fill: #ef4444; }
.flyer-class-badge.oracle { background: rgba(10,10,15,0.9); border-color: #3b82f6; }
.flyer-class-badge.oracle svg { fill: #3b82f6; }
.flyer-class-badge.mirage { background: rgba(10,10,15,0.9); border-color: #a855f7; }
.flyer-class-badge.mirage svg { fill: #a855f7; }

/* NEW CARD POP-IN */
.collect-card.draw-new-card {
    animation: draw-card-pop-in 0.35s cubic-bezier(0.16, 1, 0.3, 1) both !important;
}

@keyframes draw-card-pop-in {
    0% { transform: scale(0.85); opacity: 0; }
    60% { transform: scale(1.04); opacity: 1; }
    100% { transform: scale(1); opacity: 1; }
}

/* === DRAW PARTICLES === */
.draw-particle {
    position: fixed;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(100, 180, 255, 0.9), rgba(59, 130, 246, 0.6));
    box-shadow: 0 0 6px rgba(100, 180, 255, 0.5);
    pointer-events: none;
    z-index: 300;
    opacity: 0;
}

@keyframes draw-particle-fly {
    0% { opacity: 1; transform: translate(0, 0) scale(1); }
    60% { opacity: 0.7; }
    100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0.2); }
}

/* ============================================
   DRAW CHOICE OVERLAY
   ============================================ */
.collect-draw-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0);
    z-index: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    transition: background 0.5s ease;
}

.collect-draw-overlay.visible {
    pointer-events: all;
    background: rgba(0, 0, 0, 0.82);
}

.collect-draw-choice-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 30px;
    transform: scale(0.85);
    opacity: 0;
    transition: all 0.45s cubic-bezier(0.16, 1, 0.3, 1);
}

.collect-draw-choice-container.visible {
    transform: scale(1);
    opacity: 1;
}

.draw-choice-title {
    font-size: 0.85rem;
    font-weight: 700;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: rgba(255, 255, 255, 0.5);
    text-shadow: 0 0 20px rgba(100, 180, 255, 0.2);
}

.draw-choice-cards {
    display: flex;
    gap: 40px;
}

/* === Card container === */
.draw-choice-card {
    position: relative;
    cursor: pointer;
    transition: all 0.35s cubic-bezier(0.16, 1, 0.3, 1);
    animation: draw-card-entrance 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
}

.draw-choice-card:nth-child(2) {
    animation-delay: 0.12s;
}

@keyframes draw-card-entrance {
    0% { transform: scale(0) rotateY(20deg); opacity: 0; filter: blur(6px); }
    50% { transform: scale(1.06) rotateY(0); opacity: 1; filter: blur(0); }
    100% { transform: scale(1) rotateY(0); opacity: 1; filter: blur(0); }
}

.draw-choice-card:hover {
    transform: translateY(-10px) scale(1.03);
}

/* Glow border on hover */
.draw-choice-card::before {
    content: '';
    position: absolute;
    inset: -3px;
    border-radius: 20px;
    background: linear-gradient(145deg, rgba(100, 180, 255, 0.4), rgba(59, 130, 246, 0.2), transparent, rgba(100, 180, 255, 0.15));
    opacity: 0;
    transition: opacity 0.3s;
    z-index: -1;
    filter: blur(1px);
}

.draw-choice-card:hover::before {
    opacity: 1;
}

/* === Card inner ‚Äî matches preview-card style === */
.draw-choice-card-inner {
    width: 240px;
    height: 370px;
    background: linear-gradient(170deg, #18181f 0%, #0e0e13 100%);
    border: 1.5px solid rgba(180, 150, 80, 0.2);
    border-radius: 18px;
    overflow: hidden;
    position: relative;
    box-shadow: 
        0 25px 50px rgba(0,0,0,0.6),
        inset 0 0 40px rgba(255,204,0,0.015);
    transition: border-color 0.3s, box-shadow 0.3s;
}

.draw-choice-card:hover .draw-choice-card-inner {
    border-color: rgba(100, 180, 255, 0.35);
    box-shadow: 
        0 30px 60px rgba(0,0,0,0.7),
        0 0 30px rgba(100, 180, 255, 0.1),
        inset 0 0 40px rgba(255,204,0,0.015);
}

/* === Image zone === */
.draw-choice-image {
    width: 100%;
    height: 72%;
    overflow: hidden;
    position: relative;
}

.draw-choice-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* Vignette en bas de l'image */
.draw-choice-image::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(to top, #0e0e13, transparent);
    pointer-events: none;
}

/* === Top badges (classe + protagoniste) === */
.draw-choice-top-badges {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    z-index: 5;
}

.draw-choice-class-badge {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(6px);
    border: 1.5px solid rgba(255,255,255,0.15);
}

.draw-choice-class-badge svg {
    width: 16px;
    height: 16px;
}

.draw-choice-class-badge.assaut {
    background: rgba(239, 68, 68, 0.25);
    border-color: rgba(239, 68, 68, 0.5);
}
.draw-choice-class-badge.assaut svg { fill: #ef4444; }

.draw-choice-class-badge.oracle {
    background: rgba(59, 130, 246, 0.25);
    border-color: rgba(59, 130, 246, 0.5);
}
.draw-choice-class-badge.oracle svg { fill: #3b82f6; }

.draw-choice-class-badge.mirage {
    background: rgba(168, 85, 247, 0.25);
    border-color: rgba(168, 85, 247, 0.5);
}
.draw-choice-class-badge.mirage svg { fill: #a855f7; }

.draw-choice-prota-badge {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.5);
    border: 1.5px solid rgba(251, 191, 36, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(6px);
}

.draw-choice-prota-badge svg {
    width: 14px;
    height: 14px;
    fill: rgba(251, 191, 36, 0.7);
}

.draw-choice-prota-badge.big3 {
    border-color: rgba(251, 191, 36, 0.7);
    box-shadow: 0 0 8px rgba(251, 191, 36, 0.2);
}

.draw-choice-prota-badge.big3 svg {
    fill: #fbbf24;
}

/* === Info zone (nom, anime, separator) === */
.draw-choice-info {
    padding: 8px 16px 14px;
    text-align: center;
    position: relative;
}

.draw-choice-name {
    font-size: 1rem;
    font-weight: 800;
    color: rgba(255, 255, 255, 0.95);
    letter-spacing: 0.5px;
    text-shadow: 0 1px 4px rgba(0,0,0,0.4);
    line-height: 1.2;
}

.draw-choice-anime {
    font-size: 0.65rem;
    font-weight: 600;
    color: rgba(255, 204, 0, 0.5);
    letter-spacing: 1.5px;
    text-transform: uppercase;
    margin-top: 4px;
}

.draw-choice-separator {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 8px;
    gap: 8px;
}

.draw-choice-separator::before,
.draw-choice-separator::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(180, 150, 80, 0.2), transparent);
}

.draw-choice-separator .sep-diamond {
    width: 5px;
    height: 5px;
    background: rgba(180, 150, 80, 0.3);
    transform: rotate(45deg);
    flex-shrink: 0;
}

/* === PICK / REJECT ANIMATIONS === */
.draw-choice-card.picked {
    animation: draw-card-picked 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    z-index: 2;
}

.draw-choice-card.picked .draw-choice-card-inner {
    border-color: rgba(52, 211, 153, 0.5);
    box-shadow: 0 0 35px rgba(52, 211, 153, 0.2), 0 25px 50px rgba(0, 0, 0, 0.5);
}

.draw-choice-card.rejected {
    animation: draw-card-rejected 0.5s cubic-bezier(0.4, 0, 1, 1) forwards;
    z-index: 1;
}

@keyframes draw-card-picked {
    0% { transform: scale(1); }
    40% { transform: scale(1.08); filter: brightness(1.15); }
    100% { transform: scale(1.04); filter: brightness(1.1); opacity: 1; }
}

@keyframes draw-card-rejected {
    0% { transform: translateY(0) scale(1); opacity: 1; filter: brightness(1); }
    20% { transform: translateY(0) scale(0.95); opacity: 0.8; filter: brightness(0.6); }
    100% { transform: translateY(30px) scaleY(0.1) scaleX(0.6); opacity: 0; filter: brightness(0.2) blur(4px); }
}

/* ============================================
   SHATTER ‚Äî Animation de d√©fausse
   ============================================ */
@keyframes shatter-piece {
    0% { transform: translate(0, 0) rotate(0deg) scale(1); opacity: 1; }
    100% { transform: translate(var(--sx), var(--sy)) rotate(var(--sr)) scale(0); opacity: 0; }
}

@keyframes shatter-flash {
    0% { transform: translate(-50%, -50%) scale(0.5); opacity: 1; }
    100% { transform: translate(-50%, -50%) scale(3.5); opacity: 0; }
}

.shatter-fragment {
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    border-radius: 2px;
}

.shatter-flash {
    position: fixed;
    border-radius: 50%;
    pointer-events: none;
    z-index: 9998;
    background: radial-gradient(circle, rgba(255,255,255,0.9), rgba(200,220,255,0.5), transparent);
}


/* ============================================
   CARD PREVIEW (hover) - Comme prototype
   ============================================ */
.collect-card-preview {
    position: fixed;
    left: 30px;
    top: 50%;
    transform: translateY(-50%) translateX(-20px);
    opacity: 0;
    z-index: 300;
    pointer-events: none;
    transition: opacity 0.3s ease, transform 0.3s ease;
}

/* Animation d'apparition fluide depuis la gauche */
.collect-card-preview.visible {
    opacity: 1;
    transform: translateY(-50%) translateX(0);
}

.collect-card-preview .preview-card {
    width: 280px;
    height: 420px;
    background: linear-gradient(170deg, #18181f 0%, #0e0e13 100%);
    border: 1.5px solid rgba(180, 150, 80, 0.25);
    border-radius: 18px;
    overflow: visible;
    box-shadow: 
        0 30px 60px rgba(0,0,0,0.6),
        inset 0 0 60px rgba(255,204,0,0.02);
    position: relative;
}

/* Badge Protagoniste - Preview card */
.collect-card-preview .prota-badge {
    position: absolute;
    top: -16px;
    right: -16px;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 2.5px solid rgba(251, 191, 36, 0.5);
    z-index: 20;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 14px rgba(251, 191, 36, 0.25), 0 4px 12px rgba(0,0,0,0.7);
}

.collect-card-preview .prota-badge svg {
    width: 19px;
    height: 19px;
    fill: #fbbf24;
    transform: rotate(15deg);
}

/* BIG 3 ‚Äî Preview : effet tr√®s visible */
.collect-card-preview .prota-badge.big3 {
    width: 40px;
    height: 40px;
    top: -18px;
    right: -18px;
    background: linear-gradient(145deg, #1f1a0a, #0f0a00);
    border: 2.5px solid rgba(251, 191, 36, 0.85);
    box-shadow: 
        0 0 16px rgba(251, 191, 36, 0.5),
        0 0 0 4px rgba(0,0,0,0.5),
        0 0 0 6px rgba(251, 191, 36, 0.4),
        0 0 30px rgba(251, 191, 36, 0.15),
        0 4px 12px rgba(0,0,0,0.7);
    animation: big3PulsePreview 2s ease-in-out infinite;
}

.collect-card-preview .prota-badge.big3 svg {
    width: 21px;
    height: 21px;
    fill: #fbbf24;
    filter: drop-shadow(0 0 4px rgba(251, 191, 36, 0.6));
}

.collect-card-preview .prota-badge.big3::before {
    content: '';
    position: absolute;
    inset: -8px;
    border-radius: 50%;
    background: conic-gradient(
        transparent 0deg,
        rgba(251, 191, 36, 0.5) 40deg,
        transparent 80deg,
        rgba(251, 191, 36, 0.4) 160deg,
        transparent 200deg,
        rgba(251, 191, 36, 0.45) 280deg,
        transparent 320deg
    );
    animation: big3Rotate 2.5s linear infinite;
    z-index: 1;
    mask: radial-gradient(circle, transparent 52%, black 54%);
    -webkit-mask: radial-gradient(circle, transparent 52%, black 54%);
}

.collect-card-preview .prota-badge.big3::after {
    content: '';
    position: absolute;
    inset: -3px;
    border-radius: 50%;
    border: 1.5px solid transparent;
    border-top-color: rgba(251, 191, 36, 0.7);
    border-right-color: rgba(251, 191, 36, 0.3);
    animation: big3Rotate 1.8s linear infinite reverse;
}

@keyframes big3PulsePreview {
    0%, 100% { 
        box-shadow: 0 0 16px rgba(251,191,36,0.5), 0 0 0 4px rgba(0,0,0,0.5), 0 0 0 6px rgba(251,191,36,0.4), 0 0 30px rgba(251,191,36,0.15), 0 4px 12px rgba(0,0,0,0.7);
    }
    50% { 
        box-shadow: 0 0 22px rgba(251,191,36,0.7), 0 0 0 4px rgba(0,0,0,0.5), 0 0 0 7px rgba(251,191,36,0.55), 0 0 40px rgba(251,191,36,0.25), 0 4px 12px rgba(0,0,0,0.7);
    }
}

/* Effet reflet - dans preview-image pour rester contenu */
.collect-card-preview .preview-image::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 60%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255,255,255,0.08),
        rgba(255,255,255,0.15),
        rgba(255,255,255,0.08),
        transparent
    );
    transform: skewX(-20deg);
    z-index: 2;
    pointer-events: none;
    animation: shineLoop 3s ease-in-out infinite;
}

@keyframes shineLoop {
    0%, 100% { left: -100%; }
    50% { left: 150%; }
}

/* Image du personnage */
.collect-card-preview .preview-image {
    position: absolute;
    inset: 0;
    border-radius: 18px;
    overflow: hidden;
}

.collect-card-preview .preview-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: top center;
}

/* Ombre en bas r√©duite - comme prototype */
.collect-card-preview .preview-image::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(to top, rgba(14,14,19,1) 15%, rgba(14,14,19,0.95) 40%, transparent);
}

/* Info du personnage - align√© √† gauche */
.collect-card-preview .preview-info {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 20px 20px 50px 25px;
    z-index: 5;
}

.collect-card-preview .preview-name {
    font-family: 'Poppins', sans-serif;
    font-size: 1.6rem;
    font-weight: 800;
    color: #fff;
    margin-bottom: 2px;
    text-shadow: 
        0 2px 4px rgba(0,0,0,0.8),
        0 4px 8px rgba(0,0,0,0.6);
}

.collect-card-preview .preview-anime {
    font-family: 'Rajdhani', sans-serif;
    font-size: 0.9rem;
    font-weight: 600;
    color: #d4af37;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
    margin-bottom: 0;
}

.collect-card-preview .preview-separator-line {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 14px;
    margin-bottom: 12px;
}

.collect-card-preview .preview-separator-line::before,
.collect-card-preview .preview-separator-line::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.4), transparent);
}

.collect-card-preview .preview-separator-line .sep-diamond {
    width: 6px;
    height: 6px;
    background: rgba(212, 175, 55, 0.5);
    transform: rotate(45deg);
    flex-shrink: 0;
}

/* S√©parateur d√©coratif */
.collect-card-preview .preview-separator {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 12px 0;
}

.collect-card-preview .preview-separator .sep-line {
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, rgba(180,150,80,0.4), rgba(180,150,80,0.05));
}

.collect-card-preview .preview-separator .sep-line:last-child {
    background: linear-gradient(90deg, rgba(180,150,80,0.05), rgba(180,150,80,0.4));
}

.collect-card-preview .preview-separator .sep-diamond {
    width: 6px;
    height: 6px;
    background: #8a7340;
    transform: rotate(45deg);
}

/* Badges classe + power - style coh√©rent */
.collect-card-preview .preview-badges {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 10px;
}

.collect-card-preview .preview-badge {
    display: flex;
    align-items: center;
    gap: 8px;
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(180, 150, 80, 0.2);
    border-radius: 10px;
    padding: 7px 14px;
}

/* Badge ic√¥ne avec fond NOIR et bordure color√©e comme les cartes */
.collect-card-preview .preview-badge .badge-icon {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 1.5px solid rgba(180, 150, 80, 0.35);
    box-shadow: 0 3px 10px rgba(0,0,0,0.5);
    flex-shrink: 0;
    line-height: 0;
}

.collect-card-preview .preview-badge .badge-icon span {
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 0;
}

/* Bordures color√©es selon la classe */
.collect-card-preview .preview-badge .badge-icon.assaut { border-color: rgba(239, 68, 68, 0.6); }
.collect-card-preview .preview-badge .badge-icon.oracle { border-color: rgba(59, 130, 246, 0.6); }
.collect-card-preview .preview-badge .badge-icon.mirage { border-color: rgba(34, 197, 94, 0.6); }

.collect-card-preview .preview-badge .badge-icon svg {
    width: 12px;
    height: 12px;
}

/* Ic√¥nes SVG color√©es comme les cartes */
.collect-card-preview .preview-badge .badge-icon.assaut svg { fill: #ef4444; }
.collect-card-preview .preview-badge .badge-icon.oracle svg { fill: #3b82f6; }
.collect-card-preview .preview-badge .badge-icon.mirage svg { fill: #22c55e; }

.collect-card-preview .preview-badge .badge-text {
    font-family: 'Rajdhani', sans-serif;
    font-size: 1.15rem;
    font-weight: 700;
    color: #e8dcc8;
    line-height: 1;
}

.collect-card-preview .preview-badge.power-badge .badge-text {
    font-size: 1.25rem;
}

/* Stats display in preview - V2 Style (extends below card) */
.collect-card-preview .preview-stats {
    position: absolute;
    bottom: -38px;
    left: 10px;
    right: 10px;
    display: flex;
    justify-content: space-around;
    padding: 14px 8px;
    background: linear-gradient(145deg, #252535 0%, #18181f 100%);
    border-radius: 10px;
    border: 2px solid rgba(180, 150, 80, 0.4);
    box-shadow: 
        0 8px 25px rgba(0, 0, 0, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    z-index: 15;
}

.collect-card-preview .stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.collect-card-preview .stat-label {
    font-family: 'Rajdhani', sans-serif;
    font-size: 0.8rem;
    font-weight: 600;
    color: #888;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.collect-card-preview .stat-icon-img {
    width: 22px;
    height: 22px;
    object-fit: contain;
    filter: drop-shadow(0 0 4px rgba(240, 200, 80, 0.3));
}


.collect-card-preview .stat-value {
    font-family: 'Rajdhani', sans-serif;
    font-size: 1.45rem;
    font-weight: 700;
    color: #FFD700;
    text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
}

/* Icons-only preview stats (sans chiffres) */
.collect-card-preview .preview-stats-icons-only {
    bottom: -30px;
    padding: 14px 24px;
}

.collect-card-preview .preview-stats-icons-only .stat-item {
    flex-direction: row;
    gap: 0;
}

.collect-card-preview .preview-stats-icons-only .stat-icon-img {
    width: 28px;
    height: 28px;
}

/* Top badges container (class + protagonist) - d√©passe en haut √† droite */
.collect-card-preview .preview-top-badges {
    position: absolute;
    top: -18px;
    right: -8px;
    display: flex;
    flex-direction: row-reverse;
    gap: 0;
    z-index: 20;
}
.collect-card-preview .class-badge-small {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 2px solid rgba(180, 150, 80, 0.35);
    box-shadow: 0 3px 10px rgba(0,0,0,0.5);
    z-index: 2;
}

.collect-card-preview .class-badge-small.assaut {
    border-color: rgba(239, 68, 68, 0.7);
    background: linear-gradient(145deg, #2a1a1a, #1a0a0a);
}

.collect-card-preview .class-badge-small.oracle {
    border-color: rgba(59, 130, 246, 0.7);
    background: linear-gradient(145deg, #1a1a2a, #0a0a1a);
}

.collect-card-preview .class-badge-small.mirage {
    border-color: rgba(34, 197, 94, 0.7);
    background: linear-gradient(145deg, #1a2a1a, #0a1a0a);
}

/* Centrage de l'ic√¥ne SVG dans le badge */
.collect-card-preview .class-badge-small span {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    line-height: 0;
}

.collect-card-preview .class-badge-small svg {
    width: 20px;
    height: 20px;
}

.collect-card-preview .class-badge-small.assaut svg { fill: #ef4444; }
.collect-card-preview .class-badge-small.oracle svg { fill: #3b82f6; }
.collect-card-preview .class-badge-small.mirage svg { fill: #22c55e; }

/* Protagonist badge - repositioned in top badges */
.collect-card-preview .preview-top-badges .prota-badge {
    position: relative;
    top: auto;
    right: auto;
    width: 42px;
    height: 42px;
    margin-right: -12px;
    z-index: 1;
}

/* ============================================
   CENTER CARD SLOT (zone de jeu centrale)
   ============================================ */

/* Timer countdown */
.collect-timer { display: none !important; }
.collect-timer.fade-out { display: none !important; }
@keyframes timer-appear { from { opacity: 0; transform: translateY(-50%) scale(0.7); } to { opacity: 1; transform: translateY(-50%) scale(1); } }
/* Choose indicator */
.collect-choose-indicator {
    position: absolute;
    top: -8px;
    right: -40px;
    width: 36px;
    height: 36px;
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
    z-index: 10;
}
.collect-choose-indicator img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    filter: grayscale(0.6) brightness(0.5);
    transition: filter 0.4s ease, transform 0.3s ease;
}
.collect-choose-indicator .choose-ring {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
.collect-choose-indicator .choose-ring-bg {
    fill: none;
    stroke: rgba(255, 255, 255, 0.08);
    stroke-width: 1.8;
}
.collect-choose-indicator .choose-ring-progress {
    fill: none;
    stroke: rgba(59, 130, 246, 0.8);
    stroke-width: 2.2;
    stroke-linecap: round;
    stroke-dasharray: 91.1;
    stroke-dashoffset: 0;
    transform: rotate(-90deg);
    transform-origin: center;
    filter: drop-shadow(0 0 3px rgba(59, 130, 246, 0.5));
}
.collect-choose-indicator.visible {
    animation: choose-appear 0.5s ease-out 0.3s forwards;
}
.collect-choose-indicator.active img {
    filter: grayscale(0) brightness(1) drop-shadow(0 0 4px rgba(59,130,246,0.6));
    transform: translate(-50%, -50%) scale(1.05);
}
@keyframes choose-appear {
    from { opacity: 0; transform: translateY(4px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes timer-disappear { from { opacity: 1; transform: translateY(-50%) scale(1); } to { opacity: 0; transform: translateY(-50%) scale(0.8); } }
.collect-timer-number { font-family: 'Orbitron','Rajdhani',monospace; font-size: 1.7rem; font-weight: 900; color: rgba(255,255,255,0.9); text-shadow: 0 0 15px rgba(59,130,246,0.5), 0 2px 6px rgba(0,0,0,0.5); letter-spacing: 1px; transition: color 0.3s ease, text-shadow 0.3s ease; }
.collect-timer-number { font-family: 'Orbitron','Rajdhani',monospace; font-size: 1.05rem; font-weight: 900; color: rgba(255,255,255,0.9); text-shadow: 0 0 15px rgba(59,130,246,0.5), 0 2px 6px rgba(0,0,0,0.5); letter-spacing: 1px; }
@keyframes timer-pulse { 0% { transform: translate(-50%, -50%) scale(1); opacity: 0.9; } 100% { transform: translate(-50%, -50%) scale(1.12); opacity: 1; } }

/* ==========================================
   CENTER ZONE (Market + Slot wrapper)
   ========================================== */
.collect-center-zone {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    align-items: center;
    gap: 12px;
    z-index: 40;
    pointer-events: auto;
}

/* ==========================================
   MARKET CARDS
   ========================================== */
.collect-market {
    display: flex;
    gap: 8px;
    margin-right: 14px;
}

.market-card {
    width: 78px;
    height: 109px;
    border-radius: 7px;
    overflow: visible;
    position: relative;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5), 0 0 0 1px rgba(212,175,55,0.2);
    animation: marketSlideIn 0.45s cubic-bezier(0.2, 0.8, 0.3, 1) both;
    transition: transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.25s ease, outline 0.25s ease, outline-offset 0.25s ease;
}

.market-card:nth-child(1) { animation-delay: 0s; }
.market-card:nth-child(2) { animation-delay: 0.15s; }
.market-card:nth-child(3) { animation-delay: 0.3s; }
.market-card:nth-child(4) { animation-delay: 0.45s; }

.market-card::before,
.market-card::after,
.market-card *::before,
.market-card *::after {
    content: none !important;
}

@keyframes marketSlideIn {
    from {
        opacity: 0;
        transform: translateX(-35px) scale(0.9);
    }
    to {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

.market-card:hover {
    transform: translateY(-6px) scale(1.05);
    z-index: 45;
}

.market-card.swap-hover {
    z-index: 50;
    box-shadow: 0 0 18px rgba(76, 175, 80, 0.5), 0 0 0 2px rgba(76, 175, 80, 0.7);
    transition: box-shadow 0.15s ease;
}

.market-card.swap-hover > img {
    filter: brightness(1.1);
    transition: filter 0.15s ease;
}

@keyframes swap-badge-pop {
    from { opacity: 0; transform: scale(0.3); }
    to { opacity: 1; transform: scale(1); }
}

.market-card > img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 7px;
    display: block;
    transition: filter 0.2s ease;
}

.market-card .class-badge {
    position: absolute;
    top: -7px;
    left: -7px;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    box-shadow: 0 3px 8px rgba(0,0,0,0.6);
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 1.5px solid rgba(180, 150, 80, 0.35);
}

.market-card .class-badge.assaut { border-color: rgba(239, 68, 68, 0.6); }
.market-card .class-badge.oracle { border-color: rgba(59, 130, 246, 0.6); }
.market-card .class-badge.mirage { border-color: rgba(34, 197, 94, 0.6); }

.market-card .class-badge svg {
    width: 11px;
    height: 11px;
    display: block;
}

.market-card .class-badge.assaut svg { fill: #ef4444; }
.market-card .class-badge.oracle svg { fill: #3b82f6; }
.market-card .class-badge.mirage svg { fill: #22c55e; }

.market-card .class-badge .class-icon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.market-card .market-prota {
    position: absolute;
    top: 13px;
    left: -7px;
    width: 22px;
    height: 22px;
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 1.5px solid rgba(251, 191, 36, 0.5);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    box-shadow: 0 0 8px rgba(251, 191, 36, 0.2), 0 3px 8px rgba(0,0,0,0.6);
}

.market-card .market-prota svg {
    width: 11px;
    height: 11px;
    fill: #fbbf24;
}

/* Market card matching anime in hand ‚Äî golden glow */
.market-card.same-anime-match {
    overflow: visible !important;
    border: 1.5px solid rgba(251, 191, 36, 0.9);
    box-shadow: 
        0 0 0 1px rgba(251, 191, 36, 0.6),
        inset 0 0 8px rgba(251, 191, 36, 0.15),
        0 0 8px rgba(251, 191, 36, 0.5),
        0 0 16px rgba(251, 191, 36, 0.3),
        0 0 30px rgba(251, 191, 36, 0.15);
    animation: sa-border-shimmer 3s ease-in-out infinite;
}

.market-card.same-anime-match .sa-glow-container {
    inset: -15px;
    opacity: 1;
    visibility: visible;
}

.market-card.same-anime-match .sa-particles {
    opacity: 1;
    visibility: visible;
}

.collect-center-slot {
    position: relative;
    top: auto;
    left: auto;
    transform: scale(0.8);
    width: 96px;
    height: 132px;
    border-radius: 10px;
    border: 2px dashed rgba(180, 150, 80, 0.35);
    background: rgba(180, 150, 80, 0.08);
    opacity: 0;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 50;
    flex-shrink: 0;
}

.collect-center-slot.visible {
    opacity: 1;
    transform: scale(1);
}

.center-slot-inner {
    width: 100%;
    height: 100%;
    border-radius: 6px;
    overflow: visible;
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(ellipse at center, rgba(180, 150, 80, 0.1) 0%, transparent 70%);
}

/* ============================================
   DRAG & DROP
   ============================================ */

/* Carte en cours de drag */
.collect-my-cards .collect-card.dragging-origin {
    opacity: 0.25 !important;
    transform: scale(0.92) !important;
    transition: opacity 0.15s ease, transform 0.15s ease !important;
}

/* Ghost flottant */
.collect-card.drag-ghost {
    border: 2.5px solid rgba(240, 200, 80, 0.8);
    box-shadow: 
        0 20px 50px rgba(0, 0, 0, 0.7),
        0 0 30px rgba(240, 200, 80, 0.25),
        0 0 60px rgba(240, 200, 80, 0.1);
    border-radius: 10px;
    overflow: hidden;
    cursor: grabbing;
}
.collect-card.drag-ghost.fused-card {
    border: none;
    overflow: visible;
    padding: 2px;
}

.collect-card.drag-ghost .sa-glow-container,
.collect-card.drag-ghost .sa-particles,
.collect-card.drag-ghost .class-badge,
.collect-card.drag-ghost .power-badge,
.collect-card.drag-ghost .card-shimmer,
.collect-card.drag-ghost .card-info {
    display: none !important;
}

/* Slot pulse quand round actif */
.collect-center-slot.visible:not(.has-card) {
    animation: slotPulse 2s ease-in-out infinite;
}

@keyframes slotPulse {
    0%, 100% { border-color: rgba(180, 150, 80, 0.3); }
    50% { border-color: rgba(240, 200, 80, 0.6); }
}

/* Slot survol pendant drag */
.collect-center-slot.drop-hover {
    border-color: rgba(240, 200, 80, 0.9) !important;
    background: rgba(240, 200, 80, 0.12) !important;
    box-shadow: 
        0 0 25px rgba(240, 200, 80, 0.3),
        0 0 50px rgba(240, 200, 80, 0.1),
        inset 0 0 20px rgba(240, 200, 80, 0.08);
    transform: scale(1.08) !important;
    animation: none !important;
    transition: all 0.2s ease !important;
}

/* Carte jouee au centre */
.center-played-card {
    width: 92px;
    height: 128px;
    border-radius: 8px;
    overflow: visible;
    position: relative;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.6);
    animation: cardLand 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

.center-played-card .card-image {
    width: 100%;
    height: 100%;
    border-radius: 8px;
    overflow: hidden;
    border: 2px solid rgba(200, 170, 80, 0.5);
    box-shadow: 0 0 15px rgba(200, 170, 80, 0.15);
}

.center-played-card .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.center-played-card .class-badge {
    position: absolute;
    top: -8px;
    left: -8px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: linear-gradient(145deg, #1a1a1f, #0a0a0f);
    border: 1.5px solid rgba(180, 150, 80, 0.35);
    z-index: 20;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 3px 8px rgba(0,0,0,0.7);
}

.center-played-card .class-icon svg {
    width: 10px;
    height: 10px;
}

.center-played-card .class-badge.assaut {
    border-color: rgba(239, 68, 68, 0.6);
}
.center-played-card .class-badge.oracle {
    border-color: rgba(59, 130, 246, 0.6);
}
.center-played-card .class-badge.mirage {
    border-color: rgba(34, 197, 94, 0.6);
}
.center-played-card .class-badge.assaut .class-icon svg { fill: #ef4444; }
.center-played-card .class-badge.oracle .class-icon svg { fill: #3b82f6; }
.center-played-card .class-badge.mirage .class-icon svg { fill: #22c55e; }



@keyframes cardLand {
    0% { transform: scale(0.3); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
}

/* Fused card in center slot */
.center-played-card.fused-card {
    border: none;
    padding: 2px;
    overflow: visible;
}
.center-played-card.fused-card::before {
    content: '';
    position: absolute;
    inset: -2.5px;
    border-radius: 10px;
    z-index: 0;
    filter: blur(0.8px);
    background: conic-gradient(
        from var(--fuse-angle),
        hsl(calc(var(--fuse-hue)), 100%, 50%), #000,
        hsl(calc(var(--fuse-hue) + 30), 100%, 45%), #1a1a2e,
        hsl(calc(var(--fuse-hue)), 100%, 50%), #000,
        hsl(calc(var(--fuse-hue) + 30), 100%, 45%)
    );
    animation: fuse-spin 2s linear infinite, fuse-hue 4s ease-in-out infinite alternate;
    pointer-events: none;
}
.center-played-card.fused-card .fused-img-wrap {
    position: absolute;
    inset: 0;
    overflow: hidden;
    background: #0a0a12;
    border-radius: 8px;
    z-index: 2;
}
.center-played-card.fused-card .fused-img-wrap img {
    position: absolute;
    inset: -10%;
    width: 120%;
    height: 120%;
    object-fit: cover;
    object-position: center 15%;
}
.center-played-card.fused-card .card-image { display: none; }
/* Center slot fused vertical fade masks */
.center-played-card.fused-card .fused-img-wrap.fused-x2 img:nth-child(1) {
    mask-image: linear-gradient(to bottom, black 30%, transparent 65%);
    -webkit-mask-image: linear-gradient(to bottom, black 30%, transparent 65%);
}
.center-played-card.fused-card .fused-img-wrap.fused-x2 img:nth-child(2) {
    mask-image: linear-gradient(to top, black 30%, transparent 65%);
    -webkit-mask-image: linear-gradient(to top, black 30%, transparent 65%);
}
.center-played-card.fused-card .fused-img-wrap.fused-x3 img:nth-child(1) {
    mask-image: linear-gradient(to bottom, black 15%, transparent 50%);
    -webkit-mask-image: linear-gradient(to bottom, black 15%, transparent 50%);
}
.center-played-card.fused-card .fused-img-wrap.fused-x3 img:nth-child(2) {
    z-index: 2;
    mask-image: linear-gradient(to bottom, transparent 22%, black 40%, black 60%, transparent 78%);
    -webkit-mask-image: linear-gradient(to bottom, transparent 22%, black 40%, black 60%, transparent 78%);
}
.center-played-card.fused-card .fused-img-wrap.fused-x3 img:nth-child(3) {
    mask-image: linear-gradient(to top, black 15%, transparent 50%);
    -webkit-mask-image: linear-gradient(to top, black 15%, transparent 50%);
}

/* Slot avec carte */
.collect-center-slot.has-card {
    border-color: transparent;
    background: transparent;
}

/* ============================================
   FUSION BADGE ‚Äî HAND CARDS
   ============================================ */
.fusion-badge-hand {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #2a1f0a, #1a120a);
    border: 2px solid rgba(251, 191, 36, 0.7);
    z-index: 20;
    overflow: visible;
    animation: fusion-badge-glow-hand 2.5s ease-in-out infinite alternate;
}
@keyframes fusion-badge-glow-hand {
    0% { box-shadow: 0 2px 6px rgba(0,0,0,0.5), 0 0 8px rgba(251,191,36,0.3); }
    100% { box-shadow: 0 2px 6px rgba(0,0,0,0.5), 0 0 14px rgba(251,191,36,0.45), 0 0 24px rgba(251,191,36,0.15); }
}
.fusion-badge-hand svg {
    width: 14px;
    height: 14px;
    fill: none;
    stroke: #fbbf24;
    filter: drop-shadow(0 0 2px rgba(251,191,36,0.5));
    position: relative;
    z-index: 2;
}
.fusion-badge-hand.x3 {
    border-color: rgba(255, 140, 0, 0.8);
    animation: fusion-badge-glow-hand-x3 2s ease-in-out infinite alternate;
}
@keyframes fusion-badge-glow-hand-x3 {
    0% { box-shadow: 0 2px 6px rgba(0,0,0,0.5), 0 0 10px rgba(255,140,0,0.35); }
    100% { box-shadow: 0 2px 6px rgba(0,0,0,0.5), 0 0 16px rgba(255,140,0,0.5), 0 0 28px rgba(255,140,0,0.2); }
}
.fusion-badge-hand.x3 svg { stroke: #ff8c00; filter: drop-shadow(0 0 3px rgba(255,140,0,0.5)); }

.fusion-badge-hand .fusion-badge-particles { position: absolute; inset: -6px; pointer-events: none; z-index: 1; }
.fusion-badge-hand .fusion-badge-particles span {
    position: absolute; width: 2px; height: 2px; border-radius: 50%;
    background: #fbbf24; box-shadow: 0 0 3px rgba(251,191,36,0.6);
    animation: fusion-particle 3s ease-in-out infinite;
}
.fusion-badge-hand .fusion-badge-particles span:nth-child(1) { top: 0; left: 50%; animation-delay: 0s; }
.fusion-badge-hand .fusion-badge-particles span:nth-child(2) { top: 20%; right: 0; animation-delay: 0.5s; }
.fusion-badge-hand .fusion-badge-particles span:nth-child(3) { bottom: 20%; right: 5%; animation-delay: 1s; }
.fusion-badge-hand .fusion-badge-particles span:nth-child(4) { bottom: 0; left: 50%; animation-delay: 1.5s; }
.fusion-badge-hand .fusion-badge-particles span:nth-child(5) { bottom: 20%; left: 0; animation-delay: 2s; }
.fusion-badge-hand .fusion-badge-particles span:nth-child(6) { top: 20%; left: 5%; animation-delay: 2.5s; }
.fusion-badge-hand.x3 .fusion-badge-particles span { background: #ff8c00; box-shadow: 0 0 4px rgba(255,140,0,0.7); }

/* ============================================
   FUSION BADGE ‚Äî CENTER SLOT
   ============================================ */
.fusion-badge-slot {
    position: absolute;
    top: -10px;
    right: -10px;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #2a1f0a, #1a120a);
    border: 2px solid rgba(251, 191, 36, 0.7);
    z-index: 20;
    overflow: visible;
    animation: fusion-badge-glow-hand 2.5s ease-in-out infinite alternate;
}
.fusion-badge-slot svg {
    width: 16px; height: 16px;
    fill: none; stroke: #fbbf24;
    filter: drop-shadow(0 0 2px rgba(251,191,36,0.5));
    position: relative; z-index: 2;
}
.fusion-badge-slot.x3 {
    border-color: rgba(255, 140, 0, 0.8);
    animation: fusion-badge-glow-hand-x3 2s ease-in-out infinite alternate;
}
.fusion-badge-slot.x3 svg { stroke: #ff8c00; filter: drop-shadow(0 0 3px rgba(255,140,0,0.5)); }

.fusion-badge-slot .fusion-badge-particles { position: absolute; inset: -6px; pointer-events: none; z-index: 1; }
.fusion-badge-slot .fusion-badge-particles span {
    position: absolute; width: 2.5px; height: 2.5px; border-radius: 50%;
    background: #fbbf24; box-shadow: 0 0 3px rgba(251,191,36,0.6);
    animation: fusion-particle 3s ease-in-out infinite;
}
.fusion-badge-slot .fusion-badge-particles span:nth-child(1) { top: 0; left: 50%; animation-delay: 0s; }
.fusion-badge-slot .fusion-badge-particles span:nth-child(2) { top: 20%; right: 0; animation-delay: 0.5s; }
.fusion-badge-slot .fusion-badge-particles span:nth-child(3) { bottom: 20%; right: 5%; animation-delay: 1s; }
.fusion-badge-slot .fusion-badge-particles span:nth-child(4) { bottom: 0; left: 50%; animation-delay: 1.5s; }
.fusion-badge-slot .fusion-badge-particles span:nth-child(5) { bottom: 20%; left: 0; animation-delay: 2s; }
.fusion-badge-slot .fusion-badge-particles span:nth-child(6) { top: 20%; left: 5%; animation-delay: 2.5s; }
.fusion-badge-slot.x3 .fusion-badge-particles span { background: #ff8c00; box-shadow: 0 0 4px rgba(255,140,0,0.7); }

/* ============================================
   CENTER FUSED GLOW ‚Äî Golden aura around fused card in slot
   ============================================ */
.center-fused-glow {
    position: absolute;
    inset: -12px;
    border-radius: 14px;
    background: radial-gradient(ellipse, rgba(251,191,36,0.15) 0%, rgba(251,191,36,0.05) 50%, transparent 70%);
    z-index: -1;
    animation: center-fused-breathe 2.5s ease-in-out infinite alternate;
    pointer-events: none;
}
@keyframes center-fused-breathe {
    0% { opacity: 0.6; transform: scale(1); }
    100% { opacity: 1; transform: scale(1.08); }
}

/* Cartes restantes apres avoir joue */
.collect-my-cards .collect-card.card-played-out {
    opacity: 0.65;
    filter: brightness(0.8);
    cursor: default;
    transition: transform 0.4s cubic-bezier(0.22, 0.61, 0.36, 1), box-shadow 0.4s ease, opacity 0.4s ease, filter 0.4s ease;
}

/* Curseur grab */
.collect-my-cards .collect-card:not(.card-played-out):not(.dragging-origin) {
    cursor: grab;
}

.collect-my-cards .collect-card:not(.card-played-out):not(.dragging-origin):active {
    cursor: grabbing;
}


/* ============================================
   ROUND ANNOUNCEMENT OVERLAY
   ============================================ */

.collect-round-overlay {
    position: fixed;
    inset: 0;
    z-index: 99999;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
}

.collect-round-overlay.active {
    pointer-events: none;
}

.collect-round-overlay.fade-out {
    /* no background to fade */
}

.collect-round-overlay.fade-out .tro-card,
.collect-round-overlay.fade-out .tro-text,
.collect-round-overlay.fade-out .tro-impact {
    opacity: 0 !important;
    transition: opacity 0.5s ease !important;
}

/* Card backs */
.tro-card {
    position: absolute;
    width: 70px;
    height: 98px;
    border-radius: 7px;
    background: linear-gradient(135deg, #2a5080, #1e3f68);
    border: 2px solid rgba(60, 140, 250, 0.5);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4), 0 0 18px rgba(59, 130, 246, 0.3);
    overflow: hidden;
    opacity: 0;
    top: 43%;
    transform: translateY(-50%);
}

/* Rayures diagonales sur les dos */
.tro-card::before {
    content: '';
    position: absolute;
    inset: 4px;
    background: repeating-linear-gradient(
        45deg,
        transparent,
        transparent 5px,
        rgba(60, 140, 250, 0.18) 5px,
        rgba(60, 140, 250, 0.18) 10px
    );
    border-radius: 6px;
}

/* Logo SM */
.tro-card::after {
    content: 'SM';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Orbitron', sans-serif;
    font-size: 0.75rem;
    font-weight: 700;
    color: rgba(70, 150, 255, 0.6);
    text-shadow: 0 0 15px rgba(70, 150, 255, 0.45);
    letter-spacing: 2px;
    z-index: 2;
}

.tro-card-left {
    left: -100px;
}

.tro-card-right {
    right: -100px;
}

/* Cartes glissent vers le centre */
.collect-round-overlay.cards-slide .tro-card {
    opacity: 1;
    transition: all 0.4s cubic-bezier(0.22, 1, 0.36, 1);
}

.collect-round-overlay.cards-slide .tro-card-left {
    left: calc(50% - 35px);
    transform: translateY(-50%) rotate(-8deg);
}

.collect-round-overlay.cards-slide .tro-card-right {
    right: calc(50% - 35px);
    transform: translateY(-50%) rotate(8deg);
}

/* CLASH ‚Äî cartes se percutent */
.collect-round-overlay.clash .tro-card-left {
    left: calc(50% - 15px);
    transform: translateY(-50%) rotate(-3deg) scale(1.05);
    transition: all 0.12s cubic-bezier(0.4, 0, 1, 1);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.7), 0 0 30px rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 255, 255, 0.35);
}

.collect-round-overlay.clash .tro-card-right {
    right: calc(50% - 15px);
    transform: translateY(-50%) rotate(3deg) scale(1.05);
    transition: all 0.12s cubic-bezier(0.4, 0, 1, 1);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.7), 0 0 30px rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 255, 255, 0.35);
}

/* Impact flash */
.tro-impact {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(240, 200, 80, 0.9) 0%, rgba(240, 200, 80, 0) 70%);
    transform: translate(-50%, -50%);
    opacity: 0;
}

.collect-round-overlay.clash .tro-impact {
    width: 300px;
    height: 300px;
    opacity: 1;
    animation: troImpactFlash 0.6s ease-out forwards;
}

@keyframes troImpactFlash {
    0% { width: 15px; height: 15px; opacity: 1; }
    30% { width: 200px; height: 200px; opacity: 0.8; }
    100% { width: 300px; height: 300px; opacity: 0; }
}


@keyframes troScreenShake {
    0%, 100% { transform: translate(0, 0); }
    10% { transform: translate(-2px, 1px); }
    20% { transform: translate(2px, -2px); }
    30% { transform: translate(-1px, 2px); }
    40% { transform: translate(2px, -1px); }
    50% { transform: translate(-2px, -1px); }
    60% { transform: translate(1px, 2px); }
    70% { transform: translate(-1px, -2px); }
    80% { transform: translate(2px, 1px); }
    90% { transform: translate(-1px, -1px); }
}

.collect-round-overlay.clash {
    animation: troScreenShake 0.4s ease-out;
}

/* Particules au clash */
.tro-particles {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    pointer-events: none;
}

.tro-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: rgba(240, 200, 80, 0.9);
    box-shadow: 0 0 6px rgba(240, 200, 80, 0.6);
    opacity: 0;
}

.collect-round-overlay.clash .tro-particle {
    animation: troParticleBurst 0.8s ease-out forwards;
}

.tro-particle:nth-child(1)  { --tx: -50px; --ty: -40px; animation-delay: 0ms; }
.tro-particle:nth-child(2)  { --tx: 55px;  --ty: -30px; animation-delay: 20ms; width: 3px; height: 3px; }
.tro-particle:nth-child(3)  { --tx: -30px; --ty: 45px;  animation-delay: 40ms; }
.tro-particle:nth-child(4)  { --tx: 45px;  --ty: 50px;  animation-delay: 30ms; width: 5px; height: 5px; }
.tro-particle:nth-child(5)  { --tx: -65px; --ty: 8px;   animation-delay: 10ms; }
.tro-particle:nth-child(6)  { --tx: 70px;  --ty: -12px; animation-delay: 50ms; width: 3px; height: 3px; }
.tro-particle:nth-child(7)  { --tx: -20px; --ty: -55px; animation-delay: 25ms; }
.tro-particle:nth-child(8)  { --tx: 25px;  --ty: 60px;  animation-delay: 35ms; width: 5px; height: 5px; }
.tro-particle:nth-child(9)  { --tx: -75px; --ty: -20px; animation-delay: 15ms; width: 3px; height: 3px; }
.tro-particle:nth-child(10) { --tx: 40px;  --ty: -55px; animation-delay: 45ms; }
.tro-particle:nth-child(11) { --tx: -45px; --ty: 30px;  animation-delay: 55ms; width: 4px; height: 4px; }
.tro-particle:nth-child(12) { --tx: 55px;  --ty: 22px;  animation-delay: 5ms; }

@keyframes troParticleBurst {
    0% { opacity: 1; transform: translate(0, 0) scale(1); }
    100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(0.3); }
}

/* Texte */
.tro-text {
    position: absolute;
    top: calc(43% + 88px);
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 10;
}

.tro-round-label {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.75rem;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.9);
    letter-spacing: 6px;
    text-transform: uppercase;
    opacity: 0;
    transform: translateY(15px) scale(0.8);
    text-shadow: 0 0 20px rgba(240, 200, 80, 0.5);
}

.collect-round-overlay.show-text .tro-round-label {
    opacity: 1;
    transform: translateY(0) scale(1);
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.collect-round-overlay.hide-text .tro-round-label {
    opacity: 0;
    transform: translateY(0) scale(0.6);
    transition: all 0.4s ease-in;
}

/* Stat */
.tro-stat {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-top: -22px;
    opacity: 0;
    transform: translateY(5px) scale(0.7);
    position: relative;
}

.collect-round-overlay.show-stat .tro-stat {
    opacity: 1;
    transform: translateY(0) scale(1);
    transition: all 0.9s cubic-bezier(0.22, 1, 0.36, 1);
}

.tro-stat-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    color: rgba(240, 200, 80, 1);
    filter: drop-shadow(0 0 8px rgba(240, 200, 80, 0.6));
    animation: troStatGlow 1s ease-in-out infinite alternate;
}

.tro-stat-icon svg,
.tro-stat-icon img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

@keyframes troStatGlow {
    0% { filter: drop-shadow(0 0 8px rgba(240, 200, 80, 0.4)); }
    100% { filter: drop-shadow(0 0 16px rgba(240, 200, 80, 0.8)); }
}

.tro-stat-name {
    font-family: 'Orbitron', sans-serif;
    font-size: 0.9rem;
    font-weight: 700;
    color: rgba(240, 200, 80, 1);
    letter-spacing: 3px;
    text-shadow: 0 0 20px rgba(240, 200, 80, 0.5), 0 0 40px rgba(240, 200, 80, 0.2);
}


/* Stat particles burst */
.tro-stat-particles {
    position: absolute;
    left: 50%;
    top: 0;
    width: 0;
    height: 0;
    pointer-events: none;
}

.tro-stat-particle {
    position: absolute;
    border-radius: 50%;
    background: rgba(240, 200, 80, 0.9);
    box-shadow: 0 0 8px rgba(240, 200, 80, 0.7);
    opacity: 0;
}

.collect-round-overlay.show-stat .tro-stat-particle {
    animation: troStatParticle 1.3s ease-out forwards;
}

.tro-stat-particle:nth-child(1)  { width: 4px; height: 4px; --sx: -45px; --sy: -18px; animation-delay: 0ms; }
.tro-stat-particle:nth-child(2)  { width: 3px; height: 3px; --sx: 50px;  --sy: -12px; animation-delay: 30ms; }
.tro-stat-particle:nth-child(3)  { width: 3px; height: 3px; --sx: -30px; --sy: 20px;  animation-delay: 50ms; }
.tro-stat-particle:nth-child(4)  { width: 5px; height: 5px; --sx: 35px;  --sy: 18px;  animation-delay: 20ms; }
.tro-stat-particle:nth-child(5)  { width: 3px; height: 3px; --sx: -65px; --sy: 4px;   animation-delay: 40ms; }
.tro-stat-particle:nth-child(6)  { width: 3px; height: 3px; --sx: 60px;  --sy: -6px;  animation-delay: 60ms; }
.tro-stat-particle:nth-child(7)  { width: 4px; height: 4px; --sx: -18px; --sy: -25px; animation-delay: 15ms; }
.tro-stat-particle:nth-child(8)  { width: 3px; height: 3px; --sx: 20px;  --sy: 25px;  animation-delay: 45ms; }
.tro-stat-particle:nth-child(9)  { width: 3px; height: 3px; --sx: -40px; --sy: 14px;  animation-delay: 70ms; }
.tro-stat-particle:nth-child(10) { width: 4px; height: 4px; --sx: 45px;  --sy: -20px; animation-delay: 25ms; }
.tro-stat-particle:nth-child(11) { width: 3px; height: 3px; --sx: -70px; --sy: -10px; animation-delay: 55ms; }
.tro-stat-particle:nth-child(12) { width: 5px; height: 5px; --sx: 70px;  --sy: 7px;   animation-delay: 35ms; }
.tro-stat-particle:nth-child(13) { width: 3px; height: 3px; --sx: -55px; --sy: 10px;  animation-delay: 80ms; }
.tro-stat-particle:nth-child(14) { width: 3px; height: 3px; --sx: 25px;  --sy: -20px; animation-delay: 10ms; }
.tro-stat-particle:nth-child(15) { width: 4px; height: 4px; --sx: -22px; --sy: 15px;  animation-delay: 65ms; }
.tro-stat-particle:nth-child(16) { width: 3px; height: 3px; --sx: 75px;  --sy: -4px;  animation-delay: 90ms; }

@keyframes troStatParticle {
    0% { opacity: 1; transform: translate(0, 0) scale(1.5); }
    30% { opacity: 1; }
    100% { opacity: 0; transform: translate(var(--sx), var(--sy)) scale(0); }
}

/* Stat flash line effect */
.tro-stat-flash {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(240, 200, 80, 0.8), transparent);
    transform: translate(-50%, -50%);
    opacity: 0;
    border-radius: 2px;
}

.collect-round-overlay.show-stat .tro-stat-flash {
    animation: troStatFlash 0.9s ease-out forwards;
}

@keyframes troStatFlash {
    0% { width: 0; opacity: 1; }
    40% { width: 350px; opacity: 0.9; }
    100% { width: 400px; opacity: 0; }
}


/* Stat icon inside center slot */
.slot-stat-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    width: 36px;
    height: 36px;
    opacity: 0;
    z-index: 51;
    filter: drop-shadow(0 0 8px rgba(240, 200, 80, 0.4));
    transition: none;
    pointer-events: none;
}

.slot-stat-icon img,
.slot-stat-icon svg {
    width: 100%;
    height: 100%;
    object-fit: contain;
    stroke: rgba(240, 200, 80, 0.8);
    color: rgba(240, 200, 80, 0.8);
}

.slot-stat-icon.show {
    opacity: 0.85;
    transform: translate(-50%, -50%) scale(1);
    animation: slotStatReveal 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes slotStatReveal {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.3); filter: drop-shadow(0 0 30px rgba(240, 200, 80, 1)); }
    50% { opacity: 1; transform: translate(-50%, -50%) scale(1.15); }
    100% { opacity: 0.7; transform: translate(-50%, -50%) scale(1); filter: drop-shadow(0 0 12px rgba(240, 200, 80, 0.5)); }
}

.slot-stat-icon.show::after {
    content: '';
    position: absolute;
    inset: -15px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(240, 200, 80, 0.15) 0%, transparent 70%);
    animation: slotStatPulse 2s ease-in-out infinite;
}

@keyframes slotStatPulse {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.1); }
}

/* Active stat highlight on preview cards */
.collect-card-preview .stat-item.active-stat .stat-value {
    color: #FFD700;
    text-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
}

.collect-card-preview .stat-item.active-stat .stat-icon-img {
    filter: drop-shadow(0 0 6px rgba(240, 200, 80, 0.7));
}

/* Dim non-active stats when a stat is selected */
.collect-card-preview.has-active-stat .stat-item:not(.active-stat) .stat-value {
    opacity: 0.45;
}

.collect-card-preview.has-active-stat .stat-item:not(.active-stat) .stat-icon-img {
    opacity: 0.4;
}

/* Fade out */
.collect-round-overlay.fade-out .tro-card,
.collect-round-overlay.fade-out .tro-text,
.collect-round-overlay.fade-out .tro-impact {
    opacity: 0 !important;
    transition: opacity 0.4s ease;
}


/* ============================================
   TABLE INTRO ANIMATIONS
   ============================================ */

@keyframes tableIntroFade {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

@keyframes fadeInSmooth {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

/* ‚Äî Phase 1: Table (0 ‚Üí 700ms) ‚Äî */
.collect-table-container.intro .collect-table {
    animation: tableIntroFade 0.7s ease-out both;
}

/* Phase indicator */


/* ‚Äî Phase 4: Tous les joueurs en m√™me temps avec fade + mont√©e (2.0s) ‚Äî */
@keyframes seatFadeUp {
    0% { 
        opacity: 0; 
        margin-top: 18px;
    }
    100% { 
        opacity: 1; 
        margin-top: 0px;
    }
}

.collect-table-container.intro .collect-player-seat {
    animation: seatFadeUp 0.5s cubic-bezier(0.22, 1, 0.36, 1) 2.0s both;
}

/* ============================================
   DEAL ANIMATIONS
   ============================================ */


/* Animation pour les cartes des adversaires (vol depuis le centre) */
@keyframes dealPlayerCard {
    0% {
        transform: translate(var(--deal-from-x), var(--deal-from-y)) rotate(0deg) scale(0.3);
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        transform: translate(0, 0) rotate(var(--card-rotation)) scale(1);
        opacity: 1;
    }
}

.collect-player-card-small.dealing {
    animation: dealPlayerCard 0.32s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* Animation pour les cartes du joueur POV (descente depuis le haut) */
@keyframes dealMyCard {
    0% {
        transform: translate(0, -400px) rotate(0deg) scale(0.3);
        opacity: 0;
    }
    60% {
        opacity: 1;
    }
    80% {
        transform: translate(0, 10px) rotate(var(--card-rotation)) scale(1.02);
    }
    100% {
        transform: translate(0, 0) rotate(var(--card-rotation)) scale(1);
        opacity: 1;
    }
}

.collect-my-cards .collect-card.dealing {
    animation: dealMyCard 0.38s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

.collect-my-cards .collect-card:first-child.dealing {
    --card-rotation: -4deg;
}

.collect-my-cards .collect-card:nth-child(2).dealing {
    --card-rotation: 0deg;
}

.collect-my-cards .collect-card:last-child.dealing {
    --card-rotation: 4deg;
}

/* √âtat initial avant animation */
.collect-card.pre-deal,
.collect-player-card-small.pre-deal {
    opacity: 0;
    pointer-events: none;
}

.collect-my-cards .collect-card.dealing {
    pointer-events: none;
}

/* Visible apr√®s animation */
.collect-my-cards .collect-card.dealt,
.collect-player-card-small.dealt {
    opacity: 1;
}

/* Restaurer la transition hover apr√®s l'animation de distribution */
.collect-my-cards .collect-card.dealt {
    animation: none;
    transition: transform 0.4s cubic-bezier(0.22, 0.61, 0.36, 1), box-shadow 0.4s ease, filter 0.4s ease;
    pointer-events: auto;
}

/* ============================================
   RESPONSIVE
   ============================================ */
@media (max-width: 1024px) {
    .collect-table-container {
        width: 95vw;
    }
    
    .collect-card.large {
        width: 85px;
        height: 119px;
    }
    
    
    
}

@media (max-width: 768px) {
    .collect-table-container {
        width: 100vw;
        height: 60vh;
        aspect-ratio: unset;
    }
    
    .collect-card.large {
        width: 70px;
        height: 98px;
    }
    
    
    .collect-card {
        width: 55px;
        height: 77px;
    }
    
    .collect-player-card-small {
        width: 28px;
        height: 39px;
    }
    
    
    
    
    .collect-card-preview {
        display: none;
    }
}
/* ========================================================
   SAME-ANIME BONUS ‚Äî Neon Glow Effect (Final)
   ======================================================== */

/* Double bordure + glow n√©on - Apr√®s distribution OU refresh (pas de pre-deal/dealing) */
.collect-my-cards .collect-card.same-anime-bonus.dealt,
.collect-my-cards .collect-card.same-anime-bonus:not(.pre-deal):not(.dealing) {
    overflow: visible !important;
    position: relative;
    border: 1.5px solid rgba(251, 191, 36, 0.9) !important;
    box-shadow: 
        /* Bordure externe dor√©e */
        0 0 0 1.5px rgba(251, 191, 36, 0.7),
        /* Glow interne */
        inset 0 0 10px rgba(251, 191, 36, 0.2),
        /* Glow proche */
        0 0 10px rgba(251, 191, 36, 0.6),
        0 0 20px rgba(251, 191, 36, 0.4),
        /* Glow moyen */
        0 0 35px rgba(251, 191, 36, 0.25),
        0 0 55px rgba(251, 191, 36, 0.15),
        /* Glow large */
        0 0 75px rgba(251, 191, 36, 0.1) !important;
    animation: sa-border-shimmer 3s ease-in-out infinite, sa-effect-appear 0.5s ease-out forwards;
}

/* Animation d'apparition progressive de l'effet */
@keyframes sa-effect-appear {
    0% {
        border-color: rgba(180, 150, 80, 0.4);
        box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    }
    100% {
        border-color: rgba(251, 191, 36, 0.9);
        box-shadow: 
            0 0 0 1.5px rgba(251, 191, 36, 0.7),
            inset 0 0 10px rgba(251, 191, 36, 0.2),
            0 0 10px rgba(251, 191, 36, 0.6),
            0 0 20px rgba(251, 191, 36, 0.4),
            0 0 35px rgba(251, 191, 36, 0.25),
            0 0 55px rgba(251, 191, 36, 0.15),
            0 0 75px rgba(251, 191, 36, 0.1);
    }
}

/* Pas d'effet pendant pre-deal et dealing */
.collect-my-cards .collect-card.same-anime-bonus.pre-deal,
.collect-my-cards .collect-card.same-anime-bonus.dealing {
    animation: dealMyCard 0.38s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards !important;
    border: 1.5px solid rgba(180, 150, 80, 0.4) !important;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5) !important;
}
.collect-my-cards .collect-card.same-anime-bonus.pre-deal {
    opacity: 0 !important;
    animation: none !important;
}

/* Cacher les particules et fum√©e pendant pre-deal et dealing */
.collect-my-cards .collect-card.same-anime-bonus.pre-deal .sa-glow-container,
.collect-my-cards .collect-card.same-anime-bonus.pre-deal .sa-particles,
.collect-my-cards .collect-card.same-anime-bonus.dealing .sa-glow-container,
.collect-my-cards .collect-card.same-anime-bonus.dealing .sa-particles {
    opacity: 0 !important;
    visibility: hidden !important;
}

/* Afficher les particules et fum√©e apr√®s distribution OU refresh */
.collect-my-cards .collect-card.same-anime-bonus.dealt .sa-glow-container,
.collect-my-cards .collect-card.same-anime-bonus.dealt .sa-particles,
.collect-my-cards .collect-card.same-anime-bonus:not(.pre-deal):not(.dealing) .sa-glow-container,
.collect-my-cards .collect-card.same-anime-bonus:not(.pre-deal):not(.dealing) .sa-particles,
.collect-my-cards .collect-card.fused-card .sa-glow-container,
.collect-my-cards .collect-card.fused-card .sa-particles {
    visibility: visible;
    animation: sa-particles-appear 0.6s ease-out 0.2s forwards;
    opacity: 0;
}

@keyframes sa-particles-appear {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

/* Animation de brillance discontinue sur la bordure + pulsation du glow */
@keyframes sa-border-shimmer {
    0%, 100% {
        border-color: rgba(251, 191, 36, 0.7);
        box-shadow: 
            0 0 0 1.5px rgba(251, 191, 36, 0.5),
            inset 0 0 8px rgba(251, 191, 36, 0.15),
            0 0 8px rgba(251, 191, 36, 0.4),
            0 0 15px rgba(251, 191, 36, 0.25),
            0 0 25px rgba(251, 191, 36, 0.15),
            0 0 40px rgba(251, 191, 36, 0.08),
            0 0 55px rgba(251, 191, 36, 0.03);
    }
    25% {
        border-color: rgba(255, 215, 100, 1);
        box-shadow: 
            0 0 0 2px rgba(255, 215, 100, 0.9),
            inset 0 0 12px rgba(251, 191, 36, 0.3),
            0 0 15px rgba(255, 215, 100, 0.7),
            0 0 30px rgba(251, 191, 36, 0.5),
            0 0 50px rgba(251, 191, 36, 0.3),
            0 0 75px rgba(251, 191, 36, 0.18),
            0 0 100px rgba(251, 191, 36, 0.1);
    }
    50% {
        border-color: rgba(251, 191, 36, 0.8);
        box-shadow: 
            0 0 0 1.5px rgba(251, 191, 36, 0.6),
            inset 0 0 10px rgba(251, 191, 36, 0.2),
            0 0 10px rgba(251, 191, 36, 0.5),
            0 0 20px rgba(251, 191, 36, 0.35),
            0 0 35px rgba(251, 191, 36, 0.2),
            0 0 55px rgba(251, 191, 36, 0.1),
            0 0 70px rgba(251, 191, 36, 0.05);
    }
    75% {
        border-color: rgba(255, 220, 120, 1);
        box-shadow: 
            0 0 0 2.5px rgba(255, 220, 120, 0.95),
            inset 0 0 15px rgba(251, 191, 36, 0.35),
            0 0 18px rgba(255, 220, 120, 0.8),
            0 0 35px rgba(251, 191, 36, 0.55),
            0 0 60px rgba(251, 191, 36, 0.35),
            0 0 90px rgba(251, 191, 36, 0.2),
            0 0 120px rgba(251, 191, 36, 0.12);
    }
}

/* Halo dor√© intense sur l'image du personnage - Apr√®s distribution OU refresh */
.collect-my-cards .collect-card.same-anime-bonus.dealt .card-image,
.collect-my-cards .collect-card.same-anime-bonus:not(.pre-deal):not(.dealing) .card-image {
    position: absolute !important;
    inset: 0 !important;
    overflow: hidden !important;
    border-radius: 6px !important;
}
.collect-my-cards .collect-card.same-anime-bonus.dealt .card-image::after,
.collect-my-cards .collect-card.same-anime-bonus:not(.pre-deal):not(.dealing) .card-image::after {
    content: '';
    display: block !important;
    position: absolute;
    inset: 0;
    background: radial-gradient(ellipse at center, rgba(251, 191, 36, 0.35) 0%, rgba(251, 191, 36, 0.15) 40%, transparent 70%);
    pointer-events: none;
    border-radius: 6px;
    z-index: 1;
    animation: sa-image-glow 2.5s ease-in-out infinite alternate, sa-halo-appear 0.5s ease-out forwards;
    opacity: 0;
}
.collect-my-cards .collect-card.same-anime-bonus.dealt .card-image img,
.collect-my-cards .collect-card.same-anime-bonus:not(.pre-deal):not(.dealing) .card-image img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    filter: brightness(1.1) saturate(1.1) sepia(0.15);
}

@keyframes sa-halo-appear {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

@keyframes sa-image-glow {
    0% { opacity: 0.7; }
    100% { opacity: 1; }
}

/* Container pour les effets de fum√©e */
.sa-glow-container {
    position: absolute;
    inset: -25px;
    pointer-events: none;
    overflow: visible;
    z-index: -1;
}

/* Effet fum√©e/brume anim√©e */
.sa-smoke {
    position: absolute;
    border-radius: 16px;
    filter: blur(18px);
    opacity: 0.55;
    animation: sa-smoke-float 4s ease-in-out infinite alternate;
}
.sa-smoke.s1 {
    inset: 12px;
    background: radial-gradient(ellipse at 20% 30%, rgba(251, 191, 36, 0.4) 0%, transparent 60%);
    animation-delay: 0s;
}
.sa-smoke.s2 {
    inset: 8px;
    background: radial-gradient(ellipse at 80% 70%, rgba(251, 191, 36, 0.35) 0%, transparent 55%);
    animation-delay: 1s;
    animation-duration: 5s;
}
.sa-smoke.s3 {
    inset: 15px;
    background: radial-gradient(ellipse at 50% 90%, rgba(251, 191, 36, 0.4) 0%, transparent 50%);
    animation-delay: 0.5s;
    animation-duration: 4.5s;
}
.sa-smoke.s4 {
    inset: 10px;
    background: radial-gradient(ellipse at 10% 60%, rgba(251, 191, 36, 0.3) 0%, transparent 50%);
    animation-delay: 1.5s;
    animation-duration: 5.5s;
}
.sa-smoke.s5 {
    inset: 14px;
    background: radial-gradient(ellipse at 90% 40%, rgba(251, 191, 36, 0.35) 0%, transparent 55%);
    animation-delay: 0.8s;
    animation-duration: 4.2s;
}

@keyframes sa-smoke-float {
    0% { transform: scale(0.95) translate(0, 0); opacity: 0.45; }
    50% { opacity: 0.65; }
    100% { transform: scale(1.05) translate(2px, -2px); opacity: 0.5; }
}

/* Points lumineux aux coins */
.sa-corner-glow {
    position: absolute;
    width: 14px;
    height: 14px;
    background: radial-gradient(circle, rgba(255, 230, 150, 0.85) 0%, rgba(251, 191, 36, 0.55) 30%, transparent 70%);
    filter: blur(2px);
    animation: sa-corner-pulse 2s ease-in-out infinite alternate;
    z-index: 5;
}
.sa-corner-glow.tl { top: 20px; left: 20px; animation-delay: 0s; }
.sa-corner-glow.tr { top: 20px; right: 20px; animation-delay: 0.5s; }
.sa-corner-glow.bl { bottom: 20px; left: 20px; animation-delay: 1s; }
.sa-corner-glow.br { bottom: 20px; right: 20px; animation-delay: 1.5s; }

@keyframes sa-corner-pulse {
    0% { transform: scale(0.8); opacity: 0.55; }
    100% { transform: scale(1.25); opacity: 0.95; }
}

/* Container particules */
.sa-particles {
    position: absolute;
    inset: -12px;
    pointer-events: none;
    overflow: visible;
    z-index: 6;
}

/* Particules dor√©es */
.sa-particle {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, 
        #fffbeb 0%, 
        #fcd34d 50%, 
        #f59e0b 80%,
        transparent 100%
    );
    box-shadow: 
        0 0 3px rgba(251, 191, 36, 0.8),
        0 0 6px rgba(251, 191, 36, 0.4);
    opacity: 0;
    animation-timing-function: ease-in-out;
    animation-iteration-count: infinite;
}
.sa-particle.lg { width: 4px; height: 4px; }
.sa-particle.md { width: 3px; height: 3px; }
.sa-particle.sm { width: 2px; height: 2px; box-shadow: 0 0 2px rgba(251, 191, 36, 0.7); }

/* Animations particules autour */
@keyframes sa-float1 {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    10% { opacity: 0.9; }
    50% { transform: translate(5px, -8px); opacity: 1; }
    90% { opacity: 0.7; }
}
@keyframes sa-float2 {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    15% { opacity: 0.85; }
    50% { transform: translate(-6px, -5px); opacity: 1; }
    85% { opacity: 0.6; }
}
@keyframes sa-float3 {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    12% { opacity: 0.95; }
    35% { transform: translate(4px, -10px); }
    65% { transform: translate(-2px, -6px); opacity: 1; }
    88% { opacity: 0.5; }
}
@keyframes sa-float4 {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    8% { opacity: 0.8; }
    40% { transform: translate(-5px, -12px); }
    70% { transform: translate(2px, -8px); opacity: 1; }
    92% { opacity: 0.4; }
}
@keyframes sa-float5 {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    10% { opacity: 0.9; }
    30% { transform: translate(8px, -3px); }
    60% { transform: translate(-4px, -14px); opacity: 1; }
    90% { opacity: 0.6; }
}
@keyframes sa-float6 {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    5% { opacity: 0.85; }
    45% { transform: translate(-8px, -6px); opacity: 1; }
    75% { transform: translate(-5px, -15px); }
    95% { opacity: 0.4; }
}

/* Animations particules qui traversent */
@keyframes sa-across1 {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    10% { opacity: 0.7; }
    50% { transform: translate(30px, -22px); opacity: 0.9; }
    90% { opacity: 0.5; }
}
@keyframes sa-across2 {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    15% { opacity: 0.6; }
    50% { transform: translate(-25px, -18px); opacity: 0.85; }
    85% { opacity: 0.4; }
}
@keyframes sa-across3 {
    0%, 100% { transform: translate(0, 0); opacity: 0; }
    12% { opacity: 0.65; }
    50% { transform: translate(22px, -30px); opacity: 0.8; }
    88% { opacity: 0.35; }
}

/* Positionnement particules autour (10) */
.sa-particle:nth-child(1) { left: -3px; top: 30%; animation: sa-float1 3.5s infinite; animation-delay: 0s; }
.sa-particle:nth-child(2) { left: -4px; top: 70%; animation: sa-float3 4s infinite; animation-delay: 0.6s; }
.sa-particle:nth-child(3) { right: -3px; top: 25%; animation: sa-float2 4s infinite; animation-delay: 0.2s; }
.sa-particle:nth-child(4) { right: -4px; top: 65%; animation: sa-float4 3.7s infinite; animation-delay: 0.8s; }
.sa-particle:nth-child(5) { bottom: -4px; left: 25%; animation: sa-float3 3.8s infinite; animation-delay: 0.1s; }
.sa-particle:nth-child(6) { bottom: -4px; left: 75%; animation: sa-float5 3.6s infinite; animation-delay: 1.2s; }
.sa-particle:nth-child(7) { top: -4px; left: 22%; animation: sa-float4 4.1s infinite; animation-delay: 0.15s; }
.sa-particle:nth-child(8) { top: -4px; left: 78%; animation: sa-float2 4.3s infinite; animation-delay: 1.3s; }
.sa-particle:nth-child(9) { left: -3px; top: -3px; animation: sa-float5 4.2s infinite; animation-delay: 0.4s; }
.sa-particle:nth-child(10) { right: -3px; bottom: -3px; animation: sa-float1 3.9s infinite; animation-delay: 1s; }

/* Particules SUR la carte (3) - z-index √©lev√© */
.sa-particle:nth-child(11) { left: 20%; top: 60%; animation: sa-across1 5s infinite; animation-delay: 0.3s; z-index: 10; }
.sa-particle:nth-child(12) { left: 60%; top: 40%; animation: sa-across2 5.5s infinite; animation-delay: 1.5s; z-index: 10; }
.sa-particle:nth-child(13) { left: 40%; top: 75%; animation: sa-across3 6s infinite; animation-delay: 2.5s; z-index: 10; }
/* ============================================
   CLASS TRIANGLE WIDGET (C6 Premium)
   ============================================ */
.class-triangle-widget { display: none !important; }
.class-triangle-widget-OFF {
    position: absolute;
    top: 24px;
    left: 24px;
    z-index: 120;
    width: 135px;
    height: 145px;
    pointer-events: none;
    opacity: 0.85;
}

.class-triangle-widget svg {
    width: 100%;
    height: 100%;
    overflow: visible;
}
/* ============================================
   FUSED CARD PREVIEW ‚Äî Vertical fade images
   ============================================ */
.collect-card-preview .preview-image.fused-preview {
    background: #0a0a12;
}
.collect-card-preview .preview-image.fused-preview img {
    position: absolute;
    inset: -10%;
    width: 120%;
    height: 120%;
    object-fit: cover;
    object-position: center 15%;
}
/* x2 ‚Äî vertical fade top/bottom */
.collect-card-preview .preview-image.fused-preview.fused-x2 img:nth-child(1) {
    z-index: 1;
    mask-image: linear-gradient(to bottom, black 30%, transparent 65%);
    -webkit-mask-image: linear-gradient(to bottom, black 30%, transparent 65%);
}
.collect-card-preview .preview-image.fused-preview.fused-x2 img:nth-child(2) {
    z-index: 1;
    mask-image: linear-gradient(to top, black 30%, transparent 65%);
    -webkit-mask-image: linear-gradient(to top, black 30%, transparent 65%);
}
/* x3 ‚Äî vertical fade top/center/bottom */
.collect-card-preview .preview-image.fused-preview.fused-x3 img:nth-child(1) {
    z-index: 1;
    mask-image: linear-gradient(to bottom, black 15%, transparent 50%);
    -webkit-mask-image: linear-gradient(to bottom, black 15%, transparent 50%);
}
.collect-card-preview .preview-image.fused-preview.fused-x3 img:nth-child(2) {
    z-index: 2;
    mask-image: linear-gradient(to bottom, transparent 22%, black 40%, black 60%, transparent 78%);
    -webkit-mask-image: linear-gradient(to bottom, transparent 22%, black 40%, black 60%, transparent 78%);
}
.collect-card-preview .preview-image.fused-preview.fused-x3 img:nth-child(3) {
    z-index: 1;
    mask-image: linear-gradient(to top, black 15%, transparent 50%);
    -webkit-mask-image: linear-gradient(to top, black 15%, transparent 50%);
}

/* Fusion badge on preview */
/* Fusion badge container (admin) */
.collect-card-preview .preview-fusion-badge {
    position: absolute;
    top: -18px;
    right: -14px;
    z-index: 20;
}

/* Fusion badge ‚Äî circular like class badge, top-right */
.collect-card-preview .fusion-badge-preview {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(145deg, #2a1f0a, #1a120a);
    border: 2px solid rgba(251, 191, 36, 0.7);
    box-shadow: 0 3px 10px rgba(0,0,0,0.5), 0 0 12px rgba(251,191,36,0.3), 0 0 25px rgba(251,191,36,0.15);
    z-index: 2;
    position: relative;
    overflow: visible;
    animation: fusion-badge-glow 2.5s ease-in-out infinite alternate;
}
@keyframes fusion-badge-glow {
    0% { box-shadow: 0 3px 10px rgba(0,0,0,0.5), 0 0 12px rgba(251,191,36,0.3), 0 0 25px rgba(251,191,36,0.1); }
    100% { box-shadow: 0 3px 10px rgba(0,0,0,0.5), 0 0 18px rgba(251,191,36,0.45), 0 0 35px rgba(251,191,36,0.2); }
}
.collect-card-preview .fusion-badge-preview.x3 {
    border-color: rgba(255, 140, 0, 0.8);
    animation: fusion-badge-glow-x3 2s ease-in-out infinite alternate;
}
@keyframes fusion-badge-glow-x3 {
    0% { box-shadow: 0 3px 10px rgba(0,0,0,0.5), 0 0 14px rgba(255,140,0,0.35), 0 0 28px rgba(255,140,0,0.12); }
    100% { box-shadow: 0 3px 10px rgba(0,0,0,0.5), 0 0 22px rgba(255,140,0,0.5), 0 0 40px rgba(255,140,0,0.25); }
}
.collect-card-preview .fusion-badge-preview svg {
    width: 18px;
    height: 18px;
    fill: none;
    stroke: #fbbf24;
    filter: drop-shadow(0 0 3px rgba(251,191,36,0.5));
    position: relative;
    z-index: 2;
}
.collect-card-preview .fusion-badge-preview.x3 svg {
    stroke: #ff8c00;
    filter: drop-shadow(0 0 4px rgba(255,140,0,0.5));
}

/* Fusion badge particles */
.fusion-badge-particles {
    position: absolute;
    inset: -8px;
    pointer-events: none;
    z-index: 1;
}
.fusion-badge-particles span {
    position: absolute;
    width: 3px;
    height: 3px;
    border-radius: 50%;
    background: #fbbf24;
    box-shadow: 0 0 4px rgba(251,191,36,0.6);
    animation: fusion-particle 3s ease-in-out infinite;
}
.fusion-badge-particles span:nth-child(1) { top: 0; left: 50%; animation-delay: 0s; }
.fusion-badge-particles span:nth-child(2) { top: 20%; right: 0; animation-delay: 0.5s; }
.fusion-badge-particles span:nth-child(3) { bottom: 20%; right: 5%; animation-delay: 1s; }
.fusion-badge-particles span:nth-child(4) { bottom: 0; left: 50%; animation-delay: 1.5s; }
.fusion-badge-particles span:nth-child(5) { bottom: 20%; left: 0; animation-delay: 2s; }
.fusion-badge-particles span:nth-child(6) { top: 20%; left: 5%; animation-delay: 2.5s; }
@keyframes fusion-particle {
    0%, 100% { opacity: 0; transform: scale(0.5) translateY(0); }
    20% { opacity: 1; transform: scale(1) translateY(-3px); }
    80% { opacity: 0.6; transform: scale(0.8) translateY(-6px); }
}
.fusion-badge-preview.x3 .fusion-badge-particles span {
    background: #ff8c00;
    box-shadow: 0 0 5px rgba(255,140,0,0.7);
    width: 3.5px;
    height: 3.5px;
}

/* Bottom fade on fused preview ‚Äî darken for name readability */
.collect-card-preview .preview-image.fused-preview::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 55%;
    background: linear-gradient(to top, rgba(14,14,19,1) 18%, rgba(14,14,19,0.95) 42%, transparent);
    z-index: 3;
}

/* Fused names ‚Äî stacked vertically */
.collect-card-preview .preview-name.fused-name {
    font-size: 0.95rem;
    max-width: 100%;
}
.collect-card-preview .preview-name.fused-stacked-preview {
    display: flex;
    flex-direction: column-reverse;
    align-items: flex-start;
    gap: 4px;
    white-space: nowrap;
    font-size: 1.2rem;
    margin-bottom: 20px;
}
.collect-card-preview .preview-name.fused-stacked-preview span {
    display: block;
    line-height: 1.25;
}

/* ============================================
   FUSION ‚Äî Merge target highlight
   ============================================ */
.collect-card.large.merge-target {
    filter: brightness(1.2) !important;
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 0 0 40px rgba(255, 165, 0, 0.3) !important;
    transition: filter 0.15s, box-shadow 0.15s !important;
}

/* ============================================
   FUSED CARD ‚Äî In-hand visual
   ============================================ */
.collect-card.large.fused-card {
    position: relative;
    border: none !important;
    overflow: visible !important;
    padding: 2px;
}
.collect-card.large.fused-card .card-image {
    display: none;
}
.collect-card.large.fused-card .fused-img-wrap {
    position: absolute;
    inset: 0;
    overflow: hidden;
    background: #0a0a12;
    border-radius: 8px;
    z-index: 2;
}
.collect-card.large.fused-card .fused-img-wrap img {
    position: absolute;
    inset: -10%;
    width: 120%;
    height: 120%;
    object-fit: cover;
    object-position: center 15%;
    display: block !important;
}
/* x2 vertical fade */
.collect-card.large.fused-card .fused-img-wrap.fused-x2 img:nth-child(1) {
    mask-image: linear-gradient(to bottom, black 30%, transparent 65%);
    -webkit-mask-image: linear-gradient(to bottom, black 30%, transparent 65%);
}
.collect-card.large.fused-card .fused-img-wrap.fused-x2 img:nth-child(2) {
    mask-image: linear-gradient(to top, black 30%, transparent 65%);
    -webkit-mask-image: linear-gradient(to top, black 30%, transparent 65%);
}
/* x3 vertical fade */
.collect-card.large.fused-card .fused-img-wrap.fused-x3 img:nth-child(1) {
    mask-image: linear-gradient(to bottom, black 15%, transparent 50%);
    -webkit-mask-image: linear-gradient(to bottom, black 15%, transparent 50%);
}
.collect-card.large.fused-card .fused-img-wrap.fused-x3 img:nth-child(2) {
    z-index: 2;
    mask-image: linear-gradient(to bottom, transparent 22%, black 40%, black 60%, transparent 78%);
    -webkit-mask-image: linear-gradient(to bottom, transparent 22%, black 40%, black 60%, transparent 78%);
}
.collect-card.large.fused-card .fused-img-wrap.fused-x3 img:nth-child(3) {
    mask-image: linear-gradient(to top, black 15%, transparent 50%);
    -webkit-mask-image: linear-gradient(to top, black 15%, transparent 50%);
}

/* Breathing hue border for fused cards */
@property --fuse-angle { syntax: '<angle>'; initial-value: 0deg; inherits: false; }
@property --fuse-hue { syntax: '<number>'; initial-value: 45; inherits: false; }
.collect-card.large.fused-card::before {
    content: '';
    position: absolute;
    inset: -2.5px;
    border-radius: 10px;
    z-index: 0;
    filter: blur(0.8px);
    background: conic-gradient(
        from var(--fuse-angle),
        hsl(calc(var(--fuse-hue)), 100%, 50%),
        #000,
        hsl(calc(var(--fuse-hue) + 30), 100%, 45%),
        #1a1a2e,
        hsl(calc(var(--fuse-hue)), 100%, 50%),
        #000,
        hsl(calc(var(--fuse-hue) + 30), 100%, 45%)
    );
    animation: fuse-spin 2s linear infinite, fuse-hue 4s ease-in-out infinite alternate;
    pointer-events: none;
}
@keyframes fuse-spin { to { --fuse-angle: 360deg; } }
@keyframes fuse-hue { from { --fuse-hue: 45; } to { --fuse-hue: 25; } }

/* Fusion impact animations */
.collect-card.large.fuse-impact {
    animation: fuse-impact-glow 0.4s ease-out !important;
    transition: none !important;
    z-index: 50 !important;
}
@keyframes fuse-impact-glow {
    0%   { transform: scale(1); filter: brightness(1); }
    10%  { transform: scale(1.06); filter: brightness(1.8); }
    20%  { transform: scale(1.08); filter: brightness(2.2); }
    30%  { transform: scale(1.05); filter: brightness(1.6); }
    40%  { transform: scale(1.03); filter: brightness(1.4); }
    55%  { transform: scale(1.01); filter: brightness(1.2); }
    70%  { transform: scale(1); filter: brightness(1.1); }
    100% { transform: scale(1); filter: brightness(1); }
}
.collect-card.large.dissolving {
    animation: card-dissolve 0.2s ease-out forwards !important;
    pointer-events: none !important;
}
@keyframes card-dissolve {
    0% { opacity: 1; transform: scale(1); filter: brightness(1.8); }
    100% { opacity: 0; transform: scale(0.6); filter: brightness(3); }
}
.fusion-flash-overlay {
    position: fixed; inset: 0; z-index: 99999; pointer-events: none;
    background: radial-gradient(circle at var(--fx, 50%) var(--fy, 50%), rgba(255,215,0,0.6) 0%, rgba(255,170,0,0.2) 25%, transparent 55%);
    animation: fusion-screen-flash 0.35s ease-out forwards;
}
@keyframes fusion-screen-flash {
    0% { opacity: 1; }
    100% { opacity: 0; }
}
.fusion-burst-inline {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
    pointer-events: none; z-index: 100;
}
/* Flash circle */
.burst-flash-i {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
    width: 250px; height: 250px; border-radius: 50%;
    background: radial-gradient(circle, rgba(255,215,0,0.8) 0%, rgba(255,170,0,0.3) 30%, transparent 60%);
    opacity: 0;
}
.burst-flash-i.go { animation: bf-pop 0.3s ease-out forwards; }
@keyframes bf-pop { 0% { opacity: 1; transform: translate(-50%,-50%) scale(0.15); } 100% { opacity: 0; transform: translate(-50%,-50%) scale(1.2); } }
/* Expanding ring */
.burst-ring-i {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
    border-radius: 50%; border: 3px solid rgba(255,215,0,0.8); opacity: 0;
}
.burst-ring-i.go { animation: br-expand 0.4s ease-out forwards; }
@keyframes br-expand { 0% { width: 10px; height: 10px; opacity: 1; border-width: 3px; } 100% { width: 200px; height: 200px; opacity: 0; border-width: 1px; } }
/* Big shockwave rings */
.fusion-shockwave {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
    width: 10px; height: 10px; border-radius: 50%;
    border: 2.5px solid rgba(255,215,0,0.9);
    box-shadow: 0 0 15px rgba(255,215,0,0.5), inset 0 0 10px rgba(255,215,0,0.3);
    pointer-events: none; z-index: 101;
    animation: fuse-shockwave-expand 0.5s ease-out forwards;
}
@keyframes fuse-shockwave-expand {
    0%   { width: 10px; height: 10px; opacity: 1; border-width: 3px; }
    50%  { opacity: 0.8; border-width: 2px; }
    100% { width: 280px; height: 280px; opacity: 0; border-width: 0.5px; }
}
.fusion-shockwave.sw2 {
    animation: fuse-shockwave-expand 0.6s ease-out 0.08s forwards;
    border-color: rgba(255,140,0,0.7); opacity: 0;
}
/* Radial rays burst */
.fusion-rays {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);
    width: 0; height: 0; pointer-events: none; z-index: 100;
}
.fusion-ray {
    position: absolute; top: 0; left: 0; width: 2px; height: 60px;
    background: linear-gradient(to top, rgba(255,215,0,0.9), rgba(255,215,0,0) 80%);
    transform-origin: bottom center;
    animation: fuse-ray-shoot 0.4s ease-out forwards; opacity: 0;
}
@keyframes fuse-ray-shoot {
    0%   { height: 0; opacity: 1; }
    40%  { height: 70px; opacity: 0.9; }
    100% { height: 90px; opacity: 0; }
}
/* Burst particles */
.bp-i {
    position: absolute; top: 50%; left: 50%; border-radius: 50%;
    opacity: 0; pointer-events: none;
}

/* ============================================
   FUSED CARD ‚Äî Golden glow + shimmer + sparks
   ============================================ */
.collect-card.large.fused-card {
    box-shadow: 0 0 0 2px rgba(251,191,36,0.8), inset 0 0 12px rgba(251,191,36,0.25),
        0 0 14px rgba(251,191,36,0.7), 0 0 28px rgba(251,191,36,0.5),
        0 0 45px rgba(251,191,36,0.3), 0 0 70px rgba(251,191,36,0.18),
        0 0 100px rgba(251,191,36,0.1) !important;
    animation: fused-glow-pulse 2s ease-in-out infinite;
}
@keyframes fused-glow-pulse {
    0%, 100% {
        box-shadow: 0 0 0 2px rgba(251,191,36,0.6), inset 0 0 10px rgba(251,191,36,0.2),
            0 0 10px rgba(251,191,36,0.5), 0 0 22px rgba(251,191,36,0.35),
            0 0 38px rgba(251,191,36,0.2), 0 0 55px rgba(251,191,36,0.1);
    }
    50% {
        box-shadow: 0 0 0 2.5px rgba(255,220,120,1), inset 0 0 18px rgba(251,191,36,0.4),
            0 0 20px rgba(255,220,120,0.9), 0 0 40px rgba(251,191,36,0.6),
            0 0 70px rgba(251,191,36,0.4), 0 0 110px rgba(251,191,36,0.25);
    }
}
/* Shimmer slide */
.collect-card.large.fused-card .card-shimmer {
    position: absolute; inset: 0; border-radius: inherit; pointer-events: none; z-index: 5;
    background: linear-gradient(105deg, transparent 30%, rgba(255,215,0,0.08) 45%,
        rgba(255,255,255,0.12) 50%, rgba(255,215,0,0.08) 55%, transparent 70%);
    background-size: 250% 100%;
    animation: shimmer-slide 2.5s ease-in-out infinite;
}
@keyframes shimmer-slide { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
/* Golden halo on fused image wrap */
.collect-card.large.fused-card .fused-img-wrap::after {
    content: ''; position: absolute; inset: 0; border-radius: inherit; pointer-events: none; z-index: 4;
    background: linear-gradient(180deg, rgba(251,191,36,0.12) 0%, rgba(251,191,36,0.06) 30%,
        transparent 50%, rgba(251,191,36,0.06) 70%, rgba(251,191,36,0.12) 100%);
    animation: fused-halo-pulse 3s ease-in-out infinite alternate;
}
@keyframes fused-halo-pulse { 0% { opacity: 0.6; } 100% { opacity: 1; } }
/* Floating sparks around fused card */
.fused-particles { position: absolute; inset: -15px; pointer-events: none; overflow: visible; z-index: 8; }
.fused-spark {
    position: absolute; border-radius: 50%; opacity: 0;
    animation: fused-spark-float var(--dur,2s) ease-in-out var(--delay,0s) infinite;
}
@keyframes fused-spark-float {
    0% { opacity: 0; transform: translate(var(--sx,0),var(--sy,0)) scale(0); }
    20% { opacity: 0.9; transform: translate(var(--mx,5px),var(--my,-10px)) scale(1); }
    80% { opacity: 0.4; }
    100% { opacity: 0; transform: translate(var(--ex,10px),var(--ey,-25px)) scale(0.2); }
}
/* Fused cards keep sa-particles visible */
/* ===== COLLECT VALIDATION EFFECTS ===== */

/* Star flight element */
.collect-star-flyer {
    position: fixed;
    pointer-events: none;
    z-index: 9000;
    width: 24px;
    height: 24px;
}
.collect-star-flyer svg {
    width: 100%;
    height: 100%;
    fill: #fbbf24;
    stroke: #f59e0b;
    stroke-width: 1;
    filter: drop-shadow(0 0 10px rgba(251,191,36,0.9));
}

/* Star landing pop */
@keyframes collect-star-land-pop {
    0% { transform: scale(0.3); opacity: 0; }
    45% { transform: scale(1.7); }
    65% { transform: scale(0.85); }
    80% { transform: scale(1.1); }
    100% { transform: scale(1); opacity: 1; }
}
@keyframes collect-star-glow-after {
    0% { filter: drop-shadow(0 0 4px rgba(251,191,36,0.3)); }
    40% { filter: drop-shadow(0 0 18px rgba(251,191,36,1)) drop-shadow(0 0 35px rgba(245,158,11,0.5)); }
    100% { filter: drop-shadow(0 0 6px rgba(251,191,36,0.6)); }
}
.collect-star.star-landing {
    animation: collect-star-land-pop 0.45s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
               collect-star-glow-after 0.7s ease-in-out 0.25s !important;
}

/* Star burst rays */
.collect-star-burst-wrap {
    position: absolute;
    inset: -18px;
    pointer-events: none;
}
.collect-sbr {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 2px;
    background: linear-gradient(to top, transparent, #fbbf24);
    transform-origin: bottom center;
    opacity: 0;
    animation: collect-sbr-go 0.5s ease-out forwards;
}
@keyframes collect-sbr-go {
    0% { opacity: 0; height: 0; }
    25% { opacity: 1; height: 18px; }
    100% { opacity: 0; height: 24px; }
}

/* Sparkle twinkle */
@keyframes collect-sparkle-twinkle {
    0% { transform: scale(0) rotate(0deg); opacity: 0; }
    30% { transform: scale(1.5) rotate(90deg); opacity: 1; }
    60% { transform: scale(0.8) rotate(180deg); opacity: 0.8; }
    100% { transform: scale(0) rotate(270deg); opacity: 0; }
}

/* Screen flash for validation */
.collect-validation-flash {
    position: fixed;
    inset: 0;
    z-index: 8000;
    pointer-events: none;
    opacity: 0;
}
.collect-validation-flash.lien-flash {
    animation: collect-lien-flash 0.55s ease-out forwards;
}
.collect-validation-flash.collect-flash {
    animation: collect-collect-flash 0.8s ease-out forwards;
}
@keyframes collect-lien-flash {
    0% { opacity: 0; background: radial-gradient(circle at var(--cx) var(--cy), rgba(251,191,36,0.5) 0%, transparent 35%); }
    12% { opacity: 1; background: radial-gradient(circle at var(--cx) var(--cy), rgba(255,255,255,0.5) 0%, rgba(251,191,36,0.25) 18%, transparent 45%); }
    100% { opacity: 0; }
}
@keyframes collect-collect-flash {
    0% { opacity: 0; background: radial-gradient(circle at var(--cx) var(--cy), rgba(255,80,0,0.3) 0%, transparent 25%); }
    8% { opacity: 1; background: radial-gradient(circle at var(--cx) var(--cy), rgba(255,255,255,0.65) 0%, rgba(255,120,0,0.35) 16%, rgba(255,50,0,0.12) 38%, transparent 55%); }
    20% { opacity: 0.5; }
    100% { opacity: 0; }
}

/* Shake */
@keyframes collect-shake-a {
    0%, 100% { transform: translate(0,0); }
    20% { transform: translate(-1.5px, 1px); }
    40% { transform: translate(1.5px, -1px); }
    60% { transform: translate(-1px, 1.5px); }
    80% { transform: translate(1px, -0.5px); }
}
@keyframes collect-shake-b {
    0%, 100% { transform: translate(0,0); }
    12% { transform: translate(-2.5px, 1.5px); }
    25% { transform: translate(2px, -2px); }
    37% { transform: translate(-1.5px, 2.5px); }
    50% { transform: translate(2.5px, -1px); }
    62% { transform: translate(-2px, -1.5px); }
    75% { transform: translate(1.5px, 1.5px); }
    87% { transform: translate(-1px, -1px); }
}